const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LessonDetailPage-DuhwFZZY.js","./MathJax-BIk82PUE.js","./ExercisesPage-Bd3IRH6s.js"])))=>i.map(i=>d[i]);
(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))h(A);new MutationObserver(A=>{for(const N of A)if(N.type==="childList")for(const D of N.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&h(D)}).observe(document,{childList:!0,subtree:!0});function S(A){const N={};return A.integrity&&(N.integrity=A.integrity),A.referrerPolicy&&(N.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?N.credentials="include":A.crossOrigin==="anonymous"?N.credentials="omit":N.credentials="same-origin",N}function h(A){if(A.ep)return;A.ep=!0;const N=S(A);fetch(A.href,N)}})();function getDefaultExportFromCjs(M){return M&&M.__esModule&&Object.prototype.hasOwnProperty.call(M,"default")?M.default:M}function getAugmentedNamespace(M){if(Object.prototype.hasOwnProperty.call(M,"__esModule"))return M;var l=M.default;if(typeof l=="function"){var S=function h(){var A=!1;try{A=this instanceof h}catch{}return A?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};S.prototype=l.prototype}else S={};return Object.defineProperty(S,"__esModule",{value:!0}),Object.keys(M).forEach(function(h){var A=Object.getOwnPropertyDescriptor(M,h);Object.defineProperty(S,h,A.get?A:{enumerable:!0,get:function(){return M[h]}})}),S}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var M=Symbol.for("react.element"),l=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),i=Symbol.for("react.lazy"),a=Symbol.iterator;function y(m){return m===null||typeof m!="object"?null:(m=a&&m[a]||m["@@iterator"],typeof m=="function"?m:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o=Object.assign,_={};function x(m,P,I){this.props=m,this.context=P,this.refs=_,this.updater=I||f}x.prototype.isReactComponent={},x.prototype.setState=function(m,P){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,P,"setState")},x.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function p(){}p.prototype=x.prototype;function T(m,P,I){this.props=m,this.context=P,this.refs=_,this.updater=I||f}var U=T.prototype=new p;U.constructor=T,o(U,x.prototype),U.isPureReactComponent=!0;var O=Array.isArray,b=Object.prototype.hasOwnProperty,R={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function X(m,P,I){var z,F={},d=null,w=null;if(P!=null)for(z in P.ref!==void 0&&(w=P.ref),P.key!==void 0&&(d=""+P.key),P)b.call(P,z)&&!G.hasOwnProperty(z)&&(F[z]=P[z]);var C=arguments.length-2;if(C===1)F.children=I;else if(1<C){for(var L=Array(C),j=0;j<C;j++)L[j]=arguments[j+2];F.children=L}if(m&&m.defaultProps)for(z in C=m.defaultProps,C)F[z]===void 0&&(F[z]=C[z]);return{$$typeof:M,type:m,key:d,ref:w,props:F,_owner:R.current}}function V(m,P){return{$$typeof:M,type:m.type,key:P,ref:m.ref,props:m.props,_owner:m._owner}}function J(m){return typeof m=="object"&&m!==null&&m.$$typeof===M}function te(m){var P={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(I){return P[I]})}var ve=/\/+/g;function de(m,P){return typeof m=="object"&&m!==null&&m.key!=null?te(""+m.key):P.toString(36)}function he(m,P,I,z,F){var d=typeof m;(d==="undefined"||d==="boolean")&&(m=null);var w=!1;if(m===null)w=!0;else switch(d){case"string":case"number":w=!0;break;case"object":switch(m.$$typeof){case M:case l:w=!0}}if(w)return w=m,F=F(w),m=z===""?"."+de(w,0):z,O(F)?(I="",m!=null&&(I=m.replace(ve,"$&/")+"/"),he(F,P,I,"",function(j){return j})):F!=null&&(J(F)&&(F=V(F,I+(!F.key||w&&w.key===F.key?"":(""+F.key).replace(ve,"$&/")+"/")+m)),P.push(F)),1;if(w=0,z=z===""?".":z+":",O(m))for(var C=0;C<m.length;C++){d=m[C];var L=z+de(d,C);w+=he(d,P,I,L,F)}else if(L=y(m),typeof L=="function")for(m=L.call(m),C=0;!(d=m.next()).done;)d=d.value,L=z+de(d,C++),w+=he(d,P,I,L,F);else if(d==="object")throw P=String(m),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return w}function _e(m,P,I){if(m==null)return m;var z=[],F=0;return he(m,z,"","",function(d){return P.call(I,d,F++)}),z}function oe(m){if(m._status===-1){var P=m._result;P=P(),P.then(function(I){(m._status===0||m._status===-1)&&(m._status=1,m._result=I)},function(I){(m._status===0||m._status===-1)&&(m._status=2,m._result=I)}),m._status===-1&&(m._status=0,m._result=P)}if(m._status===1)return m._result.default;throw m._result}var B={current:null},E={transition:null},v={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:E,ReactCurrentOwner:R};function g(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:_e,forEach:function(m,P,I){_e(m,function(){P.apply(this,arguments)},I)},count:function(m){var P=0;return _e(m,function(){P++}),P},toArray:function(m){return _e(m,function(P){return P})||[]},only:function(m){if(!J(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},react_production_min.Component=x,react_production_min.Fragment=S,react_production_min.Profiler=A,react_production_min.PureComponent=T,react_production_min.StrictMode=h,react_production_min.Suspense=W,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v,react_production_min.act=g,react_production_min.cloneElement=function(m,P,I){if(m==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+m+".");var z=o({},m.props),F=m.key,d=m.ref,w=m._owner;if(P!=null){if(P.ref!==void 0&&(d=P.ref,w=R.current),P.key!==void 0&&(F=""+P.key),m.type&&m.type.defaultProps)var C=m.type.defaultProps;for(L in P)b.call(P,L)&&!G.hasOwnProperty(L)&&(z[L]=P[L]===void 0&&C!==void 0?C[L]:P[L])}var L=arguments.length-2;if(L===1)z.children=I;else if(1<L){C=Array(L);for(var j=0;j<L;j++)C[j]=arguments[j+2];z.children=C}return{$$typeof:M,type:m.type,key:F,ref:d,props:z,_owner:w}},react_production_min.createContext=function(m){return m={$$typeof:D,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},m.Provider={$$typeof:N,_context:m},m.Consumer=m},react_production_min.createElement=X,react_production_min.createFactory=function(m){var P=X.bind(null,m);return P.type=m,P},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(m){return{$$typeof:H,render:m}},react_production_min.isValidElement=J,react_production_min.lazy=function(m){return{$$typeof:i,_payload:{_status:-1,_result:m},_init:oe}},react_production_min.memo=function(m,P){return{$$typeof:u,type:m,compare:P===void 0?null:P}},react_production_min.startTransition=function(m){var P=E.transition;E.transition={};try{m()}finally{E.transition=P}},react_production_min.unstable_act=g,react_production_min.useCallback=function(m,P){return B.current.useCallback(m,P)},react_production_min.useContext=function(m){return B.current.useContext(m)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(m){return B.current.useDeferredValue(m)},react_production_min.useEffect=function(m,P){return B.current.useEffect(m,P)},react_production_min.useId=function(){return B.current.useId()},react_production_min.useImperativeHandle=function(m,P,I){return B.current.useImperativeHandle(m,P,I)},react_production_min.useInsertionEffect=function(m,P){return B.current.useInsertionEffect(m,P)},react_production_min.useLayoutEffect=function(m,P){return B.current.useLayoutEffect(m,P)},react_production_min.useMemo=function(m,P){return B.current.useMemo(m,P)},react_production_min.useReducer=function(m,P,I){return B.current.useReducer(m,P,I)},react_production_min.useRef=function(m){return B.current.useRef(m)},react_production_min.useState=function(m){return B.current.useState(m)},react_production_min.useSyncExternalStore=function(m,P,I){return B.current.useSyncExternalStore(m,P,I)},react_production_min.useTransition=function(){return B.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var M=requireReact(),l=Symbol.for("react.element"),S=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,A=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N={key:!0,ref:!0,__self:!0,__source:!0};function D(H,W,u){var i,a={},y=null,f=null;u!==void 0&&(y=""+u),W.key!==void 0&&(y=""+W.key),W.ref!==void 0&&(f=W.ref);for(i in W)h.call(W,i)&&!N.hasOwnProperty(i)&&(a[i]=W[i]);if(H&&H.defaultProps)for(i in W=H.defaultProps,W)a[i]===void 0&&(a[i]=W[i]);return{$$typeof:l,type:H,key:y,ref:f,props:a,_owner:A.current}}return reactJsxRuntime_production_min.Fragment=S,reactJsxRuntime_production_min.jsx=D,reactJsxRuntime_production_min.jsxs=D,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(M){function l(E,v){var g=E.length;E.push(v);e:for(;0<g;){var m=g-1>>>1,P=E[m];if(0<A(P,v))E[m]=v,E[g]=P,g=m;else break e}}function S(E){return E.length===0?null:E[0]}function h(E){if(E.length===0)return null;var v=E[0],g=E.pop();if(g!==v){E[0]=g;e:for(var m=0,P=E.length,I=P>>>1;m<I;){var z=2*(m+1)-1,F=E[z],d=z+1,w=E[d];if(0>A(F,g))d<P&&0>A(w,F)?(E[m]=w,E[d]=g,m=d):(E[m]=F,E[z]=g,m=z);else if(d<P&&0>A(w,g))E[m]=w,E[d]=g,m=d;else break e}}return v}function A(E,v){var g=E.sortIndex-v.sortIndex;return g!==0?g:E.id-v.id}if(typeof performance=="object"&&typeof performance.now=="function"){var N=performance;M.unstable_now=function(){return N.now()}}else{var D=Date,H=D.now();M.unstable_now=function(){return D.now()-H}}var W=[],u=[],i=1,a=null,y=3,f=!1,o=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(E){for(var v=S(u);v!==null;){if(v.callback===null)h(u);else if(v.startTime<=E)h(u),v.sortIndex=v.expirationTime,l(W,v);else break;v=S(u)}}function O(E){if(_=!1,U(E),!o)if(S(W)!==null)o=!0,oe(b);else{var v=S(u);v!==null&&B(O,v.startTime-E)}}function b(E,v){o=!1,_&&(_=!1,p(X),X=-1),f=!0;var g=y;try{for(U(v),a=S(W);a!==null&&(!(a.expirationTime>v)||E&&!te());){var m=a.callback;if(typeof m=="function"){a.callback=null,y=a.priorityLevel;var P=m(a.expirationTime<=v);v=M.unstable_now(),typeof P=="function"?a.callback=P:a===S(W)&&h(W),U(v)}else h(W);a=S(W)}if(a!==null)var I=!0;else{var z=S(u);z!==null&&B(O,z.startTime-v),I=!1}return I}finally{a=null,y=g,f=!1}}var R=!1,G=null,X=-1,V=5,J=-1;function te(){return!(M.unstable_now()-J<V)}function ve(){if(G!==null){var E=M.unstable_now();J=E;var v=!0;try{v=G(!0,E)}finally{v?de():(R=!1,G=null)}}else R=!1}var de;if(typeof T=="function")de=function(){T(ve)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,_e=he.port2;he.port1.onmessage=ve,de=function(){_e.postMessage(null)}}else de=function(){x(ve,0)};function oe(E){G=E,R||(R=!0,de())}function B(E,v){X=x(function(){E(M.unstable_now())},v)}M.unstable_IdlePriority=5,M.unstable_ImmediatePriority=1,M.unstable_LowPriority=4,M.unstable_NormalPriority=3,M.unstable_Profiling=null,M.unstable_UserBlockingPriority=2,M.unstable_cancelCallback=function(E){E.callback=null},M.unstable_continueExecution=function(){o||f||(o=!0,oe(b))},M.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<E?Math.floor(1e3/E):5},M.unstable_getCurrentPriorityLevel=function(){return y},M.unstable_getFirstCallbackNode=function(){return S(W)},M.unstable_next=function(E){switch(y){case 1:case 2:case 3:var v=3;break;default:v=y}var g=y;y=v;try{return E()}finally{y=g}},M.unstable_pauseExecution=function(){},M.unstable_requestPaint=function(){},M.unstable_runWithPriority=function(E,v){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var g=y;y=E;try{return v()}finally{y=g}},M.unstable_scheduleCallback=function(E,v,g){var m=M.unstable_now();switch(typeof g=="object"&&g!==null?(g=g.delay,g=typeof g=="number"&&0<g?m+g:m):g=m,E){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=g+P,E={id:i++,callback:v,priorityLevel:E,startTime:g,expirationTime:P,sortIndex:-1},g>m?(E.sortIndex=g,l(u,E),S(W)===null&&E===S(u)&&(_?(p(X),X=-1):_=!0,B(O,g-m))):(E.sortIndex=P,l(W,E),o||f||(o=!0,oe(b))),E},M.unstable_shouldYield=te,M.unstable_wrapCallback=function(E){var v=y;return function(){var g=y;y=v;try{return E.apply(this,arguments)}finally{y=g}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var M=requireReact(),l=requireScheduler();function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,A={};function N(e,t){D(e,t),D(e+"Capture",t)}function D(e,t){for(A[e]=t,e=0;e<t.length;e++)h.add(t[e])}var H=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i={},a={};function y(e){return W.call(a,e)?!0:W.call(i,e)?!1:u.test(e)?a[e]=!0:(i[e]=!0,!1)}function f(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o(e,t,n,r){if(t===null||typeof t>"u"||f(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _(e,t,n,r,s,c,k){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=k}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var p=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p,T);x[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p,T);x[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p,T);x[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,n,r){var s=x.hasOwnProperty(t)?x[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o(t,n,s,r)&&(n=null),r||s===null?y(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var O=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),R=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),te=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),E=Symbol.iterator;function v(e){return e===null||typeof e!="object"?null:(e=E&&e[E]||e["@@iterator"],typeof e=="function"?e:null)}var g=Object.assign,m;function P(e){if(m===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);m=t&&t[1]||""}return`
`+m+e}var I=!1;function z(e,t){if(!e||I)return"";I=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ae){var r=ae}Reflect.construct(e,[],t)}else{try{t.call()}catch(ae){r=ae}e.call(t.prototype)}else{try{throw Error()}catch(ae){r=ae}e()}}catch(ae){if(ae&&r&&typeof ae.stack=="string"){for(var s=ae.stack.split(`
`),c=r.stack.split(`
`),k=s.length-1,$=c.length-1;1<=k&&0<=$&&s[k]!==c[$];)$--;for(;1<=k&&0<=$;k--,$--)if(s[k]!==c[$]){if(k!==1||$!==1)do if(k--,$--,0>$||s[k]!==c[$]){var Y=`
`+s[k].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=k&&0<=$);break}}}finally{I=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function F(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1),e;case 11:return e=z(e.type.render,!1),e;case 1:return e=z(e.type,!0),e;default:return""}}function d(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case R:return"Portal";case V:return"Profiler";case X:return"StrictMode";case de:return"Suspense";case he:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case te:return(e.displayName||"Context")+".Consumer";case J:return(e._context.displayName||"Context")+".Provider";case ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _e:return t=e.displayName||null,t!==null?t:d(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return d(e(t))}catch{}}return null}function w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d(t);case 8:return t===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function C(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function j(e){var t=L(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(k){r=""+k,c.call(this,k)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(k){r=""+k},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function q(e){e._valueTracker||(e._valueTracker=j(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=L(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ie(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ae(e,t){var n=t.checked;return g({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function se(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=C(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function le(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function ue(e,t){le(e,t);var n=C(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fe(e,t.type,n):t.hasOwnProperty("defaultValue")&&fe(e,t.type,C(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fe(e,t,n){(t!=="number"||ie(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Se=Array.isArray;function ke(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+C(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Re(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return g({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function De(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(S(92));if(Se(n)){if(1<n.length)throw Error(S(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:C(n)}}function Ie(e,t){var n=C(t.value),r=C(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ot,it=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ot.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ts=["Webkit","ms","Moz","O"];Object.keys(Zt).forEach(function(e){ts.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]})});function Yr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function ge(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Yr(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ne=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z(e,t){if(t){if(ne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function Ee(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oe=null;function Ye(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ke=null,bt=null,wt=null;function Vt(e){if(e=Lr(e)){if(typeof Ke!="function")throw Error(S(280));var t=e.stateNode;t&&(t=gi(t),Ke(e.stateNode,e.type,t))}}function lt(e){bt?wt?wt.push(e):wt=[e]:bt=e}function en(){if(bt){var e=bt,t=wt;if(wt=bt=null,Vt(e),t)for(e=0;e<t.length;e++)Vt(t[e])}}function Nt(e,t){return e(t)}function Mn(){}var qe=!1;function Fn(e,t,n){if(qe)return e(t,n);qe=!0;try{return Nt(e,t,n)}finally{qe=!1,(bt!==null||wt!==null)&&(Mn(),en())}}function Gt(e,t){var n=e.stateNode;if(n===null)return null;var r=gi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var Dn=!1;if(H)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{Dn=!1}function Ln(e,t,n,r,s,c,k,$,Y){var ae=Array.prototype.slice.call(arguments,3);try{t.apply(n,ae)}catch(me){this.onError(me)}}var tt=!1,qt=null,dn=!1,ns=null,mu={onError:function(e){tt=!0,qt=e}};function gu(e,t,n,r,s,c,k,$,Y){tt=!1,qt=null,Ln.apply(mu,arguments)}function vu(e,t,n,r,s,c,k,$,Y){if(gu.apply(this,arguments),tt){if(tt){var ae=qt;tt=!1,qt=null}else throw Error(S(198));dn||(dn=!0,ns=ae)}}function In(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Na(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ja(e){if(In(e)!==e)throw Error(S(188))}function yu(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var c=s.alternate;if(c===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===n)return ja(s),e;if(c===r)return ja(s),t;c=c.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=c;else{for(var k=!1,$=s.child;$;){if($===n){k=!0,n=s,r=c;break}if($===r){k=!0,r=s,n=c;break}$=$.sibling}if(!k){for($=c.child;$;){if($===n){k=!0,n=c,r=s;break}if($===r){k=!0,r=c,n=s;break}$=$.sibling}if(!k)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function Ua(e){return e=yu(e),e!==null?za(e):null}function za(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=za(e);if(t!==null)return t;e=e.sibling}return null}var Ba=l.unstable_scheduleCallback,Ha=l.unstable_cancelCallback,_u=l.unstable_shouldYield,xu=l.unstable_requestPaint,Qe=l.unstable_now,Au=l.unstable_getCurrentPriorityLevel,rs=l.unstable_ImmediatePriority,Wa=l.unstable_UserBlockingPriority,Kr=l.unstable_NormalPriority,Su=l.unstable_LowPriority,$a=l.unstable_IdlePriority,Qr=null,Xt=null;function Eu(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Qr,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:ku,bu=Math.log,wu=Math.LN2;function ku(e){return e>>>=0,e===0?32:31-(bu(e)/wu|0)|0}var Jr=64,Zr=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,c=e.pingedLanes,k=n&268435455;if(k!==0){var $=k&~s;$!==0?r=gr($):(c&=k,c!==0&&(r=gr(c)))}else k=n&~s,k!==0?r=gr(k):c!==0&&(r=gr(c));if(r===0)return 0;if(t!==0&&t!==r&&(t&s)===0&&(s=r&-r,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),s=1<<n,r|=e[n],t&=~s;return r}function Cu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var k=31-jt(c),$=1<<k,Y=s[k];Y===-1?(($&n)===0||($&r)!==0)&&(s[k]=Cu($,t)):Y<=t&&(e.expiredLanes|=$),c&=~$}}function is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Va(){var e=Jr;return Jr<<=1,(Jr&4194240)===0&&(Jr=64),e}function ss(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function Tu(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jt(n),c=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~c}}function as(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ze=0;function Ga(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var qa,os,Xa,Ya,Ka,ls=!1,ti=[],hn=null,fn=null,pn=null,yr=new Map,_r=new Map,mn=[],Ru="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function xr(e,t,n,r,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Lr(t),t!==null&&os(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Mu(e,t,n,r,s){switch(t){case"focusin":return hn=xr(hn,e,t,n,r,s),!0;case"dragenter":return fn=xr(fn,e,t,n,r,s),!0;case"mouseover":return pn=xr(pn,e,t,n,r,s),!0;case"pointerover":var c=s.pointerId;return yr.set(c,xr(yr.get(c)||null,e,t,n,r,s)),!0;case"gotpointercapture":return c=s.pointerId,_r.set(c,xr(_r.get(c)||null,e,t,n,r,s)),!0}return!1}function Ja(e){var t=On(e.target);if(t!==null){var n=In(t);if(n!==null){if(t=n.tag,t===13){if(t=Na(n),t!==null){e.blockedOn=t,Ka(e.priority,function(){Xa(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oe=r,n.target.dispatchEvent(r),Oe=null}else return t=Lr(n),t!==null&&os(t),e.blockedOn=n,!1;t.shift()}return!0}function Za(e,t,n){ni(e)&&n.delete(t)}function Fu(){ls=!1,hn!==null&&ni(hn)&&(hn=null),fn!==null&&ni(fn)&&(fn=null),pn!==null&&ni(pn)&&(pn=null),yr.forEach(Za),_r.forEach(Za)}function Ar(e,t){e.blockedOn===t&&(e.blockedOn=null,ls||(ls=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Fu)))}function Sr(e){function t(s){return Ar(s,e)}if(0<ti.length){Ar(ti[0],e);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&Ar(hn,e),fn!==null&&Ar(fn,e),pn!==null&&Ar(pn,e),yr.forEach(t),_r.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Ja(n),n.blockedOn===null&&mn.shift()}var Xn=O.ReactCurrentBatchConfig,ri=!0;function Du(e,t,n,r){var s=ze,c=Xn.transition;Xn.transition=null;try{ze=1,us(e,t,n,r)}finally{ze=s,Xn.transition=c}}function Lu(e,t,n,r){var s=ze,c=Xn.transition;Xn.transition=null;try{ze=4,us(e,t,n,r)}finally{ze=s,Xn.transition=c}}function us(e,t,n,r){if(ri){var s=cs(e,t,n,r);if(s===null)Cs(e,t,r,ii,n),Qa(e,r);else if(Mu(s,e,t,n,r))r.stopPropagation();else if(Qa(e,r),t&4&&-1<Ru.indexOf(e)){for(;s!==null;){var c=Lr(s);if(c!==null&&qa(c),c=cs(e,t,n,r),c===null&&Cs(e,t,r,ii,n),c===s)break;s=c}s!==null&&r.stopPropagation()}else Cs(e,t,r,null,n)}}var ii=null;function cs(e,t,n,r){if(ii=null,e=Ye(r),e=On(e),e!==null)if(t=In(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Na(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ii=e,null}function eo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Au()){case rs:return 1;case Wa:return 4;case Kr:case Su:return 16;case $a:return 536870912;default:return 16}default:return 16}}var gn=null,ds=null,si=null;function to(){if(si)return si;var e,t=ds,n=t.length,r,s="value"in gn?gn.value:gn.textContent,c=s.length;for(e=0;e<n&&t[e]===s[e];e++);var k=n-e;for(r=1;r<=k&&t[n-r]===s[c-r];r++);return si=s.slice(e,1<r?1-r:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function no(){return!1}function kt(e){function t(n,r,s,c,k){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=c,this.target=k,this.currentTarget=null;for(var $ in e)e.hasOwnProperty($)&&(n=e[$],this[$]=n?n(c):c[$]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?oi:no,this.isPropagationStopped=no,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=kt(Yn),Er=g({},Yn,{view:0,detail:0}),Iu=kt(Er),fs,ps,br,li=g({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(fs=e.screenX-br.screenX,ps=e.screenY-br.screenY):ps=fs=0,br=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ps}}),ro=kt(li),Ou=g({},li,{dataTransfer:0}),Nu=kt(Ou),ju=g({},Er,{relatedTarget:0}),ms=kt(ju),Uu=g({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=kt(Uu),Bu=g({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hu=kt(Bu),Wu=g({},Yn,{data:0}),io=kt(Wu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gu[e])?!!t[e]:!1}function gs(){return qu}var Xu=g({},Er,{key:function(e){if(e.key){var t=$u[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yu=kt(Xu),Ku=g({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=kt(Ku),Qu=g({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),Ju=kt(Qu),Zu=g({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=kt(Zu),tc=g({},li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=kt(tc),rc=[9,13,27,32],vs=H&&"CompositionEvent"in window,wr=null;H&&"documentMode"in document&&(wr=document.documentMode);var ic=H&&"TextEvent"in window&&!wr,ao=H&&(!vs||wr&&8<wr&&11>=wr),oo=" ",lo=!1;function uo(e,t){switch(e){case"keyup":return rc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function sc(e,t){switch(e){case"compositionend":return co(t);case"keypress":return t.which!==32?null:(lo=!0,oo);case"textInput":return e=t.data,e===oo&&lo?null:e;default:return null}}function ac(e,t){if(Kn)return e==="compositionend"||!vs&&uo(e,t)?(e=to(),si=ds=gn=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ao&&t.locale!=="ko"?null:t.data;default:return null}}var oc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oc[e.type]:t==="textarea"}function fo(e,t,n,r){lt(r),t=fi(t,"onChange"),0<t.length&&(n=new hs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kr=null,Cr=null;function lc(e){Mo(e,0)}function ui(e){var t=tr(e);if(K(t))return e}function uc(e,t){if(e==="change")return t}var po=!1;if(H){var ys;if(H){var _s="oninput"in document;if(!_s){var mo=document.createElement("div");mo.setAttribute("oninput","return;"),_s=typeof mo.oninput=="function"}ys=_s}else ys=!1;po=ys&&(!document.documentMode||9<document.documentMode)}function go(){kr&&(kr.detachEvent("onpropertychange",vo),Cr=kr=null)}function vo(e){if(e.propertyName==="value"&&ui(Cr)){var t=[];fo(t,Cr,e,Ye(e)),Fn(lc,t)}}function cc(e,t,n){e==="focusin"?(go(),kr=t,Cr=n,kr.attachEvent("onpropertychange",vo)):e==="focusout"&&go()}function dc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(Cr)}function hc(e,t){if(e==="click")return ui(t)}function fc(e,t){if(e==="input"||e==="change")return ui(t)}function pc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:pc;function Pr(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!W.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _o(e,t){var n=yo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yo(n)}}function xo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ao(){for(var e=window,t=ie();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ie(e.document)}return t}function xs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mc(e){var t=Ao(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xo(n.ownerDocument.documentElement,n)){if(r!==null&&xs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,c=Math.min(r.start,s);r=r.end===void 0?c:Math.min(r.end,s),!e.extend&&c>r&&(s=r,r=c,c=s),s=_o(n,c);var k=_o(n,r);s&&k&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==k.node||e.focusOffset!==k.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>r?(e.addRange(t),e.extend(k.node,k.offset)):(t.setEnd(k.node,k.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gc=H&&"documentMode"in document&&11>=document.documentMode,Qn=null,As=null,Tr=null,Ss=!1;function So(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ss||Qn==null||Qn!==ie(r)||(r=Qn,"selectionStart"in r&&xs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tr&&Pr(Tr,r)||(Tr=r,r=fi(As,"onSelect"),0<r.length&&(t=new hs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qn)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jn={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},Es={},Eo={};H&&(Eo=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function di(e){if(Es[e])return Es[e];if(!Jn[e])return e;var t=Jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eo)return Es[e]=t[n];return e}var bo=di("animationend"),wo=di("animationiteration"),ko=di("animationstart"),Co=di("transitionend"),Po=new Map,To="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){Po.set(e,t),N(t,[e])}for(var bs=0;bs<To.length;bs++){var ws=To[bs],vc=ws.toLowerCase(),yc=ws[0].toUpperCase()+ws.slice(1);vn(vc,"on"+yc)}vn(bo,"onAnimationEnd"),vn(wo,"onAnimationIteration"),vn(ko,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(Co,"onTransitionEnd"),D("onMouseEnter",["mouseout","mouseover"]),D("onMouseLeave",["mouseout","mouseover"]),D("onPointerEnter",["pointerout","pointerover"]),D("onPointerLeave",["pointerout","pointerover"]),N("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),N("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),N("onBeforeInput",["compositionend","keypress","textInput","paste"]),N("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),N("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),N("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_c=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Ro(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vu(r,t,void 0,e),e.currentTarget=null}function Mo(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var k=r.length-1;0<=k;k--){var $=r[k],Y=$.instance,ae=$.currentTarget;if($=$.listener,Y!==c&&s.isPropagationStopped())break e;Ro(s,$,ae),c=Y}else for(k=0;k<r.length;k++){if($=r[k],Y=$.instance,ae=$.currentTarget,$=$.listener,Y!==c&&s.isPropagationStopped())break e;Ro(s,$,ae),c=Y}}}if(dn)throw e=ns,dn=!1,ns=null,e}function He(e,t){var n=t[Ds];n===void 0&&(n=t[Ds]=new Set);var r=e+"__bubble";n.has(r)||(Fo(t,e,2,!1),n.add(r))}function ks(e,t,n){var r=0;t&&(r|=4),Fo(n,e,r,t)}var hi="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[hi]){e[hi]=!0,h.forEach(function(n){n!=="selectionchange"&&(_c.has(n)||ks(n,!1,e),ks(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hi]||(t[hi]=!0,ks("selectionchange",!1,t))}}function Fo(e,t,n,r){switch(eo(t)){case 1:var s=Du;break;case 4:s=Lu;break;default:s=us}n=s.bind(null,t,n,e),s=void 0,!Dn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Cs(e,t,n,r,s){var c=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var k=r.tag;if(k===3||k===4){var $=r.stateNode.containerInfo;if($===s||$.nodeType===8&&$.parentNode===s)break;if(k===4)for(k=r.return;k!==null;){var Y=k.tag;if((Y===3||Y===4)&&(Y=k.stateNode.containerInfo,Y===s||Y.nodeType===8&&Y.parentNode===s))return;k=k.return}for(;$!==null;){if(k=On($),k===null)return;if(Y=k.tag,Y===5||Y===6){r=c=k;continue e}$=$.parentNode}}r=r.return}Fn(function(){var ae=c,me=Ye(n),ye=[];e:{var pe=Po.get(e);if(pe!==void 0){var be=hs,Ce=e;switch(e){case"keypress":if(ai(n)===0)break e;case"keydown":case"keyup":be=Yu;break;case"focusin":Ce="focus",be=ms;break;case"focusout":Ce="blur",be=ms;break;case"beforeblur":case"afterblur":be=ms;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Ju;break;case bo:case wo:case ko:be=zu;break;case Co:be=ec;break;case"scroll":be=Iu;break;case"wheel":be=nc;break;case"copy":case"cut":case"paste":be=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=so}var Pe=(t&4)!==0,Je=!Pe&&e==="scroll",ee=Pe?pe!==null?pe+"Capture":null:pe;Pe=[];for(var Q=ae,re;Q!==null;){re=Q;var xe=re.stateNode;if(re.tag===5&&xe!==null&&(re=xe,ee!==null&&(xe=Gt(Q,ee),xe!=null&&Pe.push(Fr(Q,xe,re)))),Je)break;Q=Q.return}0<Pe.length&&(pe=new be(pe,Ce,null,n,me),ye.push({event:pe,listeners:Pe}))}}if((t&7)===0){e:{if(pe=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",pe&&n!==Oe&&(Ce=n.relatedTarget||n.fromElement)&&(On(Ce)||Ce[nn]))break e;if((be||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,be?(Ce=n.relatedTarget||n.toElement,be=ae,Ce=Ce?On(Ce):null,Ce!==null&&(Je=In(Ce),Ce!==Je||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(be=null,Ce=ae),be!==Ce)){if(Pe=ro,xe="onMouseLeave",ee="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=so,xe="onPointerLeave",ee="onPointerEnter",Q="pointer"),Je=be==null?pe:tr(be),re=Ce==null?pe:tr(Ce),pe=new Pe(xe,Q+"leave",be,n,me),pe.target=Je,pe.relatedTarget=re,xe=null,On(me)===ae&&(Pe=new Pe(ee,Q+"enter",Ce,n,me),Pe.target=re,Pe.relatedTarget=Je,xe=Pe),Je=xe,be&&Ce)t:{for(Pe=be,ee=Ce,Q=0,re=Pe;re;re=Zn(re))Q++;for(re=0,xe=ee;xe;xe=Zn(xe))re++;for(;0<Q-re;)Pe=Zn(Pe),Q--;for(;0<re-Q;)ee=Zn(ee),re--;for(;Q--;){if(Pe===ee||ee!==null&&Pe===ee.alternate)break t;Pe=Zn(Pe),ee=Zn(ee)}Pe=null}else Pe=null;be!==null&&Do(ye,pe,be,Pe,!1),Ce!==null&&Je!==null&&Do(ye,Je,Ce,Pe,!0)}}e:{if(pe=ae?tr(ae):window,be=pe.nodeName&&pe.nodeName.toLowerCase(),be==="select"||be==="input"&&pe.type==="file")var Te=uc;else if(ho(pe))if(po)Te=fc;else{Te=dc;var Me=cc}else(be=pe.nodeName)&&be.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Te=hc);if(Te&&(Te=Te(e,ae))){fo(ye,Te,n,me);break e}Me&&Me(e,pe,ae),e==="focusout"&&(Me=pe._wrapperState)&&Me.controlled&&pe.type==="number"&&fe(pe,"number",pe.value)}switch(Me=ae?tr(ae):window,e){case"focusin":(ho(Me)||Me.contentEditable==="true")&&(Qn=Me,As=ae,Tr=null);break;case"focusout":Tr=As=Qn=null;break;case"mousedown":Ss=!0;break;case"contextmenu":case"mouseup":case"dragend":Ss=!1,So(ye,n,me);break;case"selectionchange":if(gc)break;case"keydown":case"keyup":So(ye,n,me)}var Fe;if(vs)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Kn?uo(e,n)&&(Le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Le="onCompositionStart");Le&&(ao&&n.locale!=="ko"&&(Kn||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Kn&&(Fe=to()):(gn=me,ds="value"in gn?gn.value:gn.textContent,Kn=!0)),Me=fi(ae,Le),0<Me.length&&(Le=new io(Le,e,null,n,me),ye.push({event:Le,listeners:Me}),Fe?Le.data=Fe:(Fe=co(n),Fe!==null&&(Le.data=Fe)))),(Fe=ic?sc(e,n):ac(e,n))&&(ae=fi(ae,"onBeforeInput"),0<ae.length&&(me=new io("onBeforeInput","beforeinput",null,n,me),ye.push({event:me,listeners:ae}),me.data=Fe))}Mo(ye,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=Gt(e,n),c!=null&&r.unshift(Fr(e,c,s)),c=Gt(e,t),c!=null&&r.push(Fr(e,c,s))),e=e.return}return r}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Do(e,t,n,r,s){for(var c=t._reactName,k=[];n!==null&&n!==r;){var $=n,Y=$.alternate,ae=$.stateNode;if(Y!==null&&Y===r)break;$.tag===5&&ae!==null&&($=ae,s?(Y=Gt(n,c),Y!=null&&k.unshift(Fr(n,Y,$))):s||(Y=Gt(n,c),Y!=null&&k.push(Fr(n,Y,$)))),n=n.return}k.length!==0&&e.push({event:t,listeners:k})}var xc=/\r\n?/g,Ac=/\u0000|\uFFFD/g;function Lo(e){return(typeof e=="string"?e:""+e).replace(xc,`
`).replace(Ac,"")}function pi(e,t,n){if(t=Lo(t),Lo(e)!==t&&n)throw Error(S(425))}function mi(){}var Ps=null,Ts=null;function Rs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ms=typeof setTimeout=="function"?setTimeout:void 0,Sc=typeof clearTimeout=="function"?clearTimeout:void 0,Io=typeof Promise=="function"?Promise:void 0,Ec=typeof queueMicrotask=="function"?queueMicrotask:typeof Io<"u"?function(e){return Io.resolve(null).then(e).catch(bc)}:Ms;function bc(e){setTimeout(function(){throw e})}function Fs(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Sr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sr(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),Yt="__reactFiber$"+er,Dr="__reactProps$"+er,nn="__reactContainer$"+er,Ds="__reactEvents$"+er,wc="__reactListeners$"+er,kc="__reactHandles$"+er;function On(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oo(e);e!==null;){if(n=e[Yt])return n;e=Oo(e)}return t}e=n,n=e.parentNode}return null}function Lr(e){return e=e[Yt]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function gi(e){return e[Dr]||null}var Ls=[],nr=-1;function _n(e){return{current:e}}function We(e){0>nr||(e.current=Ls[nr],Ls[nr]=null,nr--)}function Be(e,t){nr++,Ls[nr]=e.current,e.current=t}var xn={},ht=_n(xn),_t=_n(!1),Nn=xn;function rr(e,t){var n=e.type.contextTypes;if(!n)return xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in n)s[c]=t[c];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function vi(){We(_t),We(ht)}function No(e,t,n){if(ht.current!==xn)throw Error(S(168));Be(ht,t),Be(_t,n)}function jo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(S(108,w(e)||"Unknown",s));return g({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Nn=ht.current,Be(ht,e),Be(_t,_t.current),!0}function Uo(e,t,n){var r=e.stateNode;if(!r)throw Error(S(169));n?(e=jo(e,t,Nn),r.__reactInternalMemoizedMergedChildContext=e,We(_t),We(ht),Be(ht,e)):We(_t),Be(_t,n)}var rn=null,_i=!1,Is=!1;function zo(e){rn===null?rn=[e]:rn.push(e)}function Cc(e){_i=!0,zo(e)}function An(){if(!Is&&rn!==null){Is=!0;var e=0,t=ze;try{var n=rn;for(ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,_i=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),Ba(rs,An),s}finally{ze=t,Is=!1}}return null}var ir=[],sr=0,xi=null,Ai=0,Rt=[],Mt=0,jn=null,sn=1,an="";function Un(e,t){ir[sr++]=Ai,ir[sr++]=xi,xi=e,Ai=t}function Bo(e,t,n){Rt[Mt++]=sn,Rt[Mt++]=an,Rt[Mt++]=jn,jn=e;var r=sn;e=an;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var c=32-jt(t)+s;if(30<c){var k=s-s%5;c=(r&(1<<k)-1).toString(32),r>>=k,s-=k,sn=1<<32-jt(t)+s|n<<s|r,an=c+e}else sn=1<<c|n<<s|r,an=e}function Os(e){e.return!==null&&(Un(e,1),Bo(e,1,0))}function Ns(e){for(;e===xi;)xi=ir[--sr],ir[sr]=null,Ai=ir[--sr],ir[sr]=null;for(;e===jn;)jn=Rt[--Mt],Rt[Mt]=null,an=Rt[--Mt],Rt[Mt]=null,sn=Rt[--Mt],Rt[Mt]=null}var Ct=null,Pt=null,$e=!1,zt=null;function Ho(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,Pt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:sn,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,Pt=null,!0):!1;default:return!1}}function js(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if($e){var t=Pt;if(t){var n=t;if(!Wo(e,t)){if(js(e))throw Error(S(418));t=yn(n.nextSibling);var r=Ct;t&&Wo(e,t)?Ho(r,n):(e.flags=e.flags&-4097|2,$e=!1,Ct=e)}}else{if(js(e))throw Error(S(418));e.flags=e.flags&-4097|2,$e=!1,Ct=e}}}function $o(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Si(e){if(e!==Ct)return!1;if(!$e)return $o(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rs(e.type,e.memoizedProps)),t&&(t=Pt)){if(js(e))throw Vo(),Error(S(418));for(;t;)Ho(e,t),t=yn(t.nextSibling)}if($o(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Ct?yn(e.stateNode.nextSibling):null;return!0}function Vo(){for(var e=Pt;e;)e=yn(e.nextSibling)}function ar(){Pt=Ct=null,$e=!1}function zs(e){zt===null?zt=[e]:zt.push(e)}var Pc=O.ReactCurrentBatchConfig;function Ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,e));var s=r,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(k){var $=s.refs;k===null?delete $[c]:$[c]=k},t._stringRef=c,t)}if(typeof e!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,e))}return e}function Ei(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Go(e){var t=e._init;return t(e._payload)}function qo(e){function t(ee,Q){if(e){var re=ee.deletions;re===null?(ee.deletions=[Q],ee.flags|=16):re.push(Q)}}function n(ee,Q){if(!e)return null;for(;Q!==null;)t(ee,Q),Q=Q.sibling;return null}function r(ee,Q){for(ee=new Map;Q!==null;)Q.key!==null?ee.set(Q.key,Q):ee.set(Q.index,Q),Q=Q.sibling;return ee}function s(ee,Q){return ee=Tn(ee,Q),ee.index=0,ee.sibling=null,ee}function c(ee,Q,re){return ee.index=re,e?(re=ee.alternate,re!==null?(re=re.index,re<Q?(ee.flags|=2,Q):re):(ee.flags|=2,Q)):(ee.flags|=1048576,Q)}function k(ee){return e&&ee.alternate===null&&(ee.flags|=2),ee}function $(ee,Q,re,xe){return Q===null||Q.tag!==6?(Q=Ma(re,ee.mode,xe),Q.return=ee,Q):(Q=s(Q,re),Q.return=ee,Q)}function Y(ee,Q,re,xe){var Te=re.type;return Te===G?me(ee,Q,re.props.children,xe,re.key):Q!==null&&(Q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===oe&&Go(Te)===Q.type)?(xe=s(Q,re.props),xe.ref=Ir(ee,Q,re),xe.return=ee,xe):(xe=qi(re.type,re.key,re.props,null,ee.mode,xe),xe.ref=Ir(ee,Q,re),xe.return=ee,xe)}function ae(ee,Q,re,xe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=Fa(re,ee.mode,xe),Q.return=ee,Q):(Q=s(Q,re.children||[]),Q.return=ee,Q)}function me(ee,Q,re,xe,Te){return Q===null||Q.tag!==7?(Q=qn(re,ee.mode,xe,Te),Q.return=ee,Q):(Q=s(Q,re),Q.return=ee,Q)}function ye(ee,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Ma(""+Q,ee.mode,re),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return re=qi(Q.type,Q.key,Q.props,null,ee.mode,re),re.ref=Ir(ee,null,Q),re.return=ee,re;case R:return Q=Fa(Q,ee.mode,re),Q.return=ee,Q;case oe:var xe=Q._init;return ye(ee,xe(Q._payload),re)}if(Se(Q)||v(Q))return Q=qn(Q,ee.mode,re,null),Q.return=ee,Q;Ei(ee,Q)}return null}function pe(ee,Q,re,xe){var Te=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Te!==null?null:$(ee,Q,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return re.key===Te?Y(ee,Q,re,xe):null;case R:return re.key===Te?ae(ee,Q,re,xe):null;case oe:return Te=re._init,pe(ee,Q,Te(re._payload),xe)}if(Se(re)||v(re))return Te!==null?null:me(ee,Q,re,xe,null);Ei(ee,re)}return null}function be(ee,Q,re,xe,Te){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ee=ee.get(re)||null,$(Q,ee,""+xe,Te);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return ee=ee.get(xe.key===null?re:xe.key)||null,Y(Q,ee,xe,Te);case R:return ee=ee.get(xe.key===null?re:xe.key)||null,ae(Q,ee,xe,Te);case oe:var Me=xe._init;return be(ee,Q,re,Me(xe._payload),Te)}if(Se(xe)||v(xe))return ee=ee.get(re)||null,me(Q,ee,xe,Te,null);Ei(Q,xe)}return null}function Ce(ee,Q,re,xe){for(var Te=null,Me=null,Fe=Q,Le=Q=0,ot=null;Fe!==null&&Le<re.length;Le++){Fe.index>Le?(ot=Fe,Fe=null):ot=Fe.sibling;var je=pe(ee,Fe,re[Le],xe);if(je===null){Fe===null&&(Fe=ot);break}e&&Fe&&je.alternate===null&&t(ee,Fe),Q=c(je,Q,Le),Me===null?Te=je:Me.sibling=je,Me=je,Fe=ot}if(Le===re.length)return n(ee,Fe),$e&&Un(ee,Le),Te;if(Fe===null){for(;Le<re.length;Le++)Fe=ye(ee,re[Le],xe),Fe!==null&&(Q=c(Fe,Q,Le),Me===null?Te=Fe:Me.sibling=Fe,Me=Fe);return $e&&Un(ee,Le),Te}for(Fe=r(ee,Fe);Le<re.length;Le++)ot=be(Fe,ee,Le,re[Le],xe),ot!==null&&(e&&ot.alternate!==null&&Fe.delete(ot.key===null?Le:ot.key),Q=c(ot,Q,Le),Me===null?Te=ot:Me.sibling=ot,Me=ot);return e&&Fe.forEach(function(Rn){return t(ee,Rn)}),$e&&Un(ee,Le),Te}function Pe(ee,Q,re,xe){var Te=v(re);if(typeof Te!="function")throw Error(S(150));if(re=Te.call(re),re==null)throw Error(S(151));for(var Me=Te=null,Fe=Q,Le=Q=0,ot=null,je=re.next();Fe!==null&&!je.done;Le++,je=re.next()){Fe.index>Le?(ot=Fe,Fe=null):ot=Fe.sibling;var Rn=pe(ee,Fe,je.value,xe);if(Rn===null){Fe===null&&(Fe=ot);break}e&&Fe&&Rn.alternate===null&&t(ee,Fe),Q=c(Rn,Q,Le),Me===null?Te=Rn:Me.sibling=Rn,Me=Rn,Fe=ot}if(je.done)return n(ee,Fe),$e&&Un(ee,Le),Te;if(Fe===null){for(;!je.done;Le++,je=re.next())je=ye(ee,je.value,xe),je!==null&&(Q=c(je,Q,Le),Me===null?Te=je:Me.sibling=je,Me=je);return $e&&Un(ee,Le),Te}for(Fe=r(ee,Fe);!je.done;Le++,je=re.next())je=be(Fe,ee,Le,je.value,xe),je!==null&&(e&&je.alternate!==null&&Fe.delete(je.key===null?Le:je.key),Q=c(je,Q,Le),Me===null?Te=je:Me.sibling=je,Me=je);return e&&Fe.forEach(function(od){return t(ee,od)}),$e&&Un(ee,Le),Te}function Je(ee,Q,re,xe){if(typeof re=="object"&&re!==null&&re.type===G&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case b:e:{for(var Te=re.key,Me=Q;Me!==null;){if(Me.key===Te){if(Te=re.type,Te===G){if(Me.tag===7){n(ee,Me.sibling),Q=s(Me,re.props.children),Q.return=ee,ee=Q;break e}}else if(Me.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===oe&&Go(Te)===Me.type){n(ee,Me.sibling),Q=s(Me,re.props),Q.ref=Ir(ee,Me,re),Q.return=ee,ee=Q;break e}n(ee,Me);break}else t(ee,Me);Me=Me.sibling}re.type===G?(Q=qn(re.props.children,ee.mode,xe,re.key),Q.return=ee,ee=Q):(xe=qi(re.type,re.key,re.props,null,ee.mode,xe),xe.ref=Ir(ee,Q,re),xe.return=ee,ee=xe)}return k(ee);case R:e:{for(Me=re.key;Q!==null;){if(Q.key===Me)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){n(ee,Q.sibling),Q=s(Q,re.children||[]),Q.return=ee,ee=Q;break e}else{n(ee,Q);break}else t(ee,Q);Q=Q.sibling}Q=Fa(re,ee.mode,xe),Q.return=ee,ee=Q}return k(ee);case oe:return Me=re._init,Je(ee,Q,Me(re._payload),xe)}if(Se(re))return Ce(ee,Q,re,xe);if(v(re))return Pe(ee,Q,re,xe);Ei(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(n(ee,Q.sibling),Q=s(Q,re),Q.return=ee,ee=Q):(n(ee,Q),Q=Ma(re,ee.mode,xe),Q.return=ee,ee=Q),k(ee)):n(ee,Q)}return Je}var or=qo(!0),Xo=qo(!1),bi=_n(null),wi=null,lr=null,Bs=null;function Hs(){Bs=lr=wi=null}function Ws(e){var t=bi.current;We(bi),e._currentValue=t}function $s(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){wi=e,Bs=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(At=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(Bs!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(wi===null)throw Error(S(308));lr=e,wi.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var zn=null;function Vs(e){zn===null?zn=[e]:zn.push(e)}function Yo(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Vs(t)):(n.next=s.next,s.next=n),t.interleaved=n,on(e,r)}function on(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ne&2)!==0){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,on(e,n)}return s=r.interleaved,s===null?(t.next=t,Vs(r)):(t.next=s.next,s.next=t),r.interleaved=t,on(e,n)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,as(e,n)}}function Qo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var k={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?s=c=k:c=c.next=k,n=n.next}while(n!==null);c===null?s=c=t:c=c.next=t}else s=c=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ci(e,t,n,r){var s=e.updateQueue;Sn=!1;var c=s.firstBaseUpdate,k=s.lastBaseUpdate,$=s.shared.pending;if($!==null){s.shared.pending=null;var Y=$,ae=Y.next;Y.next=null,k===null?c=ae:k.next=ae,k=Y;var me=e.alternate;me!==null&&(me=me.updateQueue,$=me.lastBaseUpdate,$!==k&&($===null?me.firstBaseUpdate=ae:$.next=ae,me.lastBaseUpdate=Y))}if(c!==null){var ye=s.baseState;k=0,me=ae=Y=null,$=c;do{var pe=$.lane,be=$.eventTime;if((r&pe)===pe){me!==null&&(me=me.next={eventTime:be,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ce=e,Pe=$;switch(pe=t,be=n,Pe.tag){case 1:if(Ce=Pe.payload,typeof Ce=="function"){ye=Ce.call(be,ye,pe);break e}ye=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Pe.payload,pe=typeof Ce=="function"?Ce.call(be,ye,pe):Ce,pe==null)break e;ye=g({},ye,pe);break e;case 2:Sn=!0}}$.callback!==null&&$.lane!==0&&(e.flags|=64,pe=s.effects,pe===null?s.effects=[$]:pe.push($))}else be={eventTime:be,lane:pe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},me===null?(ae=me=be,Y=ye):me=me.next=be,k|=pe;if($=$.next,$===null){if($=s.shared.pending,$===null)break;pe=$,$=pe.next,pe.next=null,s.lastBaseUpdate=pe,s.shared.pending=null}}while(!0);if(me===null&&(Y=ye),s.baseState=Y,s.firstBaseUpdate=ae,s.lastBaseUpdate=me,t=s.shared.interleaved,t!==null){s=t;do k|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);Wn|=k,e.lanes=k,e.memoizedState=ye}}function Jo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var Or={},Kt=_n(Or),Nr=_n(Or),jr=_n(Or);function Bn(e){if(e===Or)throw Error(S(174));return e}function qs(e,t){switch(Be(jr,t),Be(Nr,e),Be(Kt,Or),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:et(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=et(t,e)}We(Kt),Be(Kt,t)}function cr(){We(Kt),We(Nr),We(jr)}function Zo(e){Bn(jr.current);var t=Bn(Kt.current),n=et(t,e.type);t!==n&&(Be(Nr,e),Be(Kt,n))}function Xs(e){Nr.current===e&&(We(Kt),We(Nr))}var Ve=_n(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ys=[];function Ks(){for(var e=0;e<Ys.length;e++)Ys[e]._workInProgressVersionPrimary=null;Ys.length=0}var Ti=O.ReactCurrentDispatcher,Qs=O.ReactCurrentBatchConfig,Hn=0,Ge=null,nt=null,st=null,Ri=!1,Ur=!1,zr=0,Tc=0;function ft(){throw Error(S(321))}function Js(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Zs(e,t,n,r,s,c){if(Hn=c,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ti.current=e===null||e.memoizedState===null?Dc:Lc,e=n(r,s),Ur){c=0;do{if(Ur=!1,zr=0,25<=c)throw Error(S(301));c+=1,st=nt=null,t.updateQueue=null,Ti.current=Ic,e=n(r,s)}while(Ur)}if(Ti.current=Di,t=nt!==null&&nt.next!==null,Hn=0,st=nt=Ge=null,Ri=!1,t)throw Error(S(300));return e}function ea(){var e=zr!==0;return zr=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ge.memoizedState=st=e:st=st.next=e,st}function Dt(){if(nt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=st===null?Ge.memoizedState:st.next;if(t!==null)st=t,nt=e;else{if(e===null)throw Error(S(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},st===null?Ge.memoizedState=st=e:st=st.next=e}return st}function Br(e,t){return typeof t=="function"?t(e):t}function ta(e){var t=Dt(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=nt,s=r.baseQueue,c=n.pending;if(c!==null){if(s!==null){var k=s.next;s.next=c.next,c.next=k}r.baseQueue=s=c,n.pending=null}if(s!==null){c=s.next,r=r.baseState;var $=k=null,Y=null,ae=c;do{var me=ae.lane;if((Hn&me)===me)Y!==null&&(Y=Y.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),r=ae.hasEagerState?ae.eagerState:e(r,ae.action);else{var ye={lane:me,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Y===null?($=Y=ye,k=r):Y=Y.next=ye,Ge.lanes|=me,Wn|=me}ae=ae.next}while(ae!==null&&ae!==c);Y===null?k=r:Y.next=$,Ut(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=k,t.baseQueue=Y,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do c=s.lane,Ge.lanes|=c,Wn|=c,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function na(e){var t=Dt(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,c=t.memoizedState;if(s!==null){n.pending=null;var k=s=s.next;do c=e(c,k.action),k=k.next;while(k!==s);Ut(c,t.memoizedState)||(At=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,r]}function el(){}function tl(e,t){var n=Ge,r=Dt(),s=t(),c=!Ut(r.memoizedState,s);if(c&&(r.memoizedState=s,At=!0),r=r.queue,ra(il.bind(null,n,r,e),[e]),r.getSnapshot!==t||c||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Hr(9,rl.bind(null,n,r,s,t),void 0,null),at===null)throw Error(S(349));(Hn&30)!==0||nl(n,t,s)}return s}function nl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rl(e,t,n,r){t.value=n,t.getSnapshot=r,sl(t)&&al(e)}function il(e,t,n){return n(function(){sl(t)&&al(e)})}function sl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function al(e){var t=on(e,1);t!==null&&$t(t,e,1,-1)}function ol(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:e},t.queue=e,e=e.dispatch=Fc.bind(null,Ge,e),[t.memoizedState,e]}function Hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ll(){return Dt().memoizedState}function Mi(e,t,n,r){var s=Qt();Ge.flags|=e,s.memoizedState=Hr(1|t,n,void 0,r===void 0?null:r)}function Fi(e,t,n,r){var s=Dt();r=r===void 0?null:r;var c=void 0;if(nt!==null){var k=nt.memoizedState;if(c=k.destroy,r!==null&&Js(r,k.deps)){s.memoizedState=Hr(t,n,c,r);return}}Ge.flags|=e,s.memoizedState=Hr(1|t,n,c,r)}function ul(e,t){return Mi(8390656,8,e,t)}function ra(e,t){return Fi(2048,8,e,t)}function cl(e,t){return Fi(4,2,e,t)}function dl(e,t){return Fi(4,4,e,t)}function hl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fl(e,t,n){return n=n!=null?n.concat([e]):null,Fi(4,4,hl.bind(null,t,e),n)}function ia(){}function pl(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Js(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ml(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Js(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gl(e,t,n){return(Hn&21)===0?(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n):(Ut(n,t)||(n=Va(),Ge.lanes|=n,Wn|=n,e.baseState=!0),t)}function Rc(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var r=Qs.transition;Qs.transition={};try{e(!1),t()}finally{ze=n,Qs.transition=r}}function vl(){return Dt().memoizedState}function Mc(e,t,n){var r=Cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yl(e))_l(t,n);else if(n=Yo(e,t,n,r),n!==null){var s=yt();$t(n,e,r,s),xl(n,t,r)}}function Fc(e,t,n){var r=Cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yl(e))_l(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var k=t.lastRenderedState,$=c(k,n);if(s.hasEagerState=!0,s.eagerState=$,Ut($,k)){var Y=t.interleaved;Y===null?(s.next=s,Vs(t)):(s.next=Y.next,Y.next=s),t.interleaved=s;return}}catch{}finally{}n=Yo(e,t,s,r),n!==null&&(s=yt(),$t(n,e,r,s),xl(n,t,r))}}function yl(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function _l(e,t){Ur=Ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xl(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,as(e,n)}}var Di={readContext:Ft,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Dc={readContext:Ft,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:ul,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mi(4194308,4,hl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mi(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Mc.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:ol,useDebugValue:ia,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=ol(!1),t=e[0];return e=Rc.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,s=Qt();if($e){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),at===null)throw Error(S(349));(Hn&30)!==0||nl(r,t,n)}s.memoizedState=n;var c={value:n,getSnapshot:t};return s.queue=c,ul(il.bind(null,r,c,e),[e]),r.flags|=2048,Hr(9,rl.bind(null,r,c,n,t),void 0,null),n},useId:function(){var e=Qt(),t=at.identifierPrefix;if($e){var n=an,r=sn;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tc++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lc={readContext:Ft,useCallback:pl,useContext:Ft,useEffect:ra,useImperativeHandle:fl,useInsertionEffect:cl,useLayoutEffect:dl,useMemo:ml,useReducer:ta,useRef:ll,useState:function(){return ta(Br)},useDebugValue:ia,useDeferredValue:function(e){var t=Dt();return gl(t,nt.memoizedState,e)},useTransition:function(){var e=ta(Br)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:el,useSyncExternalStore:tl,useId:vl,unstable_isNewReconciler:!1},Ic={readContext:Ft,useCallback:pl,useContext:Ft,useEffect:ra,useImperativeHandle:fl,useInsertionEffect:cl,useLayoutEffect:dl,useMemo:ml,useReducer:na,useRef:ll,useState:function(){return na(Br)},useDebugValue:ia,useDeferredValue:function(e){var t=Dt();return nt===null?t.memoizedState=e:gl(t,nt.memoizedState,e)},useTransition:function(){var e=na(Br)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:el,useSyncExternalStore:tl,useId:vl,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=g({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Li={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),s=Cn(e),c=ln(r,s);c.payload=t,n!=null&&(c.callback=n),t=En(e,c,s),t!==null&&($t(t,e,s,r),ki(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),s=Cn(e),c=ln(r,s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=En(e,c,s),t!==null&&($t(t,e,s,r),ki(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Cn(e),s=ln(n,r);s.tag=2,t!=null&&(s.callback=t),t=En(e,s,r),t!==null&&($t(t,e,r,n),ki(t,e,r))}};function Al(e,t,n,r,s,c,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,k):t.prototype&&t.prototype.isPureReactComponent?!Pr(n,r)||!Pr(s,c):!0}function Sl(e,t,n){var r=!1,s=xn,c=t.contextType;return typeof c=="object"&&c!==null?c=Ft(c):(s=xt(t)?Nn:ht.current,r=t.contextTypes,c=(r=r!=null)?rr(e,s):xn),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Li,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function El(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Li.enqueueReplaceState(t,t.state,null)}function aa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Gs(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=Ft(c):(c=xt(t)?Nn:ht.current,s.context=rr(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(sa(e,t,c,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Li.enqueueReplaceState(s,s.state,null),Ci(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function dr(e,t){try{var n="",r=t;do n+=F(r),r=r.return;while(r);var s=n}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function oa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function la(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Oc=typeof WeakMap=="function"?WeakMap:Map;function bl(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bi||(Bi=!0,Ea=r),la(e,t)},n}function wl(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){la(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){la(e,t),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var k=t.stack;this.componentDidCatch(t.value,{componentStack:k!==null?k:""})}),n}function kl(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Oc;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Kc.bind(null,e,t,n),t.then(e,e))}function Cl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pl(e,t,n,r,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,En(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Nc=O.ReactCurrentOwner,At=!1;function vt(e,t,n,r){t.child=e===null?Xo(t,null,n,r):or(t,e.child,n,r)}function Tl(e,t,n,r,s){n=n.render;var c=t.ref;return ur(t,s),r=Zs(e,t,n,r,c,s),n=ea(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,un(e,t,s)):($e&&n&&Os(t),t.flags|=1,vt(e,t,r,s),t.child)}function Rl(e,t,n,r,s){if(e===null){var c=n.type;return typeof c=="function"&&!Ra(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,Ml(e,t,c,r,s)):(e=qi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&s)===0){var k=c.memoizedProps;if(n=n.compare,n=n!==null?n:Pr,n(k,r)&&e.ref===t.ref)return un(e,t,s)}return t.flags|=1,e=Tn(c,r),e.ref=t.ref,e.return=t,t.child=e}function Ml(e,t,n,r,s){if(e!==null){var c=e.memoizedProps;if(Pr(c,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=c,(e.lanes&s)!==0)(e.flags&131072)!==0&&(At=!0);else return t.lanes=e.lanes,un(e,t,s)}return ua(e,t,n,r,s)}function Fl(e,t,n){var r=t.pendingProps,s=r.children,c=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(fr,Tt),Tt|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(fr,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=c!==null?c.baseLanes:n,Be(fr,Tt),Tt|=r}else c!==null?(r=c.baseLanes|n,t.memoizedState=null):r=n,Be(fr,Tt),Tt|=r;return vt(e,t,s,n),t.child}function Dl(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ua(e,t,n,r,s){var c=xt(n)?Nn:ht.current;return c=rr(t,c),ur(t,s),n=Zs(e,t,n,r,c,s),r=ea(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,un(e,t,s)):($e&&r&&Os(t),t.flags|=1,vt(e,t,n,s),t.child)}function Ll(e,t,n,r,s){if(xt(n)){var c=!0;yi(t)}else c=!1;if(ur(t,s),t.stateNode===null)Oi(e,t),Sl(t,n,r),aa(t,n,r,s),r=!0;else if(e===null){var k=t.stateNode,$=t.memoizedProps;k.props=$;var Y=k.context,ae=n.contextType;typeof ae=="object"&&ae!==null?ae=Ft(ae):(ae=xt(n)?Nn:ht.current,ae=rr(t,ae));var me=n.getDerivedStateFromProps,ye=typeof me=="function"||typeof k.getSnapshotBeforeUpdate=="function";ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==r||Y!==ae)&&El(t,k,r,ae),Sn=!1;var pe=t.memoizedState;k.state=pe,Ci(t,r,k,s),Y=t.memoizedState,$!==r||pe!==Y||_t.current||Sn?(typeof me=="function"&&(sa(t,n,me,r),Y=t.memoizedState),($=Sn||Al(t,n,$,r,pe,Y,ae))?(ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(t.flags|=4194308)):(typeof k.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=Y),k.props=r,k.state=Y,k.context=ae,r=$):(typeof k.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{k=t.stateNode,Ko(e,t),$=t.memoizedProps,ae=t.type===t.elementType?$:Bt(t.type,$),k.props=ae,ye=t.pendingProps,pe=k.context,Y=n.contextType,typeof Y=="object"&&Y!==null?Y=Ft(Y):(Y=xt(n)?Nn:ht.current,Y=rr(t,Y));var be=n.getDerivedStateFromProps;(me=typeof be=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==ye||pe!==Y)&&El(t,k,r,Y),Sn=!1,pe=t.memoizedState,k.state=pe,Ci(t,r,k,s);var Ce=t.memoizedState;$!==ye||pe!==Ce||_t.current||Sn?(typeof be=="function"&&(sa(t,n,be,r),Ce=t.memoizedState),(ae=Sn||Al(t,n,ae,r,pe,Ce,Y)||!1)?(me||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(r,Ce,Y),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(r,Ce,Y)),typeof k.componentDidUpdate=="function"&&(t.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===e.memoizedProps&&pe===e.memoizedState||(t.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===e.memoizedProps&&pe===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Ce),k.props=r,k.state=Ce,k.context=Y,r=ae):(typeof k.componentDidUpdate!="function"||$===e.memoizedProps&&pe===e.memoizedState||(t.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===e.memoizedProps&&pe===e.memoizedState||(t.flags|=1024),r=!1)}return ca(e,t,n,r,c,s)}function ca(e,t,n,r,s,c){Dl(e,t);var k=(t.flags&128)!==0;if(!r&&!k)return s&&Uo(t,n,!1),un(e,t,c);r=t.stateNode,Nc.current=t;var $=k&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&k?(t.child=or(t,e.child,null,c),t.child=or(t,null,$,c)):vt(e,t,$,c),t.memoizedState=r.state,s&&Uo(t,n,!0),t.child}function Il(e){var t=e.stateNode;t.pendingContext?No(e,t.pendingContext,t.pendingContext!==t.context):t.context&&No(e,t.context,!1),qs(e,t.containerInfo)}function Ol(e,t,n,r,s){return ar(),zs(s),t.flags|=256,vt(e,t,n,r),t.child}var da={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nl(e,t,n){var r=t.pendingProps,s=Ve.current,c=!1,k=(t.flags&128)!==0,$;if(($=k)||($=e!==null&&e.memoizedState===null?!1:(s&2)!==0),$?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Be(Ve,s&1),e===null)return Us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(k=r.children,e=r.fallback,c?(r=t.mode,c=t.child,k={mode:"hidden",children:k},(r&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=k):c=Xi(k,r,0,null),e=qn(e,r,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=ha(n),t.memoizedState=da,e):fa(t,k));if(s=e.memoizedState,s!==null&&($=s.dehydrated,$!==null))return jc(e,t,k,r,$,s,n);if(c){c=r.fallback,k=t.mode,s=e.child,$=s.sibling;var Y={mode:"hidden",children:r.children};return(k&1)===0&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=Y,t.deletions=null):(r=Tn(s,Y),r.subtreeFlags=s.subtreeFlags&14680064),$!==null?c=Tn($,c):(c=qn(c,k,n,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,k=e.child.memoizedState,k=k===null?ha(n):{baseLanes:k.baseLanes|n,cachePool:null,transitions:k.transitions},c.memoizedState=k,c.childLanes=e.childLanes&~n,t.memoizedState=da,r}return c=e.child,e=c.sibling,r=Tn(c,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fa(e,t){return t=Xi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,n,r){return r!==null&&zs(r),or(t,e.child,null,n),e=fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jc(e,t,n,r,s,c,k){if(n)return t.flags&256?(t.flags&=-257,r=oa(Error(S(422))),Ii(e,t,k,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=r.fallback,s=t.mode,r=Xi({mode:"visible",children:r.children},s,0,null),c=qn(c,s,k,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,(t.mode&1)!==0&&or(t,e.child,null,k),t.child.memoizedState=ha(k),t.memoizedState=da,c);if((t.mode&1)===0)return Ii(e,t,k,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var $=r.dgst;return r=$,c=Error(S(419)),r=oa(c,r,void 0),Ii(e,t,k,r)}if($=(k&e.childLanes)!==0,At||$){if(r=at,r!==null){switch(k&-k){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(r.suspendedLanes|k))!==0?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,on(e,s),$t(r,e,s,-1))}return Ta(),r=oa(Error(S(421))),Ii(e,t,k,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Qc.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,Pt=yn(s.nextSibling),Ct=t,$e=!0,zt=null,e!==null&&(Rt[Mt++]=sn,Rt[Mt++]=an,Rt[Mt++]=jn,sn=e.id,an=e.overflow,jn=t),t=fa(t,r.children),t.flags|=4096,t)}function jl(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$s(e.return,t,n)}function pa(e,t,n,r,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=s)}function Ul(e,t,n){var r=t.pendingProps,s=r.revealOrder,c=r.tail;if(vt(e,t,r.children,n),r=Ve.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jl(e,n,t);else if(e.tag===19)jl(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Be(Ve,r),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Pi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),pa(t,!1,s,n,c);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}pa(t,!0,n,null,c);break;case"together":pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=Tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uc(e,t,n){switch(t.tag){case 3:Il(t),ar();break;case 5:Zo(t);break;case 1:xt(t.type)&&yi(t);break;case 4:qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Be(bi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ve,Ve.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Nl(e,t,n):(Be(Ve,Ve.current&1),e=un(e,t,n),e!==null?e.sibling:null);Be(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Ul(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Fl(e,t,n)}return un(e,t,n)}var zl,ma,Bl,Hl;zl=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ma=function(){},Bl=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Bn(Kt.current);var c=null;switch(n){case"input":s=Ae(e,s),r=Ae(e,r),c=[];break;case"select":s=g({},s,{value:void 0}),r=g({},r,{value:void 0}),c=[];break;case"textarea":s=Re(e,s),r=Re(e,r),c=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mi)}Z(n,r);var k;n=null;for(ae in s)if(!r.hasOwnProperty(ae)&&s.hasOwnProperty(ae)&&s[ae]!=null)if(ae==="style"){var $=s[ae];for(k in $)$.hasOwnProperty(k)&&(n||(n={}),n[k]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(A.hasOwnProperty(ae)?c||(c=[]):(c=c||[]).push(ae,null));for(ae in r){var Y=r[ae];if($=s?.[ae],r.hasOwnProperty(ae)&&Y!==$&&(Y!=null||$!=null))if(ae==="style")if($){for(k in $)!$.hasOwnProperty(k)||Y&&Y.hasOwnProperty(k)||(n||(n={}),n[k]="");for(k in Y)Y.hasOwnProperty(k)&&$[k]!==Y[k]&&(n||(n={}),n[k]=Y[k])}else n||(c||(c=[]),c.push(ae,n)),n=Y;else ae==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,$=$?$.__html:void 0,Y!=null&&$!==Y&&(c=c||[]).push(ae,Y)):ae==="children"?typeof Y!="string"&&typeof Y!="number"||(c=c||[]).push(ae,""+Y):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(A.hasOwnProperty(ae)?(Y!=null&&ae==="onScroll"&&He("scroll",e),c||$===Y||(c=[])):(c=c||[]).push(ae,Y))}n&&(c=c||[]).push("style",n);var ae=c;(t.updateQueue=ae)&&(t.flags|=4)}},Hl=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wr(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zc(e,t,n){var r=t.pendingProps;switch(Ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return xt(t.type)&&vi(),pt(t),null;case 3:return r=t.stateNode,cr(),We(_t),We(ht),Ks(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zt!==null&&(ka(zt),zt=null))),ma(e,t),pt(t),null;case 5:Xs(t);var s=Bn(jr.current);if(n=t.type,e!==null&&t.stateNode!=null)Bl(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(S(166));return pt(t),null}if(e=Bn(Kt.current),Si(t)){r=t.stateNode,n=t.type;var c=t.memoizedProps;switch(r[Yt]=t,r[Dr]=c,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Rr.length;s++)He(Rr[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":se(r,c),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!c.multiple},He("invalid",r);break;case"textarea":De(r,c),He("invalid",r)}Z(n,c),s=null;for(var k in c)if(c.hasOwnProperty(k)){var $=c[k];k==="children"?typeof $=="string"?r.textContent!==$&&(c.suppressHydrationWarning!==!0&&pi(r.textContent,$,e),s=["children",$]):typeof $=="number"&&r.textContent!==""+$&&(c.suppressHydrationWarning!==!0&&pi(r.textContent,$,e),s=["children",""+$]):A.hasOwnProperty(k)&&$!=null&&k==="onScroll"&&He("scroll",r)}switch(n){case"input":q(r),ce(r,c,!0);break;case"textarea":q(r),Ue(r);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(r.onclick=mi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{k=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=k.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=k.createElement(n,{is:r.is}):(e=k.createElement(n),n==="select"&&(k=e,r.multiple?k.multiple=!0:r.size&&(k.size=r.size))):e=k.createElementNS(e,n),e[Yt]=t,e[Dr]=r,zl(e,t,!1,!1),t.stateNode=e;e:{switch(k=Ee(n,r),n){case"dialog":He("cancel",e),He("close",e),s=r;break;case"iframe":case"object":case"embed":He("load",e),s=r;break;case"video":case"audio":for(s=0;s<Rr.length;s++)He(Rr[s],e);s=r;break;case"source":He("error",e),s=r;break;case"img":case"image":case"link":He("error",e),He("load",e),s=r;break;case"details":He("toggle",e),s=r;break;case"input":se(e,r),s=Ae(e,r),He("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=g({},r,{value:void 0}),He("invalid",e);break;case"textarea":De(e,r),s=Re(e,r),He("invalid",e);break;default:s=r}Z(n,s),$=s;for(c in $)if($.hasOwnProperty(c)){var Y=$[c];c==="style"?ge(e,Y):c==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&it(e,Y)):c==="children"?typeof Y=="string"?(n!=="textarea"||Y!=="")&&gt(e,Y):typeof Y=="number"&&gt(e,""+Y):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(A.hasOwnProperty(c)?Y!=null&&c==="onScroll"&&He("scroll",e):Y!=null&&U(e,c,Y,k))}switch(n){case"input":q(e),ce(e,r,!1);break;case"textarea":q(e),Ue(e);break;case"option":r.value!=null&&e.setAttribute("value",""+C(r.value));break;case"select":e.multiple=!!r.multiple,c=r.value,c!=null?ke(e,!!r.multiple,c,!1):r.defaultValue!=null&&ke(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)Hl(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(S(166));if(n=Bn(jr.current),Bn(Kt.current),Si(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(c=r.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:pi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pi(r.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return pt(t),null;case 13:if(We(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Pt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Vo(),ar(),t.flags|=98560,c=!1;else if(c=Si(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(S(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(S(317));c[Yt]=t}else ar(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pt(t),c=!1}else zt!==null&&(ka(zt),zt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ve.current&1)!==0?rt===0&&(rt=3):Ta())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return cr(),ma(e,t),e===null&&Mr(t.stateNode.containerInfo),pt(t),null;case 10:return Ws(t.type._context),pt(t),null;case 17:return xt(t.type)&&vi(),pt(t),null;case 19:if(We(Ve),c=t.memoizedState,c===null)return pt(t),null;if(r=(t.flags&128)!==0,k=c.rendering,k===null)if(r)Wr(c,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(k=Pi(e),k!==null){for(t.flags|=128,Wr(c,!1),r=k.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)c=n,e=r,c.flags&=14680066,k=c.alternate,k===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=k.childLanes,c.lanes=k.lanes,c.child=k.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=k.memoizedProps,c.memoizedState=k.memoizedState,c.updateQueue=k.updateQueue,c.type=k.type,e=k.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(Ve,Ve.current&1|2),t.child}e=e.sibling}c.tail!==null&&Qe()>pr&&(t.flags|=128,r=!0,Wr(c,!1),t.lanes=4194304)}else{if(!r)if(e=Pi(k),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!k.alternate&&!$e)return pt(t),null}else 2*Qe()-c.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,r=!0,Wr(c,!1),t.lanes=4194304);c.isBackwards?(k.sibling=t.child,t.child=k):(n=c.last,n!==null?n.sibling=k:t.child=k,c.last=k)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Qe(),t.sibling=null,n=Ve.current,Be(Ve,r?n&1|2:n&1),t):(pt(t),null);case 22:case 23:return Pa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Tt&1073741824)!==0&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function Bc(e,t){switch(Ns(t),t.tag){case 1:return xt(t.type)&&vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cr(),We(_t),We(ht),Ks(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Xs(t),null;case 13:if(We(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ve),null;case 4:return cr(),null;case 10:return Ws(t.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var Ni=!1,mt=!1,Hc=typeof WeakSet=="function"?WeakSet:Set,we=null;function hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function ga(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var Wl=!1;function Wc(e,t){if(Ps=ri,e=Ao(),xs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var k=0,$=-1,Y=-1,ae=0,me=0,ye=e,pe=null;t:for(;;){for(var be;ye!==n||s!==0&&ye.nodeType!==3||($=k+s),ye!==c||r!==0&&ye.nodeType!==3||(Y=k+r),ye.nodeType===3&&(k+=ye.nodeValue.length),(be=ye.firstChild)!==null;)pe=ye,ye=be;for(;;){if(ye===e)break t;if(pe===n&&++ae===s&&($=k),pe===c&&++me===r&&(Y=k),(be=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=be}n=$===-1||Y===-1?null:{start:$,end:Y}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ts={focusedElem:e,selectionRange:n},ri=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var Ce=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Pe=Ce.memoizedProps,Je=Ce.memoizedState,ee=t.stateNode,Q=ee.getSnapshotBeforeUpdate(t.elementType===t.type?Pe:Bt(t.type,Pe),Je);ee.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=t.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(xe){Xe(t,t.return,xe)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return Ce=Wl,Wl=!1,Ce}function $r(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&ga(t,n,c)}s=s.next}while(s!==r)}}function ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $l(e){var t=e.alternate;t!==null&&(e.alternate=null,$l(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Dr],delete t[Ds],delete t[wc],delete t[kc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vl(e){return e.tag===5||e.tag===3||e.tag===4}function Gl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mi));else if(r!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_a(e,t,n),e=e.sibling;e!==null;)_a(e,t,n),e=e.sibling}var ut=null,Ht=!1;function bn(e,t,n){for(n=n.child;n!==null;)ql(e,t,n),n=n.sibling}function ql(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Qr,n)}catch{}switch(n.tag){case 5:mt||hr(n,t);case 6:var r=ut,s=Ht;ut=null,bn(e,t,n),ut=r,Ht=s,ut!==null&&(Ht?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Ht?(e=ut,n=n.stateNode,e.nodeType===8?Fs(e.parentNode,n):e.nodeType===1&&Fs(e,n),Sr(e)):Fs(ut,n.stateNode));break;case 4:r=ut,s=Ht,ut=n.stateNode.containerInfo,Ht=!0,bn(e,t,n),ut=r,Ht=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var c=s,k=c.destroy;c=c.tag,k!==void 0&&((c&2)!==0||(c&4)!==0)&&ga(n,t,k),s=s.next}while(s!==r)}bn(e,t,n);break;case 1:if(!mt&&(hr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch($){Xe(n,t,$)}bn(e,t,n);break;case 21:bn(e,t,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,bn(e,t,n),mt=r):bn(e,t,n);break;default:bn(e,t,n)}}function Xl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hc),t.forEach(function(r){var s=Jc.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var c=e,k=t,$=k;e:for(;$!==null;){switch($.tag){case 5:ut=$.stateNode,Ht=!1;break e;case 3:ut=$.stateNode.containerInfo,Ht=!0;break e;case 4:ut=$.stateNode.containerInfo,Ht=!0;break e}$=$.return}if(ut===null)throw Error(S(160));ql(c,k,s),ut=null,Ht=!1;var Y=s.alternate;Y!==null&&(Y.return=null),s.return=null}catch(ae){Xe(s,t,ae)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yl(t,e),t=t.sibling}function Yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),Jt(e),r&4){try{$r(3,e,e.return),ji(3,e)}catch(Pe){Xe(e,e.return,Pe)}try{$r(5,e,e.return)}catch(Pe){Xe(e,e.return,Pe)}}break;case 1:Wt(t,e),Jt(e),r&512&&n!==null&&hr(n,n.return);break;case 5:if(Wt(t,e),Jt(e),r&512&&n!==null&&hr(n,n.return),e.flags&32){var s=e.stateNode;try{gt(s,"")}catch(Pe){Xe(e,e.return,Pe)}}if(r&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,k=n!==null?n.memoizedProps:c,$=e.type,Y=e.updateQueue;if(e.updateQueue=null,Y!==null)try{$==="input"&&c.type==="radio"&&c.name!=null&&le(s,c),Ee($,k);var ae=Ee($,c);for(k=0;k<Y.length;k+=2){var me=Y[k],ye=Y[k+1];me==="style"?ge(s,ye):me==="dangerouslySetInnerHTML"?it(s,ye):me==="children"?gt(s,ye):U(s,me,ye,ae)}switch($){case"input":ue(s,c);break;case"textarea":Ie(s,c);break;case"select":var pe=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var be=c.value;be!=null?ke(s,!!c.multiple,be,!1):pe!==!!c.multiple&&(c.defaultValue!=null?ke(s,!!c.multiple,c.defaultValue,!0):ke(s,!!c.multiple,c.multiple?[]:"",!1))}s[Dr]=c}catch(Pe){Xe(e,e.return,Pe)}}break;case 6:if(Wt(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(S(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(Pe){Xe(e,e.return,Pe)}}break;case 3:if(Wt(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sr(t.containerInfo)}catch(Pe){Xe(e,e.return,Pe)}break;case 4:Wt(t,e),Jt(e);break;case 13:Wt(t,e),Jt(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(Sa=Qe())),r&4&&Xl(e);break;case 22:if(me=n!==null&&n.memoizedState!==null,e.mode&1?(mt=(ae=mt)||me,Wt(t,e),mt=ae):Wt(t,e),Jt(e),r&8192){if(ae=e.memoizedState!==null,(e.stateNode.isHidden=ae)&&!me&&(e.mode&1)!==0)for(we=e,me=e.child;me!==null;){for(ye=we=me;we!==null;){switch(pe=we,be=pe.child,pe.tag){case 0:case 11:case 14:case 15:$r(4,pe,pe.return);break;case 1:hr(pe,pe.return);var Ce=pe.stateNode;if(typeof Ce.componentWillUnmount=="function"){r=pe,n=pe.return;try{t=r,Ce.props=t.memoizedProps,Ce.state=t.memoizedState,Ce.componentWillUnmount()}catch(Pe){Xe(r,n,Pe)}}break;case 5:hr(pe,pe.return);break;case 22:if(pe.memoizedState!==null){Jl(ye);continue}}be!==null?(be.return=pe,we=be):Jl(ye)}me=me.sibling}e:for(me=null,ye=e;;){if(ye.tag===5){if(me===null){me=ye;try{s=ye.stateNode,ae?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):($=ye.stateNode,Y=ye.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,$.style.display=Yr("display",k))}catch(Pe){Xe(e,e.return,Pe)}}}else if(ye.tag===6){if(me===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(Pe){Xe(e,e.return,Pe)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===e)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===e)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===e)break e;me===ye&&(me=null),ye=ye.return}me===ye&&(me=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Wt(t,e),Jt(e),r&4&&Xl(e);break;case 21:break;default:Wt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vl(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gt(s,""),r.flags&=-33);var c=Gl(e);_a(e,c,s);break;case 3:case 4:var k=r.stateNode.containerInfo,$=Gl(e);ya(e,$,k);break;default:throw Error(S(161))}}catch(Y){Xe(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $c(e,t,n){we=e,Kl(e)}function Kl(e,t,n){for(var r=(e.mode&1)!==0;we!==null;){var s=we,c=s.child;if(s.tag===22&&r){var k=s.memoizedState!==null||Ni;if(!k){var $=s.alternate,Y=$!==null&&$.memoizedState!==null||mt;$=Ni;var ae=mt;if(Ni=k,(mt=Y)&&!ae)for(we=s;we!==null;)k=we,Y=k.child,k.tag===22&&k.memoizedState!==null?Zl(s):Y!==null?(Y.return=k,we=Y):Zl(s);for(;c!==null;)we=c,Kl(c),c=c.sibling;we=s,Ni=$,mt=ae}Ql(e)}else(s.subtreeFlags&8772)!==0&&c!==null?(c.return=s,we=c):Ql(e)}}function Ql(e){for(;we!==null;){var t=we;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:mt||ji(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Bt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Jo(t,c,r);break;case 3:var k=t.updateQueue;if(k!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jo(t,k,n)}break;case 5:var $=t.stateNode;if(n===null&&t.flags&4){n=$;var Y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&n.focus();break;case"img":Y.src&&(n.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ae=t.alternate;if(ae!==null){var me=ae.memoizedState;if(me!==null){var ye=me.dehydrated;ye!==null&&Sr(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}mt||t.flags&512&&va(t)}catch(pe){Xe(t,t.return,pe)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function Jl(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function Zl(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ji(4,t)}catch(Y){Xe(t,n,Y)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(Y){Xe(t,s,Y)}}var c=t.return;try{va(t)}catch(Y){Xe(t,c,Y)}break;case 5:var k=t.return;try{va(t)}catch(Y){Xe(t,k,Y)}}}catch(Y){Xe(t,t.return,Y)}if(t===e){we=null;break}var $=t.sibling;if($!==null){$.return=t.return,we=$;break}we=t.return}}var Vc=Math.ceil,Ui=O.ReactCurrentDispatcher,xa=O.ReactCurrentOwner,Lt=O.ReactCurrentBatchConfig,Ne=0,at=null,Ze=null,ct=0,Tt=0,fr=_n(0),rt=0,Vr=null,Wn=0,zi=0,Aa=0,Gr=null,St=null,Sa=0,pr=1/0,cn=null,Bi=!1,Ea=null,wn=null,Hi=!1,kn=null,Wi=0,qr=0,ba=null,$i=-1,Vi=0;function yt(){return(Ne&6)!==0?Qe():$i!==-1?$i:$i=Qe()}function Cn(e){return(e.mode&1)===0?1:(Ne&2)!==0&&ct!==0?ct&-ct:Pc.transition!==null?(Vi===0&&(Vi=Va()),Vi):(e=ze,e!==0||(e=window.event,e=e===void 0?16:eo(e.type)),e)}function $t(e,t,n,r){if(50<qr)throw qr=0,ba=null,Error(S(185));vr(e,n,r),((Ne&2)===0||e!==at)&&(e===at&&((Ne&2)===0&&(zi|=n),rt===4&&Pn(e,ct)),Et(e,r),n===1&&Ne===0&&(t.mode&1)===0&&(pr=Qe()+500,_i&&An()))}function Et(e,t){var n=e.callbackNode;Pu(e,t);var r=ei(e,e===at?ct:0);if(r===0)n!==null&&Ha(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ha(n),t===1)e.tag===0?Cc(tu.bind(null,e)):zo(tu.bind(null,e)),Ec(function(){(Ne&6)===0&&An()}),n=null;else{switch(Ga(r)){case 1:n=rs;break;case 4:n=Wa;break;case 16:n=Kr;break;case 536870912:n=$a;break;default:n=Kr}n=uu(n,eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eu(e,t){if($i=-1,Vi=0,(Ne&6)!==0)throw Error(S(327));var n=e.callbackNode;if(mr()&&e.callbackNode!==n)return null;var r=ei(e,e===at?ct:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Gi(e,r);else{t=r;var s=Ne;Ne|=2;var c=ru();(at!==e||ct!==t)&&(cn=null,pr=Qe()+500,Vn(e,t));do try{Xc();break}catch($){nu(e,$)}while(!0);Hs(),Ui.current=c,Ne=s,Ze!==null?t=0:(at=null,ct=0,t=rt)}if(t!==0){if(t===2&&(s=is(e),s!==0&&(r=s,t=wa(e,s))),t===1)throw n=Vr,Vn(e,0),Pn(e,r),Et(e,Qe()),n;if(t===6)Pn(e,r);else{if(s=e.current.alternate,(r&30)===0&&!Gc(s)&&(t=Gi(e,r),t===2&&(c=is(e),c!==0&&(r=c,t=wa(e,c))),t===1))throw n=Vr,Vn(e,0),Pn(e,r),Et(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(S(345));case 2:Gn(e,St,cn);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=Sa+500-Qe(),10<t)){if(ei(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ms(Gn.bind(null,e,St,cn),t);break}Gn(e,St,cn);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var k=31-jt(r);c=1<<k,k=t[k],k>s&&(s=k),r&=~c}if(r=s,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vc(r/1960))-r,10<r){e.timeoutHandle=Ms(Gn.bind(null,e,St,cn),r);break}Gn(e,St,cn);break;case 5:Gn(e,St,cn);break;default:throw Error(S(329))}}}return Et(e,Qe()),e.callbackNode===n?eu.bind(null,e):null}function wa(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=Gi(e,t),e!==2&&(t=St,St=n,t!==null&&ka(t)),e}function ka(e){St===null?St=e:St.push.apply(St,e)}function Gc(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],c=s.getSnapshot;s=s.value;try{if(!Ut(c(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Aa,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function tu(e){if((Ne&6)!==0)throw Error(S(327));mr();var t=ei(e,0);if((t&1)===0)return Et(e,Qe()),null;var n=Gi(e,t);if(e.tag!==0&&n===2){var r=is(e);r!==0&&(t=r,n=wa(e,r))}if(n===1)throw n=Vr,Vn(e,0),Pn(e,t),Et(e,Qe()),n;if(n===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gn(e,St,cn),Et(e,Qe()),null}function Ca(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(pr=Qe()+500,_i&&An())}}function $n(e){kn!==null&&kn.tag===0&&(Ne&6)===0&&mr();var t=Ne;Ne|=1;var n=Lt.transition,r=ze;try{if(Lt.transition=null,ze=1,e)return e()}finally{ze=r,Lt.transition=n,Ne=t,(Ne&6)===0&&An()}}function Pa(){Tt=fr.current,We(fr)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sc(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(Ns(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vi();break;case 3:cr(),We(_t),We(ht),Ks();break;case 5:Xs(r);break;case 4:cr();break;case 13:We(Ve);break;case 19:We(Ve);break;case 10:Ws(r.type._context);break;case 22:case 23:Pa()}n=n.return}if(at=e,Ze=e=Tn(e.current,null),ct=Tt=t,rt=0,Vr=null,Aa=zi=Wn=0,St=Gr=null,zn!==null){for(t=0;t<zn.length;t++)if(n=zn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,c=n.pending;if(c!==null){var k=c.next;c.next=s,r.next=k}n.pending=r}zn=null}return e}function nu(e,t){do{var n=Ze;try{if(Hs(),Ti.current=Di,Ri){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ri=!1}if(Hn=0,st=nt=Ge=null,Ur=!1,zr=0,xa.current=null,n===null||n.return===null){rt=1,Vr=t,Ze=null;break}e:{var c=e,k=n.return,$=n,Y=t;if(t=ct,$.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ae=Y,me=$,ye=me.tag;if((me.mode&1)===0&&(ye===0||ye===11||ye===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var be=Cl(k);if(be!==null){be.flags&=-257,Pl(be,k,$,c,t),be.mode&1&&kl(c,ae,t),t=be,Y=ae;var Ce=t.updateQueue;if(Ce===null){var Pe=new Set;Pe.add(Y),t.updateQueue=Pe}else Ce.add(Y);break e}else{if((t&1)===0){kl(c,ae,t),Ta();break e}Y=Error(S(426))}}else if($e&&$.mode&1){var Je=Cl(k);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Pl(Je,k,$,c,t),zs(dr(Y,$));break e}}c=Y=dr(Y,$),rt!==4&&(rt=2),Gr===null?Gr=[c]:Gr.push(c),c=k;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var ee=bl(c,Y,t);Qo(c,ee);break e;case 1:$=Y;var Q=c.type,re=c.stateNode;if((c.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(wn===null||!wn.has(re)))){c.flags|=65536,t&=-t,c.lanes|=t;var xe=wl(c,$,t);Qo(c,xe);break e}}c=c.return}while(c!==null)}su(n)}catch(Te){t=Te,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function ru(){var e=Ui.current;return Ui.current=Di,e===null?Di:e}function Ta(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||(Wn&268435455)===0&&(zi&268435455)===0||Pn(at,ct)}function Gi(e,t){var n=Ne;Ne|=2;var r=ru();(at!==e||ct!==t)&&(cn=null,Vn(e,t));do try{qc();break}catch(s){nu(e,s)}while(!0);if(Hs(),Ne=n,Ui.current=r,Ze!==null)throw Error(S(261));return at=null,ct=0,rt}function qc(){for(;Ze!==null;)iu(Ze)}function Xc(){for(;Ze!==null&&!_u();)iu(Ze)}function iu(e){var t=lu(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?su(e):Ze=t,xa.current=null}function su(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zc(n,t,Tt),n!==null){Ze=n;return}}else{if(n=Bc(n,t),n!==null){n.flags&=32767,Ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Ze=null;return}}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);rt===0&&(rt=5)}function Gn(e,t,n){var r=ze,s=Lt.transition;try{Lt.transition=null,ze=1,Yc(e,t,n,r)}finally{Lt.transition=s,ze=r}return null}function Yc(e,t,n,r){do mr();while(kn!==null);if((Ne&6)!==0)throw Error(S(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Tu(e,c),e===at&&(Ze=at=null,ct=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Hi||(Hi=!0,uu(Kr,function(){return mr(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=Lt.transition,Lt.transition=null;var k=ze;ze=1;var $=Ne;Ne|=4,xa.current=null,Wc(e,n),Yl(n,e),mc(Ts),ri=!!Ps,Ts=Ps=null,e.current=n,$c(n),xu(),Ne=$,ze=k,Lt.transition=c}else e.current=n;if(Hi&&(Hi=!1,kn=e,Wi=s),c=e.pendingLanes,c===0&&(wn=null),Eu(n.stateNode),Et(e,Qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bi)throw Bi=!1,e=Ea,Ea=null,e;return(Wi&1)!==0&&e.tag!==0&&mr(),c=e.pendingLanes,(c&1)!==0?e===ba?qr++:(qr=0,ba=e):qr=0,An(),null}function mr(){if(kn!==null){var e=Ga(Wi),t=Lt.transition,n=ze;try{if(Lt.transition=null,ze=16>e?16:e,kn===null)var r=!1;else{if(e=kn,kn=null,Wi=0,(Ne&6)!==0)throw Error(S(331));var s=Ne;for(Ne|=4,we=e.current;we!==null;){var c=we,k=c.child;if((we.flags&16)!==0){var $=c.deletions;if($!==null){for(var Y=0;Y<$.length;Y++){var ae=$[Y];for(we=ae;we!==null;){var me=we;switch(me.tag){case 0:case 11:case 15:$r(8,me,c)}var ye=me.child;if(ye!==null)ye.return=me,we=ye;else for(;we!==null;){me=we;var pe=me.sibling,be=me.return;if($l(me),me===ae){we=null;break}if(pe!==null){pe.return=be,we=pe;break}we=be}}}var Ce=c.alternate;if(Ce!==null){var Pe=Ce.child;if(Pe!==null){Ce.child=null;do{var Je=Pe.sibling;Pe.sibling=null,Pe=Je}while(Pe!==null)}}we=c}}if((c.subtreeFlags&2064)!==0&&k!==null)k.return=c,we=k;else e:for(;we!==null;){if(c=we,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:$r(9,c,c.return)}var ee=c.sibling;if(ee!==null){ee.return=c.return,we=ee;break e}we=c.return}}var Q=e.current;for(we=Q;we!==null;){k=we;var re=k.child;if((k.subtreeFlags&2064)!==0&&re!==null)re.return=k,we=re;else e:for(k=Q;we!==null;){if($=we,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:ji(9,$)}}catch(Te){Xe($,$.return,Te)}if($===k){we=null;break e}var xe=$.sibling;if(xe!==null){xe.return=$.return,we=xe;break e}we=$.return}}if(Ne=s,An(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Qr,e)}catch{}r=!0}return r}finally{ze=n,Lt.transition=t}}return!1}function au(e,t,n){t=dr(n,t),t=bl(e,t,1),e=En(e,t,1),t=yt(),e!==null&&(vr(e,1,t),Et(e,t))}function Xe(e,t,n){if(e.tag===3)au(e,e,n);else for(;t!==null;){if(t.tag===3){au(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){e=dr(n,e),e=wl(t,e,1),t=En(t,e,1),e=yt(),t!==null&&(vr(t,1,e),Et(t,e));break}}t=t.return}}function Kc(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,at===e&&(ct&n)===n&&(rt===4||rt===3&&(ct&130023424)===ct&&500>Qe()-Sa?Vn(e,0):Aa|=n),Et(e,t)}function ou(e,t){t===0&&((e.mode&1)===0?t=1:(t=Zr,Zr<<=1,(Zr&130023424)===0&&(Zr=4194304)));var n=yt();e=on(e,t),e!==null&&(vr(e,t,n),Et(e,n))}function Qc(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ou(e,n)}function Jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(t),ou(e,n)}var lu;lu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)At=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return At=!1,Uc(e,t,n);At=(e.flags&131072)!==0}else At=!1,$e&&(t.flags&1048576)!==0&&Bo(t,Ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oi(e,t),e=t.pendingProps;var s=rr(t,ht.current);ur(t,n),s=Zs(null,t,r,e,s,n);var c=ea();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(c=!0,yi(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gs(t),s.updater=Li,t.stateNode=s,s._reactInternals=t,aa(t,r,e,n),t=ca(null,t,r,!0,c,n)):(t.tag=0,$e&&c&&Os(t),vt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ed(r),e=Bt(r,e),s){case 0:t=ua(null,t,r,e,n);break e;case 1:t=Ll(null,t,r,e,n);break e;case 11:t=Tl(null,t,r,e,n);break e;case 14:t=Rl(null,t,r,Bt(r.type,e),n);break e}throw Error(S(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),ua(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),Ll(e,t,r,s,n);case 3:e:{if(Il(t),e===null)throw Error(S(387));r=t.pendingProps,c=t.memoizedState,s=c.element,Ko(e,t),Ci(t,r,null,n);var k=t.memoizedState;if(r=k.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=dr(Error(S(423)),t),t=Ol(e,t,r,n,s);break e}else if(r!==s){s=dr(Error(S(424)),t),t=Ol(e,t,r,n,s);break e}else for(Pt=yn(t.stateNode.containerInfo.firstChild),Ct=t,$e=!0,zt=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ar(),r===s){t=un(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),e===null&&Us(t),r=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,k=s.children,Rs(r,s)?k=null:c!==null&&Rs(r,c)&&(t.flags|=32),Dl(e,t),vt(e,t,k,n),t.child;case 6:return e===null&&Us(t),null;case 13:return Nl(e,t,n);case 4:return qs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=or(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),Tl(e,t,r,s,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,c=t.memoizedProps,k=s.value,Be(bi,r._currentValue),r._currentValue=k,c!==null)if(Ut(c.value,k)){if(c.children===s.children&&!_t.current){t=un(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var $=c.dependencies;if($!==null){k=c.child;for(var Y=$.firstContext;Y!==null;){if(Y.context===r){if(c.tag===1){Y=ln(-1,n&-n),Y.tag=2;var ae=c.updateQueue;if(ae!==null){ae=ae.shared;var me=ae.pending;me===null?Y.next=Y:(Y.next=me.next,me.next=Y),ae.pending=Y}}c.lanes|=n,Y=c.alternate,Y!==null&&(Y.lanes|=n),$s(c.return,n,t),$.lanes|=n;break}Y=Y.next}}else if(c.tag===10)k=c.type===t.type?null:c.child;else if(c.tag===18){if(k=c.return,k===null)throw Error(S(341));k.lanes|=n,$=k.alternate,$!==null&&($.lanes|=n),$s(k,n,t),k=c.sibling}else k=c.child;if(k!==null)k.return=c;else for(k=c;k!==null;){if(k===t){k=null;break}if(c=k.sibling,c!==null){c.return=k.return,k=c;break}k=k.return}c=k}vt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ur(t,n),s=Ft(s),r=r(s),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,s=Bt(r,t.pendingProps),s=Bt(r.type,s),Rl(e,t,r,s,n);case 15:return Ml(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bt(r,s),Oi(e,t),t.tag=1,xt(r)?(e=!0,yi(t)):e=!1,ur(t,n),Sl(t,r,s),aa(t,r,s,n),ca(null,t,r,!0,e,n);case 19:return Ul(e,t,n);case 22:return Fl(e,t,n)}throw Error(S(156,t.tag))};function uu(e,t){return Ba(e,t)}function Zc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new Zc(e,t,n,r)}function Ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ed(e){if(typeof e=="function")return Ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ve)return 11;if(e===_e)return 14}return 2}function Tn(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qi(e,t,n,r,s,c){var k=2;if(r=e,typeof e=="function")Ra(e)&&(k=1);else if(typeof e=="string")k=5;else e:switch(e){case G:return qn(n.children,s,c,t);case X:k=8,s|=8;break;case V:return e=It(12,n,t,s|2),e.elementType=V,e.lanes=c,e;case de:return e=It(13,n,t,s),e.elementType=de,e.lanes=c,e;case he:return e=It(19,n,t,s),e.elementType=he,e.lanes=c,e;case B:return Xi(n,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:k=10;break e;case te:k=9;break e;case ve:k=11;break e;case _e:k=14;break e;case oe:k=16,r=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=It(k,n,t,s),t.elementType=e,t.type=r,t.lanes=c,t}function qn(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function Xi(e,t,n,r){return e=It(22,e,r,t),e.elementType=B,e.lanes=n,e.stateNode={isHidden:!1},e}function Ma(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Fa(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function td(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Da(e,t,n,r,s,c,k,$,Y){return e=new td(e,t,n,$,Y),t===1?(t=1,c===!0&&(t|=8)):t=0,c=It(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gs(c),e}function nd(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cu(e){if(!e)return xn;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var n=e.type;if(xt(n))return jo(e,n,t)}return t}function du(e,t,n,r,s,c,k,$,Y){return e=Da(n,r,!0,e,s,c,k,$,Y),e.context=cu(null),n=e.current,r=yt(),s=Cn(n),c=ln(r,s),c.callback=t??null,En(n,c,s),e.current.lanes=s,vr(e,s,r),Et(e,r),e}function Yi(e,t,n,r){var s=t.current,c=yt(),k=Cn(s);return n=cu(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(c,k),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=En(s,t,k),e!==null&&($t(e,s,k,c),ki(e,s,k)),k}function Ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function La(e,t){hu(e,t),(e=e.alternate)&&hu(e,t)}function rd(){return null}var fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ia(e){this._internalRoot=e}Qi.prototype.render=Ia.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));Yi(e,t,null,null)},Qi.prototype.unmount=Ia.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){Yi(null,e,null,null)}),t[nn]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ya();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&Ja(e)}};function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pu(){}function id(e,t,n,r,s){if(s){if(typeof r=="function"){var c=r;r=function(){var ae=Ki(k);c.call(ae)}}var k=du(t,r,e,0,null,!1,!1,"",pu);return e._reactRootContainer=k,e[nn]=k.current,Mr(e.nodeType===8?e.parentNode:e),$n(),k}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var $=r;r=function(){var ae=Ki(Y);$.call(ae)}}var Y=Da(e,0,!1,null,null,!1,!1,"",pu);return e._reactRootContainer=Y,e[nn]=Y.current,Mr(e.nodeType===8?e.parentNode:e),$n(function(){Yi(t,Y,n,r)}),Y}function Zi(e,t,n,r,s){var c=n._reactRootContainer;if(c){var k=c;if(typeof s=="function"){var $=s;s=function(){var Y=Ki(k);$.call(Y)}}Yi(t,k,e,s)}else k=id(n,t,e,s,r);return Ki(k)}qa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gr(t.pendingLanes);n!==0&&(as(t,n|1),Et(t,Qe()),(Ne&6)===0&&(pr=Qe()+500,An()))}break;case 13:$n(function(){var r=on(e,1);if(r!==null){var s=yt();$t(r,e,1,s)}}),La(e,1)}},os=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var n=yt();$t(t,e,134217728,n)}La(e,134217728)}},Xa=function(e){if(e.tag===13){var t=Cn(e),n=on(e,t);if(n!==null){var r=yt();$t(n,e,t,r)}La(e,t)}},Ya=function(){return ze},Ka=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}},Ke=function(e,t,n){switch(t){case"input":if(ue(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=gi(r);if(!s)throw Error(S(90));K(r),ue(r,s)}}}break;case"textarea":Ie(e,n);break;case"select":t=n.value,t!=null&&ke(e,!!n.multiple,t,!1)}},Nt=Ca,Mn=$n;var sd={usingClientEntryPoint:!1,Events:[Lr,tr,gi,lt,en,Ca]},Xr={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ua(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||rd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Qr=es.inject(ad),Xt=es}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sd,reactDom_production_min.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oa(t))throw Error(S(200));return nd(e,t,null,n)},reactDom_production_min.createRoot=function(e,t){if(!Oa(e))throw Error(S(299));var n=!1,r="",s=fu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Da(e,1,!1,null,null,n,!1,r,s),e[nn]=t.current,Mr(e.nodeType===8?e.parentNode:e),new Ia(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Ua(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return $n(e)},reactDom_production_min.hydrate=function(e,t,n){if(!Ji(t))throw Error(S(200));return Zi(null,e,t,!0,n)},reactDom_production_min.hydrateRoot=function(e,t,n){if(!Oa(e))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,c="",k=fu;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(k=n.onRecoverableError)),t=du(t,null,e,1,n??null,s,!1,c,k),e[nn]=t.current,Mr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qi(t)},reactDom_production_min.render=function(e,t,n){if(!Ji(t))throw Error(S(200));return Zi(null,e,t,!1,n)},reactDom_production_min.unmountComponentAtNode=function(e){if(!Ji(e))throw Error(S(40));return e._reactRootContainer?($n(function(){Zi(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Ca,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ji(n))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Zi(e,t,n,!1,r)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function M(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M)}catch(l){console.error(l)}}return M(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var M=requireReactDom();return client.createRoot=M.createRoot,client.hydrateRoot=M.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),scriptRel="modulepreload",assetsURL=function(M,l){return new URL(M,l).href},seen={},__vitePreload=function(l,S,h){let A=Promise.resolve();if(S&&S.length>0){let u=function(i){return Promise.all(i.map(a=>Promise.resolve(a).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const D=document.getElementsByTagName("link"),H=document.querySelector("meta[property=csp-nonce]"),W=H?.nonce||H?.getAttribute("nonce");A=u(S.map(i=>{if(i=assetsURL(i,h),i in seen)return;seen[i]=!0;const a=i.endsWith(".css"),y=a?'[rel="stylesheet"]':"";if(h)for(let o=D.length-1;o>=0;o--){const _=D[o];if(_.href===i&&(!a||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${y}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":scriptRel,a||(f.as="script"),f.crossOrigin="",f.href=i,W&&f.setAttribute("nonce",W),document.head.appendChild(f),a)return new Promise((o,_)=>{f.addEventListener("load",o),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${i}`)))})}))}function N(D){const H=new Event("vite:preloadError",{cancelable:!0});if(H.payload=D,window.dispatchEvent(H),!H.defaultPrevented)throw D}return A.then(D=>{for(const H of D||[])H.status==="rejected"&&N(H.reason);return l().catch(N)})};var __assign=function(){return(__assign=Object.assign||function(M){for(var l,S=1,h=arguments.length;S<h;S++)for(var A in l=arguments[S])Object.prototype.hasOwnProperty.call(l,A)&&(M[A]=l[A]);return M}).apply(this,arguments)},v2Promise,v3Promise,MathJaxBaseContext=reactExports.createContext(void 0),DEFAULT_V2_SRC="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",DEFAULT_V3_SRC="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",MathJaxContext=function(a){var l=a.config,S=a.version,S=S===void 0?3:S,h=a.src,h=h===void 0?S===2?DEFAULT_V2_SRC:DEFAULT_V3_SRC:h,A=a.onStartup,N=a.onLoad,W=a.asyncLoad,D=W!==void 0&&W,H=a.onError,W=a.typesettingOptions,u=a.renderMode,u=u===void 0?"post":u,i=a.hideUntilTypeset,a=a.children,f=reactExports.useContext(MathJaxBaseContext);if(f?.version!==void 0&&f?.version!==S)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(S===2&&v3Promise!==void 0||S===3&&v2Promise!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var y=reactExports.useRef(f),f=reactExports.useRef(f?.version||null);if(f.current===null)f.current=S;else if(f.current!==S)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var o=h||(S===2?DEFAULT_V2_SRC:DEFAULT_V3_SRC);function _(x,p){l&&(window.MathJax=l);var T=document.createElement("script");T.type="text/javascript",T.src=o,T.async=D,T.addEventListener("load",function(){var U=window.MathJax;A&&A(U),x(U),N&&N()}),T.addEventListener("error",function(U){return p(U)}),document.getElementsByTagName("head")[0].appendChild(T)}return y.current===void 0&&(f={typesettingOptions:W,renderMode:u,hideUntilTypeset:i},S===2?v2Promise===void 0&&(typeof window<"u"?(v2Promise=new Promise(_)).catch(function(x){if(!H)throw Error("Failed to download MathJax version 2 from '".concat(o,"' due to: ").concat(JSON.stringify(x)));H(x)}):(v2Promise=Promise.reject()).catch(function(x){})):v3Promise===void 0&&(typeof window<"u"?(v3Promise=new Promise(_)).catch(function(x){if(!H)throw Error("Failed to download MathJax version 3 from '".concat(o,"' due to: ").concat(x));H(x)}):(v3Promise=Promise.reject()).catch(function(x){})),y.current=__assign(__assign({},f),S===2?{version:2,promise:v2Promise}:{version:3,promise:v3Promise})),React.createElement(MathJaxBaseContext.Provider,{value:y.current},a)};function commonjsRequire(M){throw new Error('Could not dynamically require "'+M+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(l,S){module.exports=l.pdfjsLib=S()})(globalThis,()=>(()=>{var __webpack_modules__=[,((M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.VerbosityLevel=l.Util=l.UnknownErrorException=l.UnexpectedResponseException=l.TextRenderingMode=l.RenderingIntentFlag=l.PromiseCapability=l.PermissionFlag=l.PasswordResponses=l.PasswordException=l.PageActionEventType=l.OPS=l.MissingPDFException=l.MAX_IMAGE_SIZE_TO_CACHE=l.LINE_FACTOR=l.LINE_DESCENT_FACTOR=l.InvalidPDFException=l.ImageKind=l.IDENTITY_MATRIX=l.FormatError=l.FeatureTest=l.FONT_IDENTITY_MATRIX=l.DocumentActionEventType=l.CMapCompressionType=l.BaseException=l.BASELINE_FACTOR=l.AnnotationType=l.AnnotationReplyType=l.AnnotationPrefix=l.AnnotationMode=l.AnnotationFlag=l.AnnotationFieldFlag=l.AnnotationEditorType=l.AnnotationEditorPrefix=l.AnnotationEditorParamsType=l.AnnotationBorderStyleType=l.AnnotationActionEventType=l.AbortException=void 0,l.assert=v,l.bytesToString=q,l.createValidAbsoluteUrl=m,l.getModificationDate=et,l.getUuid=ts,l.getVerbosityLevel=_e,l.info=oe,l.isArrayBuffer=Ue,l.isArrayEqual=dt,l.isNodeJS=void 0,l.normalizeUnicode=Zt,l.objectFromMap=se,l.objectSize=Ae,l.setVerbosityLevel=he,l.shadow=P,l.string32=ie,l.stringToBytes=K,l.stringToPDFString=Re,l.stringToUTF8String=De,l.unreachable=E,l.utf8StringToString=Ie,l.warn=B;const S=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");l.isNodeJS=S;const h=[1,0,0,1,0,0];l.IDENTITY_MATRIX=h;const A=[.001,0,0,.001,0,0];l.FONT_IDENTITY_MATRIX=A;const N=1e7;l.MAX_IMAGE_SIZE_TO_CACHE=N;const D=1.35;l.LINE_FACTOR=D;const H=.35;l.LINE_DESCENT_FACTOR=H;const W=H/D;l.BASELINE_FACTOR=W;const u={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};l.RenderingIntentFlag=u;const i={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};l.AnnotationMode=i;const a="pdfjs_internal_editor_";l.AnnotationEditorPrefix=a;const y={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};l.AnnotationEditorType=y;const f={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};l.AnnotationEditorParamsType=f;const o={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};l.PermissionFlag=o;const _={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};l.TextRenderingMode=_;const x={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};l.ImageKind=x;const p={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};l.AnnotationType=p;const T={GROUP:"Group",REPLY:"R"};l.AnnotationReplyType=T;const U={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};l.AnnotationFlag=U;const O={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};l.AnnotationFieldFlag=O;const b={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};l.AnnotationBorderStyleType=b;const R={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};l.AnnotationActionEventType=R;const G={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};l.DocumentActionEventType=G;const X={O:"PageOpen",C:"PageClose"};l.PageActionEventType=X;const V={ERRORS:0,WARNINGS:1,INFOS:5};l.VerbosityLevel=V;const J={NONE:0,BINARY:1};l.CMapCompressionType=J;const te={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};l.OPS=te;const ve={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};l.PasswordResponses=ve;let de=V.WARNINGS;function he(ge){Number.isInteger(ge)&&(de=ge)}function _e(){return de}function oe(ge){de>=V.INFOS&&console.log(`Info: ${ge}`)}function B(ge){de>=V.WARNINGS&&console.log(`Warning: ${ge}`)}function E(ge){throw new Error(ge)}function v(ge,ne){ge||E(ne)}function g(ge){switch(ge?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function m(ge,ne=null,Z=null){if(!ge)return null;try{if(Z&&typeof ge=="string"&&(Z.addDefaultProtocol&&ge.startsWith("www.")&&ge.match(/\./g)?.length>=2&&(ge=`http://${ge}`),Z.tryConvertEncoding))try{ge=De(ge)}catch{}const Ee=ne?new URL(ge,ne):new URL(ge);if(g(Ee))return Ee}catch{}return null}function P(ge,ne,Z,Ee=!1){return Object.defineProperty(ge,ne,{value:Z,enumerable:!Ee,configurable:!0,writable:!1}),Z}const I=(function(){function ne(Z,Ee){this.constructor===ne&&E("Cannot initialize BaseException."),this.message=Z,this.name=Ee}return ne.prototype=new Error,ne.constructor=ne,ne})();l.BaseException=I;class z extends I{constructor(ne,Z){super(ne,"PasswordException"),this.code=Z}}l.PasswordException=z;class F extends I{constructor(ne,Z){super(ne,"UnknownErrorException"),this.details=Z}}l.UnknownErrorException=F;class d extends I{constructor(ne){super(ne,"InvalidPDFException")}}l.InvalidPDFException=d;class w extends I{constructor(ne){super(ne,"MissingPDFException")}}l.MissingPDFException=w;class C extends I{constructor(ne,Z){super(ne,"UnexpectedResponseException"),this.status=Z}}l.UnexpectedResponseException=C;class L extends I{constructor(ne){super(ne,"FormatError")}}l.FormatError=L;class j extends I{constructor(ne){super(ne,"AbortException")}}l.AbortException=j;function q(ge){(typeof ge!="object"||ge?.length===void 0)&&E("Invalid argument for bytesToString");const ne=ge.length,Z=8192;if(ne<Z)return String.fromCharCode.apply(null,ge);const Ee=[];for(let Oe=0;Oe<ne;Oe+=Z){const Ye=Math.min(Oe+Z,ne),Ke=ge.subarray(Oe,Ye);Ee.push(String.fromCharCode.apply(null,Ke))}return Ee.join("")}function K(ge){typeof ge!="string"&&E("Invalid argument for stringToBytes");const ne=ge.length,Z=new Uint8Array(ne);for(let Ee=0;Ee<ne;++Ee)Z[Ee]=ge.charCodeAt(Ee)&255;return Z}function ie(ge){return String.fromCharCode(ge>>24&255,ge>>16&255,ge>>8&255,ge&255)}function Ae(ge){return Object.keys(ge).length}function se(ge){const ne=Object.create(null);for(const[Z,Ee]of ge)ne[Z]=Ee;return ne}function le(){const ge=new Uint8Array(4);return ge[0]=1,new Uint32Array(ge.buffer,0,1)[0]===1}function ue(){try{return new Function(""),!0}catch{return!1}}class ce{static get isLittleEndian(){return P(this,"isLittleEndian",le())}static get isEvalSupported(){return P(this,"isEvalSupported",ue())}static get isOffscreenCanvasSupported(){return P(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?P(this,"platform",{isWin:!1,isMac:!1}):P(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return P(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}l.FeatureTest=ce;const fe=[...Array(256).keys()].map(ge=>ge.toString(16).padStart(2,"0"));class Se{static makeHexColor(ne,Z,Ee){return`#${fe[ne]}${fe[Z]}${fe[Ee]}`}static scaleMinMax(ne,Z){let Ee;ne[0]?(ne[0]<0&&(Ee=Z[0],Z[0]=Z[1],Z[1]=Ee),Z[0]*=ne[0],Z[1]*=ne[0],ne[3]<0&&(Ee=Z[2],Z[2]=Z[3],Z[3]=Ee),Z[2]*=ne[3],Z[3]*=ne[3]):(Ee=Z[0],Z[0]=Z[2],Z[2]=Ee,Ee=Z[1],Z[1]=Z[3],Z[3]=Ee,ne[1]<0&&(Ee=Z[2],Z[2]=Z[3],Z[3]=Ee),Z[2]*=ne[1],Z[3]*=ne[1],ne[2]<0&&(Ee=Z[0],Z[0]=Z[1],Z[1]=Ee),Z[0]*=ne[2],Z[1]*=ne[2]),Z[0]+=ne[4],Z[1]+=ne[4],Z[2]+=ne[5],Z[3]+=ne[5]}static transform(ne,Z){return[ne[0]*Z[0]+ne[2]*Z[1],ne[1]*Z[0]+ne[3]*Z[1],ne[0]*Z[2]+ne[2]*Z[3],ne[1]*Z[2]+ne[3]*Z[3],ne[0]*Z[4]+ne[2]*Z[5]+ne[4],ne[1]*Z[4]+ne[3]*Z[5]+ne[5]]}static applyTransform(ne,Z){const Ee=ne[0]*Z[0]+ne[1]*Z[2]+Z[4],Oe=ne[0]*Z[1]+ne[1]*Z[3]+Z[5];return[Ee,Oe]}static applyInverseTransform(ne,Z){const Ee=Z[0]*Z[3]-Z[1]*Z[2],Oe=(ne[0]*Z[3]-ne[1]*Z[2]+Z[2]*Z[5]-Z[4]*Z[3])/Ee,Ye=(-ne[0]*Z[1]+ne[1]*Z[0]+Z[4]*Z[1]-Z[5]*Z[0])/Ee;return[Oe,Ye]}static getAxialAlignedBoundingBox(ne,Z){const Ee=this.applyTransform(ne,Z),Oe=this.applyTransform(ne.slice(2,4),Z),Ye=this.applyTransform([ne[0],ne[3]],Z),Ke=this.applyTransform([ne[2],ne[1]],Z);return[Math.min(Ee[0],Oe[0],Ye[0],Ke[0]),Math.min(Ee[1],Oe[1],Ye[1],Ke[1]),Math.max(Ee[0],Oe[0],Ye[0],Ke[0]),Math.max(Ee[1],Oe[1],Ye[1],Ke[1])]}static inverseTransform(ne){const Z=ne[0]*ne[3]-ne[1]*ne[2];return[ne[3]/Z,-ne[1]/Z,-ne[2]/Z,ne[0]/Z,(ne[2]*ne[5]-ne[4]*ne[3])/Z,(ne[4]*ne[1]-ne[5]*ne[0])/Z]}static singularValueDecompose2dScale(ne){const Z=[ne[0],ne[2],ne[1],ne[3]],Ee=ne[0]*Z[0]+ne[1]*Z[2],Oe=ne[0]*Z[1]+ne[1]*Z[3],Ye=ne[2]*Z[0]+ne[3]*Z[2],Ke=ne[2]*Z[1]+ne[3]*Z[3],bt=(Ee+Ke)/2,wt=Math.sqrt((Ee+Ke)**2-4*(Ee*Ke-Ye*Oe))/2,Vt=bt+wt||1,lt=bt-wt||1;return[Math.sqrt(Vt),Math.sqrt(lt)]}static normalizeRect(ne){const Z=ne.slice(0);return ne[0]>ne[2]&&(Z[0]=ne[2],Z[2]=ne[0]),ne[1]>ne[3]&&(Z[1]=ne[3],Z[3]=ne[1]),Z}static intersect(ne,Z){const Ee=Math.max(Math.min(ne[0],ne[2]),Math.min(Z[0],Z[2])),Oe=Math.min(Math.max(ne[0],ne[2]),Math.max(Z[0],Z[2]));if(Ee>Oe)return null;const Ye=Math.max(Math.min(ne[1],ne[3]),Math.min(Z[1],Z[3])),Ke=Math.min(Math.max(ne[1],ne[3]),Math.max(Z[1],Z[3]));return Ye>Ke?null:[Ee,Ye,Oe,Ke]}static bezierBoundingBox(ne,Z,Ee,Oe,Ye,Ke,bt,wt){const Vt=[],lt=[[],[]];let en,Nt,Mn,qe,Fn,Gt,Dn,tn;for(let dn=0;dn<2;++dn){if(dn===0?(Nt=6*ne-12*Ee+6*Ye,en=-3*ne+9*Ee-9*Ye+3*bt,Mn=3*Ee-3*ne):(Nt=6*Z-12*Oe+6*Ke,en=-3*Z+9*Oe-9*Ke+3*wt,Mn=3*Oe-3*Z),Math.abs(en)<1e-12){if(Math.abs(Nt)<1e-12)continue;qe=-Mn/Nt,0<qe&&qe<1&&Vt.push(qe);continue}Dn=Nt*Nt-4*Mn*en,tn=Math.sqrt(Dn),!(Dn<0)&&(Fn=(-Nt+tn)/(2*en),0<Fn&&Fn<1&&Vt.push(Fn),Gt=(-Nt-tn)/(2*en),0<Gt&&Gt<1&&Vt.push(Gt))}let Ln=Vt.length,tt;const qt=Ln;for(;Ln--;)qe=Vt[Ln],tt=1-qe,lt[0][Ln]=tt*tt*tt*ne+3*tt*tt*qe*Ee+3*tt*qe*qe*Ye+qe*qe*qe*bt,lt[1][Ln]=tt*tt*tt*Z+3*tt*tt*qe*Oe+3*tt*qe*qe*Ke+qe*qe*qe*wt;return lt[0][qt]=ne,lt[1][qt]=Z,lt[0][qt+1]=bt,lt[1][qt+1]=wt,lt[0].length=lt[1].length=qt+2,[Math.min(...lt[0]),Math.min(...lt[1]),Math.max(...lt[0]),Math.max(...lt[1])]}}l.Util=Se;const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Re(ge){if(ge[0]>="ï"){let Z;if(ge[0]==="þ"&&ge[1]==="ÿ"?Z="utf-16be":ge[0]==="ÿ"&&ge[1]==="þ"?Z="utf-16le":ge[0]==="ï"&&ge[1]==="»"&&ge[2]==="¿"&&(Z="utf-8"),Z)try{const Ee=new TextDecoder(Z,{fatal:!0}),Oe=K(ge);return Ee.decode(Oe)}catch(Ee){B(`stringToPDFString: "${Ee}".`)}}const ne=[];for(let Z=0,Ee=ge.length;Z<Ee;Z++){const Oe=ke[ge.charCodeAt(Z)];ne.push(Oe?String.fromCharCode(Oe):ge.charAt(Z))}return ne.join("")}function De(ge){return decodeURIComponent(escape(ge))}function Ie(ge){return unescape(encodeURIComponent(ge))}function Ue(ge){return typeof ge=="object"&&ge?.byteLength!==void 0}function dt(ge,ne){if(ge.length!==ne.length)return!1;for(let Z=0,Ee=ge.length;Z<Ee;Z++)if(ge[Z]!==ne[Z])return!1;return!0}function et(ge=new Date){return[ge.getUTCFullYear().toString(),(ge.getUTCMonth()+1).toString().padStart(2,"0"),ge.getUTCDate().toString().padStart(2,"0"),ge.getUTCHours().toString().padStart(2,"0"),ge.getUTCMinutes().toString().padStart(2,"0"),ge.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ot{#e=!1;constructor(){this.promise=new Promise((ne,Z)=>{this.resolve=Ee=>{this.#e=!0,ne(Ee)},this.reject=Ee=>{this.#e=!0,Z(Ee)}})}get settled(){return this.#e}}l.PromiseCapability=Ot;let it=null,gt=null;function Zt(ge){return it||(it=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gt=new Map([["ﬅ","ſt"]])),ge.replaceAll(it,(ne,Z,Ee)=>Z?Z.normalize("NFKC"):gt.get(Ee))}function ts(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ge=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ge);else for(let ne=0;ne<32;ne++)ge[ne]=Math.floor(Math.random()*255);return q(ge)}const Yr="pdfjs_internal_id_";l.AnnotationPrefix=Yr}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(M){if(typeof M=="string"||M instanceof URL?M={url:M}:(0,_util.isArrayBuffer)(M)&&(M={data:M}),typeof M!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!M.url&&!M.data&&!M.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const l=new PDFDocumentLoadingTask,{docId:S}=l,h=M.url?getUrlProp(M.url):null,A=M.data?getDataProp(M.data):null,N=M.httpHeaders||null,D=M.withCredentials===!0,H=M.password??null,W=M.range instanceof PDFDataRangeTransport?M.range:null,u=Number.isInteger(M.rangeChunkSize)&&M.rangeChunkSize>0?M.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let i=M.worker instanceof PDFWorker?M.worker:null;const a=M.verbosity,y=typeof M.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(M.docBaseUrl)?M.docBaseUrl:null,f=typeof M.cMapUrl=="string"?M.cMapUrl:null,o=M.cMapPacked!==!1,_=M.CMapReaderFactory||DefaultCMapReaderFactory,x=typeof M.standardFontDataUrl=="string"?M.standardFontDataUrl:null,p=M.StandardFontDataFactory||DefaultStandardFontDataFactory,T=M.stopAtErrors!==!0,U=Number.isInteger(M.maxImageSize)&&M.maxImageSize>-1?M.maxImageSize:-1,O=M.isEvalSupported!==!1,b=typeof M.isOffscreenCanvasSupported=="boolean"?M.isOffscreenCanvasSupported:!_util.isNodeJS,R=Number.isInteger(M.canvasMaxAreaInBytes)?M.canvasMaxAreaInBytes:-1,G=typeof M.disableFontFace=="boolean"?M.disableFontFace:_util.isNodeJS,X=M.fontExtraProperties===!0,V=M.enableXfa===!0,J=M.ownerDocument||globalThis.document,te=M.disableRange===!0,ve=M.disableStream===!0,de=M.disableAutoFetch===!0,he=M.pdfBug===!0,_e=W?W.length:M.length??NaN,oe=typeof M.useSystemFonts=="boolean"?M.useSystemFonts:!_util.isNodeJS&&!G,B=typeof M.useWorkerFetch=="boolean"?M.useWorkerFetch:_===_display_utils.DOMCMapReaderFactory&&p===_display_utils.DOMStandardFontDataFactory&&f&&x&&(0,_display_utils.isValidFetchUrl)(f,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(x,document.baseURI),E=M.canvasFactory||new DefaultCanvasFactory({ownerDocument:J}),v=M.filterFactory||new DefaultFilterFactory({docId:S,ownerDocument:J}),g=null;(0,_util.setVerbosityLevel)(a);const m={canvasFactory:E,filterFactory:v};if(B||(m.cMapReaderFactory=new _({baseUrl:f,isCompressed:o}),m.standardFontDataFactory=new p({baseUrl:x})),!i){const z={verbosity:a,port:_worker_options.GlobalWorkerOptions.workerPort};i=z.port?PDFWorker.fromPort(z):new PDFWorker(z),l._worker=i}const P={docId:S,apiVersion:"3.11.174",data:A,password:H,disableAutoFetch:de,rangeChunkSize:u,length:_e,docBaseUrl:y,enableXfa:V,evaluatorOptions:{maxImageSize:U,disableFontFace:G,ignoreErrors:T,isEvalSupported:O,isOffscreenCanvasSupported:b,canvasMaxAreaInBytes:R,fontExtraProperties:X,useSystemFonts:oe,cMapUrl:B?f:null,standardFontDataUrl:B?x:null}},I={ignoreErrors:T,isEvalSupported:O,disableFontFace:G,fontExtraProperties:X,enableXfa:V,ownerDocument:J,disableAutoFetch:de,pdfBug:he,styleElement:g};return i.promise.then(function(){if(l.destroyed)throw new Error("Loading aborted");const z=_fetchDocument(i,P),F=new Promise(function(d){let w;W?w=new _transport_stream.PDFDataTransportStream({length:_e,initialData:W.initialData,progressiveDone:W.progressiveDone,contentDispositionFilename:W.contentDispositionFilename,disableRange:te,disableStream:ve},W):A||(w=(L=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(L):(0,_display_utils.isValidFetchUrl)(L.url)?new _displayFetch_stream.PDFFetchStream(L):new _displayNetwork.PDFNetworkStream(L))({url:h,length:_e,httpHeaders:N,withCredentials:D,rangeChunkSize:u,disableRange:te,disableStream:ve})),d(w)});return Promise.all([z,F]).then(function([d,w]){if(l.destroyed)throw new Error("Loading aborted");const C=new _message_handler.MessageHandler(S,d,i.port),L=new WorkerTransport(C,l,w,I,m);l._transport=L,C.send("Ready",null)})}).catch(l._capability.reject),l}async function _fetchDocument(M,l){if(M.destroyed)throw new Error("Worker was destroyed");const S=await M.messageHandler.sendWithPromise("GetDocRequest",l,l.data?[l.data.buffer]:null);if(M.destroyed)throw new Error("Worker was destroyed");return S}function getUrlProp(M){if(M instanceof URL)return M.href;try{return new URL(M,window.location).href}catch{if(_util.isNodeJS&&typeof M=="string")return M}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(M){if(_util.isNodeJS&&typeof Buffer<"u"&&M instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(M instanceof Uint8Array&&M.byteLength===M.buffer.byteLength)return M;if(typeof M=="string")return(0,_util.stringToBytes)(M);if(typeof M=="object"&&!isNaN(M?.length)||(0,_util.isArrayBuffer)(M))return new Uint8Array(M);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(l){throw this._worker?.port&&delete this._worker._pendingDestroy,l}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(l,S,h=!1,A=null){this.length=l,this.initialData=S,this.progressiveDone=h,this.contentDispositionFilename=A,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(l){this._rangeListeners.push(l)}addProgressListener(l){this._progressListeners.push(l)}addProgressiveReadListener(l){this._progressiveReadListeners.push(l)}addProgressiveDoneListener(l){this._progressiveDoneListeners.push(l)}onDataRange(l,S){for(const h of this._rangeListeners)h(l,S)}onDataProgress(l,S){this._readyCapability.promise.then(()=>{for(const h of this._progressListeners)h(l,S)})}onDataProgressiveRead(l){this._readyCapability.promise.then(()=>{for(const S of this._progressiveReadListeners)S(l)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const l of this._progressiveDoneListeners)l()})}transportReady(){this._readyCapability.resolve()}requestDataRange(l,S){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(l,S){this._pdfInfo=l,this._transport=S,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(h=>{if(!h)return h;const A=[];for(const N in h)A.push(...h[N]);return A}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(l){return this._transport.getPage(l)}getPageIndex(l){return this._transport.getPageIndex(l)}getDestinations(){return this._transport.getDestinations()}getDestination(l){return this._transport.getDestination(l)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(l=!1){return this._transport.startCleanup(l||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(l,S,h,A=!1){this._pageIndex=l,this._pageInfo=S,this._transport=h,this._stats=A?new _display_utils.StatTimer:null,this._pdfBug=A,this.commonObjs=h.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:l,rotation:S=this.rotate,offsetX:h=0,offsetY:A=0,dontFlip:N=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:l,rotation:S,offsetX:h,offsetY:A,dontFlip:N})}getAnnotations({intent:l="display"}={}){const S=this._transport.getRenderingIntent(l);return this._transport.getAnnotations(this._pageIndex,S.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:l,viewport:S,intent:h="display",annotationMode:A=_util.AnnotationMode.ENABLE,transform:N=null,background:D=null,optionalContentConfigPromise:H=null,annotationCanvasMap:W=null,pageColors:u=null,printAnnotationStorage:i=null}){this._stats?.time("Overall");const a=this._transport.getRenderingIntent(h,A,i);this.#t=!1,this.#r(),H||(H=this._transport.getOptionalContentConfig());let y=this._intentStates.get(a.cacheKey);y||(y=Object.create(null),this._intentStates.set(a.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const f=!!(a.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=new _util.PromiseCapability,y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a));const o=p=>{y.renderTasks.delete(_),(this._maybeCleanupAfterRender||f)&&(this.#t=!0),this.#n(!f),p?(_.capability.reject(p),this._abortOperatorList({intentState:y,reason:p instanceof Error?p:new Error(p)})):_.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},_=new InternalRenderTask({callback:o,params:{canvasContext:l,viewport:S,transform:N,background:D},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:W,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!f,pdfBug:this._pdfBug,pageColors:u});(y.renderTasks||=new Set).add(_);const x=_.task;return Promise.all([y.displayReadyCapability.promise,H]).then(([p,T])=>{if(this.destroyed){o();return}this._stats?.time("Rendering"),_.initializeGraphics({transparency:p,optionalContentConfig:T}),_.operatorListChanged()}).catch(o),x}getOperatorList({intent:l="display",annotationMode:S=_util.AnnotationMode.ENABLE,printAnnotationStorage:h=null}={}){function A(){D.operatorList.lastChunk&&(D.opListReadCapability.resolve(D.operatorList),D.renderTasks.delete(H))}const N=this._transport.getRenderingIntent(l,S,h,!0);let D=this._intentStates.get(N.cacheKey);D||(D=Object.create(null),this._intentStates.set(N.cacheKey,D));let H;return D.opListReadCapability||(H=Object.create(null),H.operatorListChanged=A,D.opListReadCapability=new _util.PromiseCapability,(D.renderTasks||=new Set).add(H),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(N)),D.opListReadCapability.promise}streamTextContent({includeMarkedContent:l=!1,disableNormalization:S=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:l===!0,disableNormalization:S===!0},{highWaterMark:100,size(A){return A.items.length}})}getTextContent(l={}){if(this._transport._htmlForXfa)return this.getXfa().then(h=>_xfa_text.XfaText.textContent(h));const S=this.streamTextContent(l);return new Promise(function(h,A){function N(){D.read().then(function({value:W,done:u}){if(u){h(H);return}Object.assign(H.styles,W.styles),H.items.push(...W.items),N()},A)}const D=S.getReader(),H={items:[],styles:Object.create(null)};N()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const l=[];for(const S of this._intentStates.values())if(this._abortOperatorList({intentState:S,reason:new Error("Page was destroyed."),force:!0}),!S.opListReadCapability)for(const h of S.renderTasks)l.push(h.completed),h.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(l)}cleanup(l=!1){this.#t=!0;const S=this.#n(!1);return l&&S&&(this._stats&&=new _display_utils.StatTimer),S}#n(l=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(l)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:S,operatorList:h}of this._intentStates.values())if(S.size>0||!h.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(l,S){const h=this._intentStates.get(S);h&&(this._stats?.timeEnd("Page Request"),h.displayReadyCapability?.resolve(l))}_renderPageChunk(l,S){for(let h=0,A=l.length;h<A;h++)S.operatorList.fnArray.push(l.fnArray[h]),S.operatorList.argsArray.push(l.argsArray[h]);S.operatorList.lastChunk=l.lastChunk,S.operatorList.separateAnnots=l.separateAnnots;for(const h of S.renderTasks)h.operatorListChanged();l.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:l,cacheKey:S,annotationStorageSerializable:h}){const{map:A,transfers:N}=h,H=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:l,cacheKey:S,annotationStorage:A},N).getReader(),W=this._intentStates.get(S);W.streamReader=H;const u=()=>{H.read().then(({value:i,done:a})=>{if(a){W.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(i,W),u())},i=>{if(W.streamReader=null,!this._transport.destroyed){if(W.operatorList){W.operatorList.lastChunk=!0;for(const a of W.renderTasks)a.operatorListChanged();this.#n(!0)}if(W.displayReadyCapability)W.displayReadyCapability.reject(i);else if(W.opListReadCapability)W.opListReadCapability.reject(i);else throw i}})};u()}_abortOperatorList({intentState:l,reason:S,force:h=!1}){if(l.streamReader){if(l.streamReaderCancelTimeout&&(clearTimeout(l.streamReaderCancelTimeout),l.streamReaderCancelTimeout=null),!h){if(l.renderTasks.size>0)return;if(S instanceof _display_utils.RenderingCancelledException){let A=RENDERING_CANCELLED_TIMEOUT;S.extraDelay>0&&S.extraDelay<1e3&&(A+=S.extraDelay),l.streamReaderCancelTimeout=setTimeout(()=>{l.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:l,reason:S,force:!0})},A);return}}if(l.streamReader.cancel(new _util.AbortException(S.message)).catch(()=>{}),l.streamReader=null,!this._transport.destroyed){for(const[A,N]of this._intentStates)if(N===l){this._intentStates.delete(A);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(l,S){const h={data:structuredClone(l,S?{transfer:S}:null)};this.#t.then(()=>{for(const A of this.#e)A.call(this,h)})}addEventListener(l,S){this.#e.add(S)}removeEventListener(l,S){this.#e.delete(S)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const M=document?.currentScript?.src;M&&(PDFWorkerUtil.fallbackWorkerSrc=M.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(M,l){let S;try{if(S=new URL(M),!S.origin||S.origin==="null")return!1}catch{return!1}const h=new URL(l,S);return S.origin===h.origin},PDFWorkerUtil.createCDNWrapper=function(M){const l=`importScripts("${M}");`;return URL.createObjectURL(new Blob([l]))}}class PDFWorker{static#workerPorts;constructor({name:M=null,port:l=null,verbosity:S=(0,_util.getVerbosityLevel)()}={}){if(this.name=M,this.destroyed=!1,this.verbosity=S,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,l){if(PDFWorker.#workerPorts?.has(l))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(l,this),this._initializeFromPort(l);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(M){this._port=M,this._messageHandler=new _message_handler.MessageHandler("main","worker",M),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:M}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,M)||(M=PDFWorkerUtil.createCDNWrapper(new URL(M,window.location).href));const l=new Worker(M),S=new _message_handler.MessageHandler("main","worker",l),h=()=>{l.removeEventListener("error",A),S.destroy(),l.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},A=()=>{this._webWorker||h()};l.addEventListener("error",A),S.on("test",D=>{if(l.removeEventListener("error",A),this.destroyed){h();return}D?(this._messageHandler=S,this._port=l,this._webWorker=l,this._readyCapability.resolve(),S.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),S.destroy(),l.terminate())}),S.on("ready",D=>{if(l.removeEventListener("error",A),this.destroyed){h();return}try{N()}catch{this._setupFakeWorker()}});const N=()=>{const D=new Uint8Array;S.send("test",D,[D.buffer])};N();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(M=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const l=new LoopbackPort;this._port=l;const S=`fake${PDFWorkerUtil.fakeWorkerId++}`,h=new _message_handler.MessageHandler(S+"_worker",S,l);M.setup(h,l);const A=new _message_handler.MessageHandler(S,S+"_worker",l);this._messageHandler=A,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})}).catch(M=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${M.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(M){if(!M?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const l=this.#workerPorts?.get(M.port);if(l){if(l._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return l}return new PDFWorker(M)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(l,S,h,A,N){this.messageHandler=l,this.loadingTask=S,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:A.ownerDocument,styleElement:A.styleElement}),this._params=A,this.canvasFactory=N.canvasFactory,this.filterFactory=N.filterFactory,this.cMapReaderFactory=N.cMapReaderFactory,this.standardFontDataFactory=N.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=h,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(l,S=null){const h=this.#e.get(l);if(h)return h;const A=this.messageHandler.sendWithPromise(l,S);return this.#e.set(l,A),A}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(l,S=_util.AnnotationMode.ENABLE,h=null,A=!1){let N=_util.RenderingIntentFlag.DISPLAY,D=_annotation_storage.SerializableEmpty;switch(l){case"any":N=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":N=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${l}`)}switch(S){case _util.AnnotationMode.DISABLE:N+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:N+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:N+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,D=(N&_util.RenderingIntentFlag.PRINT&&h instanceof _annotation_storage.PrintAnnotationStorage?h:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${S}`)}return A&&(N+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:N,cacheKey:`${N}_${D.hash}`,annotationStorageSerializable:D}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const l=[];for(const h of this.#t.values())l.push(h._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const S=this.messageHandler.sendWithPromise("Terminate",null);return l.push(S),Promise.all(l).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:l,loadingTask:S}=this;l.on("GetReader",(h,A)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=N=>{this._lastProgress={loaded:N.loaded,total:N.total}},A.onPull=()=>{this._fullReader.read().then(function({value:N,done:D}){if(D){A.close();return}(0,_util.assert)(N instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(N),1,[N])}).catch(N=>{A.error(N)})},A.onCancel=N=>{this._fullReader.cancel(N),A.ready.catch(D=>{if(!this.destroyed)throw D})}}),l.on("ReaderHeadersReady",h=>{const A=new _util.PromiseCapability,N=this._fullReader;return N.headersReady.then(()=>{(!N.isStreamingSupported||!N.isRangeSupported)&&(this._lastProgress&&S.onProgress?.(this._lastProgress),N.onProgress=D=>{S.onProgress?.({loaded:D.loaded,total:D.total})}),A.resolve({isStreamingSupported:N.isStreamingSupported,isRangeSupported:N.isRangeSupported,contentLength:N.contentLength})},A.reject),A.promise}),l.on("GetRangeReader",(h,A)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const N=this._networkStream.getRangeReader(h.begin,h.end);if(!N){A.close();return}A.onPull=()=>{N.read().then(function({value:D,done:H}){if(H){A.close();return}(0,_util.assert)(D instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(D),1,[D])}).catch(D=>{A.error(D)})},A.onCancel=D=>{N.cancel(D),A.ready.catch(H=>{if(!this.destroyed)throw H})}}),l.on("GetDoc",({pdfInfo:h})=>{this._numPages=h.numPages,this._htmlForXfa=h.htmlForXfa,delete h.htmlForXfa,S._capability.resolve(new PDFDocumentProxy(h,this))}),l.on("DocException",function(h){let A;switch(h.name){case"PasswordException":A=new _util.PasswordException(h.message,h.code);break;case"InvalidPDFException":A=new _util.InvalidPDFException(h.message);break;case"MissingPDFException":A=new _util.MissingPDFException(h.message);break;case"UnexpectedResponseException":A=new _util.UnexpectedResponseException(h.message,h.status);break;case"UnknownErrorException":A=new _util.UnknownErrorException(h.message,h.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}S._capability.reject(A)}),l.on("PasswordRequest",h=>{if(this.#r=new _util.PromiseCapability,S.onPassword){const A=N=>{N instanceof Error?this.#r.reject(N):this.#r.resolve({password:N})};try{S.onPassword(A,h.code)}catch(N){this.#r.reject(N)}}else this.#r.reject(new _util.PasswordException(h.message,h.code));return this.#r.promise}),l.on("DataLoaded",h=>{S.onProgress?.({loaded:h.length,total:h.length}),this.downloadInfoCapability.resolve(h)}),l.on("StartRenderPage",h=>{if(this.destroyed)return;this.#t.get(h.pageIndex)._startRenderPage(h.transparency,h.cacheKey)}),l.on("commonobj",([h,A,N])=>{if(!this.destroyed&&!this.commonObjs.has(h))switch(A){case"Font":const D=this._params;if("error"in N){const u=N.error;(0,_util.warn)(`Error during font loading: ${u}`),this.commonObjs.resolve(h,u);break}const H=D.pdfBug&&globalThis.FontInspector?.enabled?(u,i)=>globalThis.FontInspector.fontAdded(u,i):null,W=new _font_loader.FontFaceObject(N,{isEvalSupported:D.isEvalSupported,disableFontFace:D.disableFontFace,ignoreErrors:D.ignoreErrors,inspectFont:H});this.fontLoader.bind(W).catch(u=>l.sendWithPromise("FontFallback",{id:h})).finally(()=>{!D.fontExtraProperties&&W.data&&(W.data=null),this.commonObjs.resolve(h,W)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(h,N);break;default:throw new Error(`Got unknown common object type ${A}`)}}),l.on("obj",([h,A,N,D])=>{if(this.destroyed)return;const H=this.#t.get(A);if(!H.objs.has(h))switch(N){case"Image":if(H.objs.resolve(h,D),D){let W;if(D.bitmap){const{width:u,height:i}=D;W=u*i*4}else W=D.data?.length||0;W>_util.MAX_IMAGE_SIZE_TO_CACHE&&(H._maybeCleanupAfterRender=!0)}break;case"Pattern":H.objs.resolve(h,D);break;default:throw new Error(`Got unknown object type ${N}`)}}),l.on("DocProgress",h=>{this.destroyed||S.onProgress?.({loaded:h.loaded,total:h.total})}),l.on("FetchBuiltInCMap",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(h):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),l.on("FetchStandardFontData",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(h):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:l,transfers:S}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:l,filename:this._fullReader?.filename??null},S).finally(()=>{this.annotationStorage.resetModified()})}getPage(l){if(!Number.isInteger(l)||l<=0||l>this._numPages)return Promise.reject(new Error("Invalid page request."));const S=l-1,h=this.#n.get(S);if(h)return h;const A=this.messageHandler.sendWithPromise("GetPage",{pageIndex:S}).then(N=>{if(this.destroyed)throw new Error("Transport destroyed");const D=new PDFPageProxy(S,N,this,this._params.pdfBug);return this.#t.set(S,D),D});return this.#n.set(S,A),A}getPageIndex(l){return typeof l!="object"||l===null||!Number.isInteger(l.num)||l.num<0||!Number.isInteger(l.gen)||l.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:l.num,gen:l.gen})}getAnnotations(l,S){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:l,intent:S})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(l){return typeof l!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:l})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(l){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:l})}getStructTree(l){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:l})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(l=>new _optional_content_config.OptionalContentConfig(l))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const l="GetMetadata",S=this.#e.get(l);if(S)return S;const h=this.messageHandler.sendWithPromise(l,null).then(A=>({info:A[0],metadata:A[1]?new _metadata.Metadata(A[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(l,h),h}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(l=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const S of this.#t.values())if(!S.cleanup())throw new Error(`startCleanup: Page ${S.pageNumber} is currently rendering.`);this.commonObjs.clear(),l||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:l,enableXfa:S}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:l,enableXfa:S})}}class PDFObjects{#e=Object.create(null);#t(l){return this.#e[l]||={capability:new _util.PromiseCapability,data:null}}get(l,S=null){if(S){const A=this.#t(l);return A.capability.promise.then(()=>S(A.data)),null}const h=this.#e[l];if(!h?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${l}.`);return h.data}has(l){return this.#e[l]?.capability.settled||!1}resolve(l,S=null){const h=this.#t(l);h.data=S,h.capability.resolve()}clear(){for(const l in this.#e){const{data:S}=this.#e[l];S?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(l){this.#e=l,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(l=0){this.#e.cancel(null,l)}get separateAnnots(){const{separateAnnots:l}=this.#e.operatorList;if(!l)return!1;const{annotationCanvasMap:S}=this.#e;return l.form||l.canvas&&S?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:l,params:S,objs:h,commonObjs:A,annotationCanvasMap:N,operatorList:D,pageIndex:H,canvasFactory:W,filterFactory:u,useRequestAnimationFrame:i=!1,pdfBug:a=!1,pageColors:y=null}){this.callback=l,this.params=S,this.objs=h,this.commonObjs=A,this.annotationCanvasMap=N,this.operatorListIdx=null,this.operatorList=D,this._pageIndex=H,this.canvasFactory=W,this.filterFactory=u,this._pdfBug=a,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=i===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=S.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:l=!1,optionalContentConfig:S}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:h,viewport:A,transform:N,background:D}=this.params;this.gfx=new _canvas.CanvasGraphics(h,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:S},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:N,viewport:A,transparency:l,background:D}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(l=null,S=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(l||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,S))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SerializableEmpty=l.PrintAnnotationStorage=l.AnnotationStorage=void 0;var h=S(1),A=S(4),N=S(8);const D=Object.freeze({map:null,hash:"",transfers:void 0});l.SerializableEmpty=D;class H{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(i,a){const y=this.#t.get(i);return y===void 0?a:Object.assign(a,y)}getRawValue(i){return this.#t.get(i)}remove(i){if(this.#t.delete(i),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const a of this.#t.values())if(a instanceof A.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(i,a){const y=this.#t.get(i);let f=!1;if(y!==void 0)for(const[o,_]of Object.entries(a))y[o]!==_&&(f=!0,y[o]=_);else f=!0,this.#t.set(i,a);f&&this.#n(),a instanceof A.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(a.constructor._type)}has(i){return this.#t.has(i)}getAll(){return this.#t.size>0?(0,h.objectFromMap)(this.#t):null}setAll(i){for(const[a,y]of Object.entries(i))this.setValue(a,y)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new W(this)}get serializable(){if(this.#t.size===0)return D;const i=new Map,a=new N.MurmurHash3_64,y=[],f=Object.create(null);let o=!1;for(const[_,x]of this.#t){const p=x instanceof A.AnnotationEditor?x.serialize(!1,f):x;p&&(i.set(_,p),a.update(`${_}:${JSON.stringify(p)}`),o||=!!p.bitmap)}if(o)for(const _ of i.values())_.bitmap&&y.push(_.bitmap);return i.size>0?{map:i,hash:a.hexdigest(),transfers:y}:D}}l.AnnotationStorage=H;class W extends H{#e;constructor(i){super();const{map:a,hash:y,transfers:f}=i.serializable,o=structuredClone(a,f?{transfer:f}:null);this.#e={map:o,hash:y,transfers:f}}get print(){(0,h.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}l.PrintAnnotationStorage=W}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AnnotationEditor=void 0;var h=S(5),A=S(1),N=S(6);class D{#e="";#t=!1;#n=null;#r=null;#o=null;#a=!1;#s=null;#l=this.focusin.bind(this);#u=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=D._zIndex++;static _borderLineWidth=-1;static _colorManager=new h.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(u){this.constructor===D&&(0,A.unreachable)("Cannot initialize AnnotationEditor."),this.parent=u.parent,this.id=u.id,this.width=this.height=null,this.pageIndex=u.parent.pageIndex,this.name=u.name,this.div=null,this._uiManager=u.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=u.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:a,pageHeight:y,pageX:f,pageY:o}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,y],this.pageTranslation=[f,o];const[_,x]=this.parentDimensions;this.x=u.x/_,this.y=u.y/x,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,A.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(u){const i=new H({id:u.parent.getNextId(),parent:u.parent,uiManager:u._uiManager});i.annotationElementId=u.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(u,i=null){if(D._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(y=>[y,u.get(y)])),i?.strings)for(const y of i.strings)D._l10nPromise.set(y,u.get(y));if(D._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);D._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(u,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(u){return!1}static paste(u,i){(0,A.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(u){this.#h=u,this.div?.classList.toggle("draggable",u)}center(){const[u,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(u*2),this.y+=this.width*u/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(u*2),this.y-=this.width*u/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(u){this._uiManager.addCommands(u)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(u){u!==null&&(this.pageIndex=u.pageIndex,this.pageDimensions=u.pageDimensions),this.parent=u}focusin(u){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(u){!this._focusEventsAllowed||!this.isAttachedToDOM||u.relatedTarget?.closest(`#${this.id}`)||(u.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(u,i,a,y){const[f,o]=this.parentDimensions;[a,y]=this.screenToPageTranslation(a,y),this.x=(u+a)/f,this.y=(i+y)/o,this.fixAndSetPosition()}#v([u,i],a,y){[a,y]=this.screenToPageTranslation(a,y),this.x+=a/u,this.y+=y/i,this.fixAndSetPosition()}translate(u,i){this.#v(this.parentDimensions,u,i)}translateInPage(u,i){this.#v(this.pageDimensions,u,i),this.div.scrollIntoView({block:"nearest"})}drag(u,i){const[a,y]=this.parentDimensions;if(this.x+=u/a,this.y+=i/y,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:T}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,T)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:f,y:o}=this;const[_,x]=this.#g();f+=_,o+=x,this.div.style.left=`${(100*f).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[u,i]=this.parentDimensions,{_borderLineWidth:a}=D,y=a/u,f=a/i;switch(this.rotation){case 90:return[-y,f];case 180:return[y,f];case 270:return[y,-f];default:return[-y,-f]}}fixAndSetPosition(){const[u,i]=this.pageDimensions;let{x:a,y,width:f,height:o}=this;switch(f*=u,o*=i,a*=u,y*=i,this.rotation){case 0:a=Math.max(0,Math.min(u-f,a)),y=Math.max(0,Math.min(i-o,y));break;case 90:a=Math.max(0,Math.min(u-o,a)),y=Math.min(i,Math.max(f,y));break;case 180:a=Math.min(u,Math.max(f,a)),y=Math.min(i,Math.max(o,y));break;case 270:a=Math.min(u,Math.max(o,a)),y=Math.max(0,Math.min(i-f,y));break}this.x=a/=u,this.y=y/=i;const[_,x]=this.#g();a+=_,y+=x;const{style:p}=this.div;p.left=`${(100*a).toFixed(2)}%`,p.top=`${(100*y).toFixed(2)}%`,this.moveInDOM()}static#m(u,i,a){switch(a){case 90:return[i,-u];case 180:return[-u,-i];case 270:return[-i,u];default:return[u,i]}}screenToPageTranslation(u,i){return D.#m(u,i,this.parentRotation)}pageTranslationToScreen(u,i){return D.#m(u,i,360-this.parentRotation)}#c(u){switch(u){case 90:{const[i,a]=this.pageDimensions;return[0,-i/a,a/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,a]=this.pageDimensions;return[0,i/a,-a/i,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:u,pageDimensions:[i,a]}=this,y=i*u,f=a*u;return A.FeatureTest.isCSSRoundSupported?[Math.round(y),Math.round(f)]:[y,f]}setDims(u,i){const[a,y]=this.parentDimensions;this.div.style.width=`${(100*u/a).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*i/y).toFixed(2)}%`),this.#n?.classList.toggle("small",u<D.SMALL_EDITOR_SIZE||i<D.SMALL_EDITOR_SIZE)}fixDims(){const{style:u}=this.div,{height:i,width:a}=u,y=a.endsWith("%"),f=!this.#a&&i.endsWith("%");if(y&&f)return;const[o,_]=this.parentDimensions;y||(u.width=`${(100*parseFloat(a)/o).toFixed(2)}%`),!this.#a&&!f&&(u.height=`${(100*parseFloat(i)/_).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const u=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||u.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const i of u){const a=document.createElement("div");this.#s.append(a),a.classList.add("resizer",i),a.addEventListener("pointerdown",this.#E.bind(this,i)),a.addEventListener("contextmenu",N.noContextMenu)}this.div.prepend(this.#s)}#E(u,i){i.preventDefault();const{isMac:a}=A.FeatureTest.platform;if(i.button!==0||i.ctrlKey&&a)return;const y=this.#S.bind(this,u),f=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};window.addEventListener("pointermove",y,o);const _=this.x,x=this.y,p=this.width,T=this.height,U=this.parent.div.style.cursor,O=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const b=()=>{this._isDraggable=f,window.removeEventListener("pointerup",b),window.removeEventListener("blur",b),window.removeEventListener("pointermove",y,o),this.parent.div.style.cursor=U,this.div.style.cursor=O;const R=this.x,G=this.y,X=this.width,V=this.height;R===_&&G===x&&X===p&&V===T||this.addCommands({cmd:()=>{this.width=X,this.height=V,this.x=R,this.y=G;const[J,te]=this.parentDimensions;this.setDims(J*X,te*V),this.fixAndSetPosition()},undo:()=>{this.width=p,this.height=T,this.x=_,this.y=x;const[J,te]=this.parentDimensions;this.setDims(J*p,te*T),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",b),window.addEventListener("blur",b)}#S(u,i){const[a,y]=this.parentDimensions,f=this.x,o=this.y,_=this.width,x=this.height,p=D.MIN_SIZE/a,T=D.MIN_SIZE/y,U=F=>Math.round(F*1e4)/1e4,O=this.#c(this.rotation),b=(F,d)=>[O[0]*F+O[2]*d,O[1]*F+O[3]*d],R=this.#c(360-this.rotation),G=(F,d)=>[R[0]*F+R[2]*d,R[1]*F+R[3]*d];let X,V,J=!1,te=!1;switch(u){case"topLeft":J=!0,X=(F,d)=>[0,0],V=(F,d)=>[F,d];break;case"topMiddle":X=(F,d)=>[F/2,0],V=(F,d)=>[F/2,d];break;case"topRight":J=!0,X=(F,d)=>[F,0],V=(F,d)=>[0,d];break;case"middleRight":te=!0,X=(F,d)=>[F,d/2],V=(F,d)=>[0,d/2];break;case"bottomRight":J=!0,X=(F,d)=>[F,d],V=(F,d)=>[0,0];break;case"bottomMiddle":X=(F,d)=>[F/2,d],V=(F,d)=>[F/2,0];break;case"bottomLeft":J=!0,X=(F,d)=>[0,d],V=(F,d)=>[F,0];break;case"middleLeft":te=!0,X=(F,d)=>[0,d/2],V=(F,d)=>[F,d/2];break}const ve=X(_,x),de=V(_,x);let he=b(...de);const _e=U(f+he[0]),oe=U(o+he[1]);let B=1,E=1,[v,g]=this.screenToPageTranslation(i.movementX,i.movementY);if([v,g]=G(v/a,g/y),J){const F=Math.hypot(_,x);B=E=Math.max(Math.min(Math.hypot(de[0]-ve[0]-v,de[1]-ve[1]-g)/F,1/_,1/x),p/_,T/x)}else te?B=Math.max(p,Math.min(1,Math.abs(de[0]-ve[0]-v)))/_:E=Math.max(T,Math.min(1,Math.abs(de[1]-ve[1]-g)))/x;const m=U(_*B),P=U(x*E);he=b(...V(m,P));const I=_e-he[0],z=oe-he[1];this.width=m,this.height=P,this.x=I,this.y=z,this.setDims(a*m,y*P),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const u=this.#n=document.createElement("button");u.className="altText";const i=await D._l10nPromise.get("editor_alt_text_button_label");u.textContent=i,u.setAttribute("aria-label",i),u.tabIndex="0",u.addEventListener("contextmenu",N.noContextMenu),u.addEventListener("pointerdown",a=>a.stopPropagation()),u.addEventListener("click",a=>{a.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),u.addEventListener("keydown",a=>{a.target===u&&a.key==="Enter"&&(a.preventDefault(),this._uiManager.editAltText(this))}),this.#k(),this.div.append(u),D.SMALL_EDITOR_SIZE||(D.SMALL_EDITOR_SIZE=Math.min(128,Math.round(u.getBoundingClientRect().width*1.4)))}async#k(){const u=this.#n;if(!u)return;if(!this.#e&&!this.#t){u.classList.remove("done"),this.#r?.remove();return}D._l10nPromise.get("editor_alt_text_edit_button_label").then(a=>{u.setAttribute("aria-label",a)});let i=this.#r;if(!i){this.#r=i=document.createElement("span"),i.className="tooltip",i.setAttribute("role","tooltip");const a=i.id=`alt-text-tooltip-${this.id}`;u.setAttribute("aria-describedby",a);const y=100;u.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},y)}),u.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#r?.classList.remove("show")})}u.classList.add("done"),i.innerText=this.#t?await D._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,i.parentNode||u.append(i)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:u,decorative:i}){this.#e===u&&this.#t===i||(this.#e=u,this.#t=i,this.#k())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#u);const[u,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/u).toFixed(2)}%`,this.div.style.maxHeight=`${(100*u/i).toFixed(2)}%`);const[a,y]=this.getInitialTranslation();return this.translate(a,y),(0,h.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(u){const{isMac:i}=A.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&i){u.preventDefault();return}this.#i=!0,this.#P(u)}#P(u){if(!this._isDraggable)return;const i=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let a,y;i&&(a={passive:!0,capture:!0},y=o=>{const[_,x]=this.screenToPageTranslation(o.movementX,o.movementY);this._uiManager.dragSelectedEditors(_,x)},window.addEventListener("pointermove",y,a));const f=()=>{if(window.removeEventListener("pointerup",f),window.removeEventListener("blur",f),i&&window.removeEventListener("pointermove",y,a),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:o}=A.FeatureTest.platform;u.ctrlKey&&!o||u.shiftKey||u.metaKey&&o?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",f),window.addEventListener("blur",f)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(u,i,a){u.changeParent(this),this.x=i,this.y=a,this.fixAndSetPosition()}getRect(u,i){const a=this.parentScale,[y,f]=this.pageDimensions,[o,_]=this.pageTranslation,x=u/a,p=i/a,T=this.x*y,U=this.y*f,O=this.width*y,b=this.height*f;switch(this.rotation){case 0:return[T+x+o,f-U-p-b+_,T+x+O+o,f-U-p+_];case 90:return[T+p+o,f-U+x+_,T+p+b+o,f-U+x+O+_];case 180:return[T-x-O+o,f-U+p+_,T-x+o,f-U+p+b+_];case 270:return[T-p-b+o,f-U-x-O+_,T-p+o,f-U-x+_];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(u,i){const[a,y,f,o]=u,_=f-a,x=o-y;switch(this.rotation){case 0:return[a,i-o,_,x];case 90:return[a,i-y,x,_];case 180:return[f,i-y,_,x];case 270:return[f,i-o,x,_];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#u)}serialize(u=!1,i=null){(0,A.unreachable)("An editor must be serializable")}static deserialize(u,i,a){const y=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:a});y.rotation=u.rotation;const[f,o]=y.pageDimensions,[_,x,p,T]=y.getRectInCurrentCoords(u.rect,o);return y.x=_/f,y.y=x/o,y.width=p/f,y.height=T/o,y}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#u),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(u,i){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(u){this.#f=u,this.parent&&(u?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(u,i){this.#a=!0;const a=u/i,{style:y}=this.div;y.aspectRatio=a,y.height="auto"}static get MIN_SIZE(){return 16}}l.AnnotationEditor=D;class H extends D{constructor(u){super(u),this.annotationElementId=u.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.KeyboardManager=l.CommandManager=l.ColorManager=l.AnnotationEditorUIManager=void 0,l.bindEvents=N,l.opacityToHex=D;var h=S(1),A=S(6);function N(f,o,_){for(const x of _)o.addEventListener(x,f[x].bind(f))}function D(f){return Math.round(Math.min(255,Math.max(1,255*f))).toString(16).padStart(2,"0")}class H{#e=0;getId(){return`${h.AnnotationEditorPrefix}${this.#e++}`}}class W{#e=(0,h.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const o='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',x=new OffscreenCanvas(1,3).getContext("2d"),p=new Image;p.src=o;const T=p.decode().then(()=>(x.drawImage(p,0,0,1,1,0,0,1,3),new Uint32Array(x.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,h.shadow)(this,"_isSVGFittingCanvas",T)}async#r(o,_){this.#n||=new Map;let x=this.#n.get(o);if(x===null)return null;if(x?.bitmap)return x.refCounter+=1,x;try{x||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let p;if(typeof _=="string"){x.url=_;const T=await fetch(_);if(!T.ok)throw new Error(T.statusText);p=await T.blob()}else p=x.file=_;if(p.type==="image/svg+xml"){const T=W._isSVGFittingCanvas,U=new FileReader,O=new Image,b=new Promise((R,G)=>{O.onload=()=>{x.bitmap=O,x.isSvg=!0,R()},U.onload=async()=>{const X=x.svgUrl=U.result;O.src=await T?`${X}#svgView(preserveAspectRatio(none))`:X},O.onerror=U.onerror=G});U.readAsDataURL(p),await b}else x.bitmap=await createImageBitmap(p);x.refCounter=1}catch(p){console.error(p),x=null}return this.#n.set(o,x),x&&this.#n.set(x.id,x),x}async getFromFile(o){const{lastModified:_,name:x,size:p,type:T}=o;return this.#r(`${_}_${x}_${p}_${T}`,o)}async getFromUrl(o){return this.#r(o,o)}async getFromId(o){this.#n||=new Map;const _=this.#n.get(o);return _?_.bitmap?(_.refCounter+=1,_):_.file?this.getFromFile(_.file):this.getFromUrl(_.url):null}getSvgUrl(o){const _=this.#n.get(o);return _?.isSvg?_.svgUrl:null}deleteId(o){this.#n||=new Map;const _=this.#n.get(o);_&&(_.refCounter-=1,_.refCounter===0&&(_.bitmap=null))}isValidId(o){return o.startsWith(`image_${this.#e}_`)}}class u{#e=[];#t=!1;#n;#r=-1;constructor(o=128){this.#n=o}add({cmd:o,undo:_,mustExec:x,type:p=NaN,overwriteIfSameType:T=!1,keepUndo:U=!1}){if(x&&o(),this.#t)return;const O={cmd:o,undo:_,type:p};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(O);return}if(T&&this.#e[this.#r].type===p){U&&(O.undo=this.#e[this.#r].undo),this.#e[this.#r]=O;return}const b=this.#r+1;b===this.#n?this.#e.splice(0,1):(this.#r=b,b<this.#e.length&&this.#e.splice(b)),this.#e.push(O)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}l.CommandManager=u;class i{constructor(o){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:_}=h.FeatureTest.platform;for(const[x,p,T={}]of o)for(const U of x){const O=U.startsWith("mac+");_&&O?(this.callbacks.set(U.slice(4),{callback:p,options:T}),this.allKeys.add(U.split("+").at(-1))):!_&&!O&&(this.callbacks.set(U,{callback:p,options:T}),this.allKeys.add(U.split("+").at(-1)))}}#e(o){o.altKey&&this.buffer.push("alt"),o.ctrlKey&&this.buffer.push("ctrl"),o.metaKey&&this.buffer.push("meta"),o.shiftKey&&this.buffer.push("shift"),this.buffer.push(o.key);const _=this.buffer.join("+");return this.buffer.length=0,_}exec(o,_){if(!this.allKeys.has(_.key))return;const x=this.callbacks.get(this.#e(_));if(!x)return;const{callback:p,options:{bubbles:T=!1,args:U=[],checker:O=null}}=x;O&&!O(o,_)||(p.bind(o,...U)(),T||(_.stopPropagation(),_.preventDefault()))}}l.KeyboardManager=i;class a{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const o=new Map([["CanvasText",null],["Canvas",null]]);return(0,A.getColorValues)(o),(0,h.shadow)(this,"_colors",o)}convert(o){const _=(0,A.getRGB)(o);if(!window.matchMedia("(forced-colors: active)").matches)return _;for(const[x,p]of this._colors)if(p.every((T,U)=>T===_[U]))return a._colorsMapping.get(x);return _}getHexCode(o){const _=this._colors.get(o);return _?h.Util.makeHexColor(..._):o}}l.ColorManager=a;class y{#e=null;#t=new Map;#n=new Map;#r=null;#o=null;#a=new u;#s=0;#l=new Set;#u=null;#i=null;#f=new Set;#d=null;#h=new H;#p=!1;#v=!1;#g=null;#m=h.AnnotationEditorType.NONE;#c=new Set;#y=null;#E=this.blur.bind(this);#S=this.focus.bind(this);#k=this.copy.bind(this);#P=this.cut.bind(this);#L=this.paste.bind(this);#I=this.keydown.bind(this);#O=this.onEditingAction.bind(this);#_=this.onPageChanging.bind(this);#D=this.onScaleChanging.bind(this);#T=this.onRotationChanging.bind(this);#R={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#x=[0,0];#C=null;#b=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const o=y.prototype,_=T=>{const{activeElement:U}=document;return U&&T.#b.contains(U)&&T.hasSomethingToControl()},x=this.TRANSLATE_SMALL,p=this.TRANSLATE_BIG;return(0,h.shadow)(this,"_keyboardManager",new i([[["ctrl+a","mac+meta+a"],o.selectAll],[["ctrl+z","mac+meta+z"],o.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],o.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],o.delete],[["Escape","mac+Escape"],o.unselectAll],[["ArrowLeft","mac+ArrowLeft"],o.translateSelectedEditors,{args:[-x,0],checker:_}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],o.translateSelectedEditors,{args:[-p,0],checker:_}],[["ArrowRight","mac+ArrowRight"],o.translateSelectedEditors,{args:[x,0],checker:_}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],o.translateSelectedEditors,{args:[p,0],checker:_}],[["ArrowUp","mac+ArrowUp"],o.translateSelectedEditors,{args:[0,-x],checker:_}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],o.translateSelectedEditors,{args:[0,-p],checker:_}],[["ArrowDown","mac+ArrowDown"],o.translateSelectedEditors,{args:[0,x],checker:_}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],o.translateSelectedEditors,{args:[0,p],checker:_}]]))}constructor(o,_,x,p,T,U){this.#b=o,this.#N=_,this.#r=x,this._eventBus=p,this._eventBus._on("editingaction",this.#O),this._eventBus._on("pagechanging",this.#_),this._eventBus._on("scalechanging",this.#D),this._eventBus._on("rotationchanging",this.#T),this.#o=T.annotationStorage,this.#d=T.filterFactory,this.#y=U,this.viewParameters={realScale:A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#M(),this.#U(),this._eventBus._off("editingaction",this.#O),this._eventBus._off("pagechanging",this.#_),this._eventBus._off("scalechanging",this.#D),this._eventBus._off("rotationchanging",this.#T);for(const o of this.#n.values())o.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#c.clear(),this.#a.destroy(),this.#r.destroy()}get hcmFilter(){return(0,h.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,h.shadow)(this,"direction",getComputedStyle(this.#b).direction)}editAltText(o){this.#r?.editAltText(this,o)}onPageChanging({pageNumber:o}){this.#s=o-1}focusMainContainer(){this.#b.focus()}findParent(o,_){for(const x of this.#n.values()){const{x:p,y:T,width:U,height:O}=x.div.getBoundingClientRect();if(o>=p&&o<=p+U&&_>=T&&_<=T+O)return x}return null}disableUserSelect(o=!1){this.#N.classList.toggle("noUserSelect",o)}addShouldRescale(o){this.#f.add(o)}removeShouldRescale(o){this.#f.delete(o)}onScaleChanging({scale:o}){this.commitOrRemove(),this.viewParameters.realScale=o*A.PixelsPerInch.PDF_TO_CSS_UNITS;for(const _ of this.#f)_.onScaleChanging()}onRotationChanging({pagesRotation:o}){this.commitOrRemove(),this.viewParameters.rotation=o}addToAnnotationStorage(o){!o.isEmpty()&&this.#o&&!this.#o.has(o.id)&&this.#o.setValue(o.id,o)}#j(){window.addEventListener("focus",this.#S),window.addEventListener("blur",this.#E)}#U(){window.removeEventListener("focus",this.#S),window.removeEventListener("blur",this.#E)}blur(){if(!this.hasSelection)return;const{activeElement:o}=document;for(const _ of this.#c)if(_.div.contains(o)){this.#g=[_,o],_._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[o,_]=this.#g;this.#g=null,_.addEventListener("focusin",()=>{o._focusEventsAllowed=!0},{once:!0}),_.focus()}#z(){window.addEventListener("keydown",this.#I,{capture:!0})}#M(){window.removeEventListener("keydown",this.#I,{capture:!0})}#F(){document.addEventListener("copy",this.#k),document.addEventListener("cut",this.#P),document.addEventListener("paste",this.#L)}#w(){document.removeEventListener("copy",this.#k),document.removeEventListener("cut",this.#P),document.removeEventListener("paste",this.#L)}addEditListeners(){this.#z(),this.#F()}removeEditListeners(){this.#M(),this.#w()}copy(o){if(o.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const _=[];for(const x of this.#c){const p=x.serialize(!0);p&&_.push(p)}_.length!==0&&o.clipboardData.setData("application/pdfjs",JSON.stringify(_))}cut(o){this.copy(o),this.delete()}paste(o){o.preventDefault();const{clipboardData:_}=o;for(const T of _.items)for(const U of this.#i)if(U.isHandlingMimeForPasting(T.type)){U.paste(T,this.currentLayer);return}let x=_.getData("application/pdfjs");if(!x)return;try{x=JSON.parse(x)}catch(T){(0,h.warn)(`paste: "${T.message}".`);return}if(!Array.isArray(x))return;this.unselectAll();const p=this.currentLayer;try{const T=[];for(const b of x){const R=p.deserialize(b);if(!R)return;T.push(R)}const U=()=>{for(const b of T)this.#W(b);this.#$(T)},O=()=>{for(const b of T)b.remove()};this.addCommands({cmd:U,undo:O,mustExec:!0})}catch(T){(0,h.warn)(`paste: "${T.message}".`)}}keydown(o){this.getActive()?.shouldGetKeyboardEvents()||y._keyboardManager.exec(this,o)}onEditingAction(o){["undo","redo","delete","selectAll"].includes(o.name)&&this[o.name]()}#A(o){Object.entries(o).some(([x,p])=>this.#R[x]!==p)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#R,o)})}#B(o){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:o})}setEditingState(o){o?(this.#j(),this.#z(),this.#F(),this.#A({isEditing:this.#m!==h.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#U(),this.#M(),this.#w(),this.#A({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(o){if(!this.#i){this.#i=o;for(const _ of this.#i)this.#B(_.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(o){return this.#n.get(o)}get currentPageIndex(){return this.#s}addLayer(o){this.#n.set(o.pageIndex,o),this.#p?o.enable():o.disable()}removeLayer(o){this.#n.delete(o.pageIndex)}updateMode(o,_=null){if(this.#m!==o){if(this.#m=o,o===h.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#V(),this.unselectAll();for(const x of this.#n.values())x.updateMode(o);if(_){for(const x of this.#t.values())if(x.annotationElementId===_){this.setSelected(x),x.enterInEditMode();break}}}}updateToolbar(o){o!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:o})}updateParams(o,_){if(this.#i){if(o===h.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(o);return}for(const x of this.#c)x.updateParams(o,_);for(const x of this.#i)x.updateDefaultParams(o,_)}}enableWaiting(o=!1){if(this.#v!==o){this.#v=o;for(const _ of this.#n.values())o?_.disableClick():_.enableClick(),_.div.classList.toggle("waiting",o)}}#V(){if(!this.#p){this.#p=!0;for(const o of this.#n.values())o.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(const o of this.#n.values())o.disable()}}getEditors(o){const _=[];for(const x of this.#t.values())x.pageIndex===o&&_.push(x);return _}getEditor(o){return this.#t.get(o)}addEditor(o){this.#t.set(o.id,o)}removeEditor(o){this.#t.delete(o.id),this.unselect(o),(!o.annotationElementId||!this.#l.has(o.annotationElementId))&&this.#o?.remove(o.id)}addDeletedAnnotationElement(o){this.#l.add(o.annotationElementId),o.deleted=!0}isDeletedAnnotationElement(o){return this.#l.has(o)}removeDeletedAnnotationElement(o){this.#l.delete(o.annotationElementId),o.deleted=!1}#W(o){const _=this.#n.get(o.pageIndex);_?_.addOrRebuild(o):this.addEditor(o)}setActiveEditor(o){this.#e!==o&&(this.#e=o,o&&this.#B(o.propertiesToUpdate))}toggleSelected(o){if(this.#c.has(o)){this.#c.delete(o),o.unselect(),this.#A({hasSelectedEditor:this.hasSelection});return}this.#c.add(o),o.select(),this.#B(o.propertiesToUpdate),this.#A({hasSelectedEditor:!0})}setSelected(o){for(const _ of this.#c)_!==o&&_.unselect();this.#c.clear(),this.#c.add(o),o.select(),this.#B(o.propertiesToUpdate),this.#A({hasSelectedEditor:!0})}isSelected(o){return this.#c.has(o)}unselect(o){o.unselect(),this.#c.delete(o),this.#A({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#c.size!==0}undo(){this.#a.undo(),this.#A({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#a.redo(),this.#A({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(o){this.#a.add(o),this.#A({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const o of this.#t.values())return o.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const o=[...this.#c],_=()=>{for(const p of o)p.remove()},x=()=>{for(const p of o)this.#W(p)};this.addCommands({cmd:_,undo:x,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#$(o){this.#c.clear();for(const _ of o)_.isEmpty()||(this.#c.add(_),_.select());this.#A({hasSelectedEditor:!0})}selectAll(){for(const o of this.#c)o.commit();this.#$(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const o of this.#c)o.unselect();this.#c.clear(),this.#A({hasSelectedEditor:!1})}}translateSelectedEditors(o,_,x=!1){if(x||this.commitOrRemove(),!this.hasSelection)return;this.#x[0]+=o,this.#x[1]+=_;const[p,T]=this.#x,U=[...this.#c],O=1e3;this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.#C=null,this.#x[0]=this.#x[1]=0,this.addCommands({cmd:()=>{for(const b of U)this.#t.has(b.id)&&b.translateInPage(p,T)},undo:()=>{for(const b of U)this.#t.has(b.id)&&b.translateInPage(-p,-T)},mustExec:!1})},O);for(const b of U)b.translateInPage(o,_)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#u=new Map;for(const o of this.#c)this.#u.set(o,{savedX:o.x,savedY:o.y,savedPageIndex:o.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#u)return!1;this.disableUserSelect(!1);const o=this.#u;this.#u=null;let _=!1;for(const[{x:p,y:T,pageIndex:U},O]of o)O.newX=p,O.newY=T,O.newPageIndex=U,_||=p!==O.savedX||T!==O.savedY||U!==O.savedPageIndex;if(!_)return!1;const x=(p,T,U,O)=>{if(this.#t.has(p.id)){const b=this.#n.get(O);b?p._setParentAndPosition(b,T,U):(p.pageIndex=O,p.x=T,p.y=U)}};return this.addCommands({cmd:()=>{for(const[p,{newX:T,newY:U,newPageIndex:O}]of o)x(p,T,U,O)},undo:()=>{for(const[p,{savedX:T,savedY:U,savedPageIndex:O}]of o)x(p,T,U,O)},mustExec:!0}),!0}dragSelectedEditors(o,_){if(this.#u)for(const x of this.#u.keys())x.drag(o,_)}rebuild(o){if(o.parent===null){const _=this.getLayer(o.pageIndex);_?(_.changeParent(o),_.addOrRebuild(o)):(this.addEditor(o),this.addToAnnotationStorage(o),o.rebuild())}else o.parent.addOrRebuild(o)}isActive(o){return this.#e===o}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,h.shadow)(this,"imageManager",new W)}}l.AnnotationEditorUIManager=y}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StatTimer=l.RenderingCancelledException=l.PixelsPerInch=l.PageViewport=l.PDFDateString=l.DOMStandardFontDataFactory=l.DOMSVGFactory=l.DOMFilterFactory=l.DOMCanvasFactory=l.DOMCMapReaderFactory=void 0,l.deprecated=G,l.getColorValues=ve,l.getCurrentTransform=de,l.getCurrentTransformInverse=he,l.getFilenameFromUrl=p,l.getPdfFilenameFromUrl=T,l.getRGB=te,l.getXfaPageViewport=J,l.isDataScheme=_,l.isPdfFile=x,l.isValidFetchUrl=O,l.loadScript=R,l.noContextMenu=b,l.setLayerDimensions=_e;var h=S(7),A=S(1);const N="http://www.w3.org/2000/svg";class D{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}l.PixelsPerInch=D;class H extends h.BaseFilterFactory{#e;#t;#n;#r;#o;#a;#s;#l;#u;#i;#f=0;constructor({docId:B,ownerDocument:E=globalThis.document}={}){super(),this.#n=B,this.#r=E}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const B=this.#r.createElement("div"),{style:E}=B;E.visibility="hidden",E.contain="strict",E.width=E.height=0,E.position="absolute",E.top=E.left=0,E.zIndex=-1;const v=this.#r.createElementNS(N,"svg");v.setAttribute("width",0),v.setAttribute("height",0),this.#t=this.#r.createElementNS(N,"defs"),B.append(v),v.append(this.#t),this.#r.body.append(B)}return this.#t}addFilter(B){if(!B)return"none";let E=this.#d.get(B);if(E)return E;let v,g,m,P;if(B.length===1){const d=B[0],w=new Array(256);for(let C=0;C<256;C++)w[C]=d[C]/255;P=v=g=m=w.join(",")}else{const[d,w,C]=B,L=new Array(256),j=new Array(256),q=new Array(256);for(let K=0;K<256;K++)L[K]=d[K]/255,j[K]=w[K]/255,q[K]=C[K]/255;v=L.join(","),g=j.join(","),m=q.join(","),P=`${v}${g}${m}`}if(E=this.#d.get(P),E)return this.#d.set(B,E),E;const I=`g_${this.#n}_transfer_map_${this.#f++}`,z=`url(#${I})`;this.#d.set(B,z),this.#d.set(P,z);const F=this.#v(I);return this.#m(v,g,m,F),z}addHCMFilter(B,E){const v=`${B}-${E}`;if(this.#a===v)return this.#s;if(this.#a=v,this.#s="none",this.#o?.remove(),!B||!E)return this.#s;const g=this.#c(B);B=A.Util.makeHexColor(...g);const m=this.#c(E);if(E=A.Util.makeHexColor(...m),this.#h.style.color="",B==="#000000"&&E==="#ffffff"||B===E)return this.#s;const P=new Array(256);for(let w=0;w<=255;w++){const C=w/255;P[w]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const I=P.join(","),z=`g_${this.#n}_hcm_filter`,F=this.#l=this.#v(z);this.#m(I,I,I,F),this.#p(F);const d=(w,C)=>{const L=g[w]/255,j=m[w]/255,q=new Array(C+1);for(let K=0;K<=C;K++)q[K]=L+K/C*(j-L);return q.join(",")};return this.#m(d(0,5),d(1,5),d(2,5),F),this.#s=`url(#${z})`,this.#s}addHighlightHCMFilter(B,E,v,g){const m=`${B}-${E}-${v}-${g}`;if(this.#u===m)return this.#i;if(this.#u=m,this.#i="none",this.#l?.remove(),!B||!E)return this.#i;const[P,I]=[B,E].map(this.#c.bind(this));let z=Math.round(.2126*P[0]+.7152*P[1]+.0722*P[2]),F=Math.round(.2126*I[0]+.7152*I[1]+.0722*I[2]),[d,w]=[v,g].map(this.#c.bind(this));F<z&&([z,F,d,w]=[F,z,w,d]),this.#h.style.color="";const C=(q,K,ie)=>{const Ae=new Array(256),se=(F-z)/ie,le=q/255,ue=(K-q)/(255*ie);let ce=0;for(let fe=0;fe<=ie;fe++){const Se=Math.round(z+fe*se),ke=le+fe*ue;for(let Re=ce;Re<=Se;Re++)Ae[Re]=ke;ce=Se+1}for(let fe=ce;fe<256;fe++)Ae[fe]=Ae[ce-1];return Ae.join(",")},L=`g_${this.#n}_hcm_highlight_filter`,j=this.#l=this.#v(L);return this.#p(j),this.#m(C(d[0],w[0],5),C(d[1],w[1],5),C(d[2],w[2],5),j),this.#i=`url(#${L})`,this.#i}destroy(B=!1){B&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(B){const E=this.#r.createElementNS(N,"feColorMatrix");E.setAttribute("type","matrix"),E.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),B.append(E)}#v(B){const E=this.#r.createElementNS(N,"filter");return E.setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("id",B),this.#h.append(E),E}#g(B,E,v){const g=this.#r.createElementNS(N,E);g.setAttribute("type","discrete"),g.setAttribute("tableValues",v),B.append(g)}#m(B,E,v,g){const m=this.#r.createElementNS(N,"feComponentTransfer");g.append(m),this.#g(m,"feFuncR",B),this.#g(m,"feFuncG",E),this.#g(m,"feFuncB",v)}#c(B){return this.#h.style.color=B,te(getComputedStyle(this.#h).getPropertyValue("color"))}}l.DOMFilterFactory=H;class W extends h.BaseCanvasFactory{constructor({ownerDocument:B=globalThis.document}={}){super(),this._document=B}_createCanvas(B,E){const v=this._document.createElement("canvas");return v.width=B,v.height=E,v}}l.DOMCanvasFactory=W;async function u(oe,B=!1){if(O(oe,document.baseURI)){const E=await fetch(oe);if(!E.ok)throw new Error(E.statusText);return B?new Uint8Array(await E.arrayBuffer()):(0,A.stringToBytes)(await E.text())}return new Promise((E,v)=>{const g=new XMLHttpRequest;g.open("GET",oe,!0),B&&(g.responseType="arraybuffer"),g.onreadystatechange=()=>{if(g.readyState===XMLHttpRequest.DONE){if(g.status===200||g.status===0){let m;if(B&&g.response?m=new Uint8Array(g.response):!B&&g.responseText&&(m=(0,A.stringToBytes)(g.responseText)),m){E(m);return}}v(new Error(g.statusText))}},g.send(null)})}class i extends h.BaseCMapReaderFactory{_fetchData(B,E){return u(B,this.isCompressed).then(v=>({cMapData:v,compressionType:E}))}}l.DOMCMapReaderFactory=i;class a extends h.BaseStandardFontDataFactory{_fetchData(B){return u(B,!0)}}l.DOMStandardFontDataFactory=a;class y extends h.BaseSVGFactory{_createSVG(B){return document.createElementNS(N,B)}}l.DOMSVGFactory=y;class f{constructor({viewBox:B,scale:E,rotation:v,offsetX:g=0,offsetY:m=0,dontFlip:P=!1}){this.viewBox=B,this.scale=E,this.rotation=v,this.offsetX=g,this.offsetY=m;const I=(B[2]+B[0])/2,z=(B[3]+B[1])/2;let F,d,w,C;switch(v%=360,v<0&&(v+=360),v){case 180:F=-1,d=0,w=0,C=1;break;case 90:F=0,d=1,w=1,C=0;break;case 270:F=0,d=-1,w=-1,C=0;break;case 0:F=1,d=0,w=0,C=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}P&&(w=-w,C=-C);let L,j,q,K;F===0?(L=Math.abs(z-B[1])*E+g,j=Math.abs(I-B[0])*E+m,q=(B[3]-B[1])*E,K=(B[2]-B[0])*E):(L=Math.abs(I-B[0])*E+g,j=Math.abs(z-B[1])*E+m,q=(B[2]-B[0])*E,K=(B[3]-B[1])*E),this.transform=[F*E,d*E,w*E,C*E,L-F*E*I-w*E*z,j-d*E*I-C*E*z],this.width=q,this.height=K}get rawDims(){const{viewBox:B}=this;return(0,A.shadow)(this,"rawDims",{pageWidth:B[2]-B[0],pageHeight:B[3]-B[1],pageX:B[0],pageY:B[1]})}clone({scale:B=this.scale,rotation:E=this.rotation,offsetX:v=this.offsetX,offsetY:g=this.offsetY,dontFlip:m=!1}={}){return new f({viewBox:this.viewBox.slice(),scale:B,rotation:E,offsetX:v,offsetY:g,dontFlip:m})}convertToViewportPoint(B,E){return A.Util.applyTransform([B,E],this.transform)}convertToViewportRectangle(B){const E=A.Util.applyTransform([B[0],B[1]],this.transform),v=A.Util.applyTransform([B[2],B[3]],this.transform);return[E[0],E[1],v[0],v[1]]}convertToPdfPoint(B,E){return A.Util.applyInverseTransform([B,E],this.transform)}}l.PageViewport=f;class o extends A.BaseException{constructor(B,E=0){super(B,"RenderingCancelledException"),this.extraDelay=E}}l.RenderingCancelledException=o;function _(oe){const B=oe.length;let E=0;for(;E<B&&oe[E].trim()==="";)E++;return oe.substring(E,E+5).toLowerCase()==="data:"}function x(oe){return typeof oe=="string"&&/\.pdf$/i.test(oe)}function p(oe,B=!1){return B||([oe]=oe.split(/[#?]/,1)),oe.substring(oe.lastIndexOf("/")+1)}function T(oe,B="document.pdf"){if(typeof oe!="string")return B;if(_(oe))return(0,A.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),B;const E=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,v=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,g=E.exec(oe);let m=v.exec(g[1])||v.exec(g[2])||v.exec(g[3]);if(m&&(m=m[0],m.includes("%")))try{m=v.exec(decodeURIComponent(m))[0]}catch{}return m||B}class U{started=Object.create(null);times=[];time(B){B in this.started&&(0,A.warn)(`Timer is already running for ${B}`),this.started[B]=Date.now()}timeEnd(B){B in this.started||(0,A.warn)(`Timer has not been started for ${B}`),this.times.push({name:B,start:this.started[B],end:Date.now()}),delete this.started[B]}toString(){const B=[];let E=0;for(const{name:v}of this.times)E=Math.max(v.length,E);for(const{name:v,start:g,end:m}of this.times)B.push(`${v.padEnd(E)} ${m-g}ms
`);return B.join("")}}l.StatTimer=U;function O(oe,B){try{const{protocol:E}=B?new URL(oe,B):new URL(oe);return E==="http:"||E==="https:"}catch{return!1}}function b(oe){oe.preventDefault()}function R(oe,B=!1){return new Promise((E,v)=>{const g=document.createElement("script");g.src=oe,g.onload=function(m){B&&g.remove(),E(m)},g.onerror=function(){v(new Error(`Cannot load script at: ${g.src}`))},(document.head||document.documentElement).append(g)})}function G(oe){console.log("Deprecated API usage: "+oe)}let X;class V{static toDateObject(B){if(!B||typeof B!="string")return null;X||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const E=X.exec(B);if(!E)return null;const v=parseInt(E[1],10);let g=parseInt(E[2],10);g=g>=1&&g<=12?g-1:0;let m=parseInt(E[3],10);m=m>=1&&m<=31?m:1;let P=parseInt(E[4],10);P=P>=0&&P<=23?P:0;let I=parseInt(E[5],10);I=I>=0&&I<=59?I:0;let z=parseInt(E[6],10);z=z>=0&&z<=59?z:0;const F=E[7]||"Z";let d=parseInt(E[8],10);d=d>=0&&d<=23?d:0;let w=parseInt(E[9],10)||0;return w=w>=0&&w<=59?w:0,F==="-"?(P+=d,I+=w):F==="+"&&(P-=d,I-=w),new Date(Date.UTC(v,g,m,P,I,z))}}l.PDFDateString=V;function J(oe,{scale:B=1,rotation:E=0}){const{width:v,height:g}=oe.attributes.style,m=[0,0,parseInt(v),parseInt(g)];return new f({viewBox:m,scale:B,rotation:E})}function te(oe){if(oe.startsWith("#")){const B=parseInt(oe.slice(1),16);return[(B&16711680)>>16,(B&65280)>>8,B&255]}return oe.startsWith("rgb(")?oe.slice(4,-1).split(",").map(B=>parseInt(B)):oe.startsWith("rgba(")?oe.slice(5,-1).split(",").map(B=>parseInt(B)).slice(0,3):((0,A.warn)(`Not a valid color format: "${oe}"`),[0,0,0])}function ve(oe){const B=document.createElement("span");B.style.visibility="hidden",document.body.append(B);for(const E of oe.keys()){B.style.color=E;const v=window.getComputedStyle(B).color;oe.set(E,te(v))}B.remove()}function de(oe){const{a:B,b:E,c:v,d:g,e:m,f:P}=oe.getTransform();return[B,E,v,g,m,P]}function he(oe){const{a:B,b:E,c:v,d:g,e:m,f:P}=oe.getTransform().invertSelf();return[B,E,v,g,m,P]}function _e(oe,B,E=!1,v=!0){if(B instanceof f){const{pageWidth:g,pageHeight:m}=B.rawDims,{style:P}=oe,I=A.FeatureTest.isCSSRoundSupported,z=`var(--scale-factor) * ${g}px`,F=`var(--scale-factor) * ${m}px`,d=I?`round(${z}, 1px)`:`calc(${z})`,w=I?`round(${F}, 1px)`:`calc(${F})`;!E||B.rotation%180===0?(P.width=d,P.height=w):(P.width=w,P.height=d)}v&&oe.setAttribute("data-main-rotation",B.rotation)}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BaseStandardFontDataFactory=l.BaseSVGFactory=l.BaseFilterFactory=l.BaseCanvasFactory=l.BaseCMapReaderFactory=void 0;var h=S(1);class A{constructor(){this.constructor===A&&(0,h.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(i){return"none"}addHCMFilter(i,a){return"none"}addHighlightHCMFilter(i,a,y,f){return"none"}destroy(i=!1){}}l.BaseFilterFactory=A;class N{constructor(){this.constructor===N&&(0,h.unreachable)("Cannot initialize BaseCanvasFactory.")}create(i,a){if(i<=0||a<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(i,a);return{canvas:y,context:y.getContext("2d")}}reset(i,a,y){if(!i.canvas)throw new Error("Canvas is not specified");if(a<=0||y<=0)throw new Error("Invalid canvas size");i.canvas.width=a,i.canvas.height=y}destroy(i){if(!i.canvas)throw new Error("Canvas is not specified");i.canvas.width=0,i.canvas.height=0,i.canvas=null,i.context=null}_createCanvas(i,a){(0,h.unreachable)("Abstract method `_createCanvas` called.")}}l.BaseCanvasFactory=N;class D{constructor({baseUrl:i=null,isCompressed:a=!0}){this.constructor===D&&(0,h.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=i,this.isCompressed=a}async fetch({name:i}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!i)throw new Error("CMap name must be specified.");const a=this.baseUrl+i+(this.isCompressed?".bcmap":""),y=this.isCompressed?h.CMapCompressionType.BINARY:h.CMapCompressionType.NONE;return this._fetchData(a,y).catch(f=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${a}`)})}_fetchData(i,a){(0,h.unreachable)("Abstract method `_fetchData` called.")}}l.BaseCMapReaderFactory=D;class H{constructor({baseUrl:i=null}){this.constructor===H&&(0,h.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=i}async fetch({filename:i}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!i)throw new Error("Font filename must be specified.");const a=`${this.baseUrl}${i}`;return this._fetchData(a).catch(y=>{throw new Error(`Unable to load font data at: ${a}`)})}_fetchData(i){(0,h.unreachable)("Abstract method `_fetchData` called.")}}l.BaseStandardFontDataFactory=H;class W{constructor(){this.constructor===W&&(0,h.unreachable)("Cannot initialize BaseSVGFactory.")}create(i,a,y=!1){if(i<=0||a<=0)throw new Error("Invalid SVG dimensions");const f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),y||(f.setAttribute("width",`${i}px`),f.setAttribute("height",`${a}px`)),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox",`0 0 ${i} ${a}`),f}createElement(i){if(typeof i!="string")throw new Error("Invalid SVG element type");return this._createSVG(i)}_createSVG(i){(0,h.unreachable)("Abstract method `_createSVG` called.")}}l.BaseSVGFactory=W}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MurmurHash3_64=void 0;var h=S(1);const A=3285377520,N=4294901760,D=65535;class H{constructor(u){this.h1=u?u&4294967295:A,this.h2=u?u&4294967295:A}update(u){let i,a;if(typeof u=="string"){i=new Uint8Array(u.length*2),a=0;for(let G=0,X=u.length;G<X;G++){const V=u.charCodeAt(G);V<=255?i[a++]=V:(i[a++]=V>>>8,i[a++]=V&255)}}else if((0,h.isArrayBuffer)(u))i=u.slice(),a=i.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=a>>2,f=a-y*4,o=new Uint32Array(i.buffer,0,y);let _=0,x=0,p=this.h1,T=this.h2;const U=3432918353,O=461845907,b=U&D,R=O&D;for(let G=0;G<y;G++)G&1?(_=o[G],_=_*U&N|_*b&D,_=_<<15|_>>>17,_=_*O&N|_*R&D,p^=_,p=p<<13|p>>>19,p=p*5+3864292196):(x=o[G],x=x*U&N|x*b&D,x=x<<15|x>>>17,x=x*O&N|x*R&D,T^=x,T=T<<13|T>>>19,T=T*5+3864292196);switch(_=0,f){case 3:_^=i[y*4+2]<<16;case 2:_^=i[y*4+1]<<8;case 1:_^=i[y*4],_=_*U&N|_*b&D,_=_<<15|_>>>17,_=_*O&N|_*R&D,y&1?p^=_:T^=_}this.h1=p,this.h2=T}hexdigest(){let u=this.h1,i=this.h2;return u^=i>>>1,u=u*3981806797&N|u*36045&D,i=i*4283543511&N|((i<<16|u>>>16)*2950163797&N)>>>16,u^=i>>>1,u=u*444984403&N|u*60499&D,i=i*3301882366&N|((i<<16|u>>>16)*3120437893&N)>>>16,u^=i>>>1,(u>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}l.MurmurHash3_64=H}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FontLoader=l.FontFaceObject=void 0;var h=S(1);class A{#e=new Set;constructor({ownerDocument:H=globalThis.document,styleElement:W=null}){this._document=H,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(H){this.nativeFontFaces.add(H),this._document.fonts.add(H)}removeNativeFontFace(H){this.nativeFontFaces.delete(H),this._document.fonts.delete(H)}insertRule(H){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const W=this.styleElement.sheet;W.insertRule(H,W.cssRules.length)}clear(){for(const H of this.nativeFontFaces)this._document.fonts.delete(H);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(H){if(!(!H||this.#e.has(H.loadedName))){if((0,h.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:W,src:u,style:i}=H,a=new FontFace(W,u,i);this.addNativeFontFace(a);try{await a.load(),this.#e.add(W)}catch{(0,h.warn)(`Cannot load system font: ${H.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}(0,h.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(H){if(H.attached||H.missingFile&&!H.systemFontInfo)return;if(H.attached=!0,H.systemFontInfo){await this.loadSystemFont(H.systemFontInfo);return}if(this.isFontLoadingAPISupported){const u=H.createNativeFontFace();if(u){this.addNativeFontFace(u);try{await u.loaded}catch(i){throw(0,h.warn)(`Failed to load font '${u.family}': '${i}'.`),H.disableFontFace=!0,i}}return}const W=H.createFontFaceRule();if(W){if(this.insertRule(W),this.isSyncFontLoadingSupported)return;await new Promise(u=>{const i=this._queueLoadingCallback(u);this._prepareFontLoadEvent(H,i)})}}get isFontLoadingAPISupported(){const H=!!this._document?.fonts;return(0,h.shadow)(this,"isFontLoadingAPISupported",H)}get isSyncFontLoadingSupported(){let H=!1;return(h.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(H=!0),(0,h.shadow)(this,"isSyncFontLoadingSupported",H)}_queueLoadingCallback(H){function W(){for((0,h.assert)(!i.done,"completeRequest() cannot be called twice."),i.done=!0;u.length>0&&u[0].done;){const a=u.shift();setTimeout(a.callback,0)}}const{loadingRequests:u}=this,i={done:!1,complete:W,callback:H};return u.push(i),i}get _loadTestFont(){const H=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,h.shadow)(this,"_loadTestFont",H)}_prepareFontLoadEvent(H,W){function u(J,te){return J.charCodeAt(te)<<24|J.charCodeAt(te+1)<<16|J.charCodeAt(te+2)<<8|J.charCodeAt(te+3)&255}function i(J,te,ve,de){const he=J.substring(0,te),_e=J.substring(te+ve);return he+de+_e}let a,y;const f=this._document.createElement("canvas");f.width=1,f.height=1;const o=f.getContext("2d");let _=0;function x(J,te){if(++_>30){(0,h.warn)("Load test font never loaded."),te();return}if(o.font="30px "+J,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0){te();return}setTimeout(x.bind(null,J,te))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let T=this._loadTestFont;T=i(T,976,p.length,p);const O=16,b=1482184792;let R=u(T,O);for(a=0,y=p.length-3;a<y;a+=4)R=R-b+u(p,a)|0;a<p.length&&(R=R-b+u(p+"XXX",a)|0),T=i(T,O,4,(0,h.string32)(R));const G=`url(data:font/opentype;base64,${btoa(T)});`,X=`@font-face {font-family:"${p}";src:${G}}`;this.insertRule(X);const V=this._document.createElement("div");V.style.visibility="hidden",V.style.width=V.style.height="10px",V.style.position="absolute",V.style.top=V.style.left="0px";for(const J of[H.loadedName,p]){const te=this._document.createElement("span");te.textContent="Hi",te.style.fontFamily=J,V.append(te)}this._document.body.append(V),x(p,()=>{V.remove(),W.complete()})}}l.FontLoader=A;class N{constructor(H,{isEvalSupported:W=!0,disableFontFace:u=!1,ignoreErrors:i=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const y in H)this[y]=H[y];this.isEvalSupported=W!==!1,this.disableFontFace=u===!0,this.ignoreErrors=i===!0,this._inspectFont=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let H;if(!this.cssFontInfo)H=new FontFace(this.loadedName,this.data,{});else{const W={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(W.style=`oblique ${this.cssFontInfo.italicAngle}deg`),H=new FontFace(this.cssFontInfo.fontFamily,this.data,W)}return this._inspectFont?.(this),H}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const H=(0,h.bytesToString)(this.data),W=`url(data:${this.mimetype};base64,${btoa(H)});`;let u;if(!this.cssFontInfo)u=`@font-face {font-family:"${this.loadedName}";src:${W}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${W}}`}return this._inspectFont?.(this,W),u}getPathGenerator(H,W){if(this.compiledGlyphs[W]!==void 0)return this.compiledGlyphs[W];let u;try{u=H.get(this.loadedName+"_path_"+W)}catch(i){if(!this.ignoreErrors)throw i;return(0,h.warn)(`getPathGenerator - ignoring character: "${i}".`),this.compiledGlyphs[W]=function(a,y){}}if(this.isEvalSupported&&h.FeatureTest.isEvalSupported){const i=[];for(const a of u){const y=a.args!==void 0?a.args.join(","):"";i.push("c.",a.cmd,"(",y,`);
`)}return this.compiledGlyphs[W]=new Function("c","size",i.join(""))}return this.compiledGlyphs[W]=function(i,a){for(const y of u)y.cmd==="scale"&&(y.args=[a,-a]),i[y.cmd].apply(i,y.args)}}}l.FontFaceObject=N}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NodeStandardFontDataFactory=l.NodeFilterFactory=l.NodeCanvasFactory=l.NodeCMapReaderFactory=void 0;var h=S(7);S(1);const A=function(u){return new Promise((i,a)=>{require$$5.readFile(u,(f,o)=>{if(f||!o){a(new Error(f));return}i(new Uint8Array(o))})})};class N extends h.BaseFilterFactory{}l.NodeFilterFactory=N;class D extends h.BaseCanvasFactory{_createCanvas(i,a){return require$$5.createCanvas(i,a)}}l.NodeCanvasFactory=D;class H extends h.BaseCMapReaderFactory{_fetchData(i,a){return A(i).then(y=>({cMapData:y,compressionType:a}))}}l.NodeCMapReaderFactory=H;class W extends h.BaseStandardFontDataFactory{_fetchData(i){return A(i)}}l.NodeStandardFontDataFactory=W}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CanvasGraphics=void 0;var h=S(1),A=S(6),N=S(12),D=S(13);const H=16,W=100,u=4096,i=15,a=10,y=1e3,f=16;function o(E,v){if(E._removeMirroring)throw new Error("Context is already forwarding operations.");E.__originalSave=E.save,E.__originalRestore=E.restore,E.__originalRotate=E.rotate,E.__originalScale=E.scale,E.__originalTranslate=E.translate,E.__originalTransform=E.transform,E.__originalSetTransform=E.setTransform,E.__originalResetTransform=E.resetTransform,E.__originalClip=E.clip,E.__originalMoveTo=E.moveTo,E.__originalLineTo=E.lineTo,E.__originalBezierCurveTo=E.bezierCurveTo,E.__originalRect=E.rect,E.__originalClosePath=E.closePath,E.__originalBeginPath=E.beginPath,E._removeMirroring=()=>{E.save=E.__originalSave,E.restore=E.__originalRestore,E.rotate=E.__originalRotate,E.scale=E.__originalScale,E.translate=E.__originalTranslate,E.transform=E.__originalTransform,E.setTransform=E.__originalSetTransform,E.resetTransform=E.__originalResetTransform,E.clip=E.__originalClip,E.moveTo=E.__originalMoveTo,E.lineTo=E.__originalLineTo,E.bezierCurveTo=E.__originalBezierCurveTo,E.rect=E.__originalRect,E.closePath=E.__originalClosePath,E.beginPath=E.__originalBeginPath,delete E._removeMirroring},E.save=function(){v.save(),this.__originalSave()},E.restore=function(){v.restore(),this.__originalRestore()},E.translate=function(m,P){v.translate(m,P),this.__originalTranslate(m,P)},E.scale=function(m,P){v.scale(m,P),this.__originalScale(m,P)},E.transform=function(m,P,I,z,F,d){v.transform(m,P,I,z,F,d),this.__originalTransform(m,P,I,z,F,d)},E.setTransform=function(m,P,I,z,F,d){v.setTransform(m,P,I,z,F,d),this.__originalSetTransform(m,P,I,z,F,d)},E.resetTransform=function(){v.resetTransform(),this.__originalResetTransform()},E.rotate=function(m){v.rotate(m),this.__originalRotate(m)},E.clip=function(m){v.clip(m),this.__originalClip(m)},E.moveTo=function(g,m){v.moveTo(g,m),this.__originalMoveTo(g,m)},E.lineTo=function(g,m){v.lineTo(g,m),this.__originalLineTo(g,m)},E.bezierCurveTo=function(g,m,P,I,z,F){v.bezierCurveTo(g,m,P,I,z,F),this.__originalBezierCurveTo(g,m,P,I,z,F)},E.rect=function(g,m,P,I){v.rect(g,m,P,I),this.__originalRect(g,m,P,I)},E.closePath=function(){v.closePath(),this.__originalClosePath()},E.beginPath=function(){v.beginPath(),this.__originalBeginPath()}}class _{constructor(v){this.canvasFactory=v,this.cache=Object.create(null)}getCanvas(v,g,m){let P;return this.cache[v]!==void 0?(P=this.cache[v],this.canvasFactory.reset(P,g,m)):(P=this.canvasFactory.create(g,m),this.cache[v]=P),P}delete(v){delete this.cache[v]}clear(){for(const v in this.cache){const g=this.cache[v];this.canvasFactory.destroy(g),delete this.cache[v]}}}function x(E,v,g,m,P,I,z,F,d,w){const[C,L,j,q,K,ie]=(0,A.getCurrentTransform)(E);if(L===0&&j===0){const le=z*C+K,ue=Math.round(le),ce=F*q+ie,fe=Math.round(ce),Se=(z+d)*C+K,ke=Math.abs(Math.round(Se)-ue)||1,Re=(F+w)*q+ie,De=Math.abs(Math.round(Re)-fe)||1;return E.setTransform(Math.sign(C),0,0,Math.sign(q),ue,fe),E.drawImage(v,g,m,P,I,0,0,ke,De),E.setTransform(C,L,j,q,K,ie),[ke,De]}if(C===0&&q===0){const le=F*j+K,ue=Math.round(le),ce=z*L+ie,fe=Math.round(ce),Se=(F+w)*j+K,ke=Math.abs(Math.round(Se)-ue)||1,Re=(z+d)*L+ie,De=Math.abs(Math.round(Re)-fe)||1;return E.setTransform(0,Math.sign(L),Math.sign(j),0,ue,fe),E.drawImage(v,g,m,P,I,0,0,De,ke),E.setTransform(C,L,j,q,K,ie),[De,ke]}E.drawImage(v,g,m,P,I,z,F,d,w);const Ae=Math.hypot(C,L),se=Math.hypot(j,q);return[Ae*d,se*w]}function p(E){const{width:v,height:g}=E;if(v>y||g>y)return null;const m=1e3,P=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),I=v+1;let z=new Uint8Array(I*(g+1)),F,d,w;const C=v+7&-8;let L=new Uint8Array(C*g),j=0;for(const se of E.data){let le=128;for(;le>0;)L[j++]=se&le?0:255,le>>=1}let q=0;for(j=0,L[j]!==0&&(z[0]=1,++q),d=1;d<v;d++)L[j]!==L[j+1]&&(z[d]=L[j]?2:1,++q),j++;for(L[j]!==0&&(z[d]=2,++q),F=1;F<g;F++){j=F*C,w=F*I,L[j-C]!==L[j]&&(z[w]=L[j]?1:8,++q);let se=(L[j]?4:0)+(L[j-C]?8:0);for(d=1;d<v;d++)se=(se>>2)+(L[j+1]?4:0)+(L[j-C+1]?8:0),P[se]&&(z[w+d]=P[se],++q),j++;if(L[j-C]!==L[j]&&(z[w+d]=L[j]?2:4,++q),q>m)return null}for(j=C*(g-1),w=F*I,L[j]!==0&&(z[w]=8,++q),d=1;d<v;d++)L[j]!==L[j+1]&&(z[w+d]=L[j]?4:8,++q),j++;if(L[j]!==0&&(z[w+d]=4,++q),q>m)return null;const K=new Int32Array([0,I,-1,0,-I,0,0,0,1]),ie=new Path2D;for(F=0;q&&F<=g;F++){let se=F*I;const le=se+v;for(;se<le&&!z[se];)se++;if(se===le)continue;ie.moveTo(se%I,F);const ue=se;let ce=z[se];do{const fe=K[ce];do se+=fe;while(!z[se]);const Se=z[se];Se!==5&&Se!==10?(ce=Se,z[se]=0):(ce=Se&51*ce>>4,z[se]&=ce>>2|ce<<2),ie.lineTo(se%I,se/I|0),z[se]||--q}while(ue!==se);--F}return L=null,z=null,function(se){se.save(),se.scale(1/v,-1/g),se.translate(0,-g),se.fill(ie),se.beginPath(),se.restore()}}class T{constructor(v,g){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=h.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,v,g])}clone(){const v=Object.create(this);return v.clipBox=this.clipBox.slice(),v}setCurrentPoint(v,g){this.x=v,this.y=g}updatePathMinMax(v,g,m){[g,m]=h.Util.applyTransform([g,m],v),this.minX=Math.min(this.minX,g),this.minY=Math.min(this.minY,m),this.maxX=Math.max(this.maxX,g),this.maxY=Math.max(this.maxY,m)}updateRectMinMax(v,g){const m=h.Util.applyTransform(g,v),P=h.Util.applyTransform(g.slice(2),v);this.minX=Math.min(this.minX,m[0],P[0]),this.minY=Math.min(this.minY,m[1],P[1]),this.maxX=Math.max(this.maxX,m[0],P[0]),this.maxY=Math.max(this.maxY,m[1],P[1])}updateScalingPathMinMax(v,g){h.Util.scaleMinMax(v,g),this.minX=Math.min(this.minX,g[0]),this.maxX=Math.max(this.maxX,g[1]),this.minY=Math.min(this.minY,g[2]),this.maxY=Math.max(this.maxY,g[3])}updateCurvePathMinMax(v,g,m,P,I,z,F,d,w,C){const L=h.Util.bezierBoundingBox(g,m,P,I,z,F,d,w);if(C){C[0]=Math.min(C[0],L[0],L[2]),C[1]=Math.max(C[1],L[0],L[2]),C[2]=Math.min(C[2],L[1],L[3]),C[3]=Math.max(C[3],L[1],L[3]);return}this.updateRectMinMax(v,L)}getPathBoundingBox(v=N.PathType.FILL,g=null){const m=[this.minX,this.minY,this.maxX,this.maxY];if(v===N.PathType.STROKE){g||(0,h.unreachable)("Stroke bounding box must include transform.");const P=h.Util.singularValueDecompose2dScale(g),I=P[0]*this.lineWidth/2,z=P[1]*this.lineWidth/2;m[0]-=I,m[1]-=z,m[2]+=I,m[3]+=z}return m}updateClipFromPath(){const v=h.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(v||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(v){this.clipBox=v,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(v=N.PathType.FILL,g=null){return h.Util.intersect(this.clipBox,this.getPathBoundingBox(v,g))}}function U(E,v){if(typeof ImageData<"u"&&v instanceof ImageData){E.putImageData(v,0,0);return}const g=v.height,m=v.width,P=g%f,I=(g-P)/f,z=P===0?I:I+1,F=E.createImageData(m,f);let d=0,w;const C=v.data,L=F.data;let j,q,K,ie;if(v.kind===h.ImageKind.GRAYSCALE_1BPP){const Ae=C.byteLength,se=new Uint32Array(L.buffer,0,L.byteLength>>2),le=se.length,ue=m+7>>3,ce=4294967295,fe=h.FeatureTest.isLittleEndian?4278190080:255;for(j=0;j<z;j++){for(K=j<I?f:P,w=0,q=0;q<K;q++){const Se=Ae-d;let ke=0;const Re=Se>ue?m:Se*8-7,De=Re&-8;let Ie=0,Ue=0;for(;ke<De;ke+=8)Ue=C[d++],se[w++]=Ue&128?ce:fe,se[w++]=Ue&64?ce:fe,se[w++]=Ue&32?ce:fe,se[w++]=Ue&16?ce:fe,se[w++]=Ue&8?ce:fe,se[w++]=Ue&4?ce:fe,se[w++]=Ue&2?ce:fe,se[w++]=Ue&1?ce:fe;for(;ke<Re;ke++)Ie===0&&(Ue=C[d++],Ie=128),se[w++]=Ue&Ie?ce:fe,Ie>>=1}for(;w<le;)se[w++]=0;E.putImageData(F,0,j*f)}}else if(v.kind===h.ImageKind.RGBA_32BPP){for(q=0,ie=m*f*4,j=0;j<I;j++)L.set(C.subarray(d,d+ie)),d+=ie,E.putImageData(F,0,q),q+=f;j<z&&(ie=m*P*4,L.set(C.subarray(d,d+ie)),E.putImageData(F,0,q))}else if(v.kind===h.ImageKind.RGB_24BPP)for(K=f,ie=m*K,j=0;j<z;j++){for(j>=I&&(K=P,ie=m*K),w=0,q=ie;q--;)L[w++]=C[d++],L[w++]=C[d++],L[w++]=C[d++],L[w++]=255;E.putImageData(F,0,j*f)}else throw new Error(`bad image kind: ${v.kind}`)}function O(E,v){if(v.bitmap){E.drawImage(v.bitmap,0,0);return}const g=v.height,m=v.width,P=g%f,I=(g-P)/f,z=P===0?I:I+1,F=E.createImageData(m,f);let d=0;const w=v.data,C=F.data;for(let L=0;L<z;L++){const j=L<I?f:P;({srcPos:d}=(0,D.convertBlackAndWhiteToRGBA)({src:w,srcPos:d,dest:C,width:m,height:j,nonBlackColor:0})),E.putImageData(F,0,L*f)}}function b(E,v){const g=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const m of g)E[m]!==void 0&&(v[m]=E[m]);E.setLineDash!==void 0&&(v.setLineDash(E.getLineDash()),v.lineDashOffset=E.lineDashOffset)}function R(E){if(E.strokeStyle=E.fillStyle="#000000",E.fillRule="nonzero",E.globalAlpha=1,E.lineWidth=1,E.lineCap="butt",E.lineJoin="miter",E.miterLimit=10,E.globalCompositeOperation="source-over",E.font="10px sans-serif",E.setLineDash!==void 0&&(E.setLineDash([]),E.lineDashOffset=0),!h.isNodeJS){const{filter:v}=E;v!=="none"&&v!==""&&(E.filter="none")}}function G(E,v,g,m){const P=E.length;for(let I=3;I<P;I+=4){const z=E[I];if(z===0)E[I-3]=v,E[I-2]=g,E[I-1]=m;else if(z<255){const F=255-z;E[I-3]=E[I-3]*z+v*F>>8,E[I-2]=E[I-2]*z+g*F>>8,E[I-1]=E[I-1]*z+m*F>>8}}}function X(E,v,g){const m=E.length,P=1/255;for(let I=3;I<m;I+=4){const z=g?g[E[I]]:E[I];v[I]=v[I]*z*P|0}}function V(E,v,g){const m=E.length;for(let P=3;P<m;P+=4){const I=E[P-3]*77+E[P-2]*152+E[P-1]*28;v[P]=g?v[P]*g[I>>8]>>8:v[P]*I>>16}}function J(E,v,g,m,P,I,z,F,d,w,C){const L=!!I,j=L?I[0]:0,q=L?I[1]:0,K=L?I[2]:0,ie=P==="Luminosity"?V:X,se=Math.min(m,Math.ceil(1048576/g));for(let le=0;le<m;le+=se){const ue=Math.min(se,m-le),ce=E.getImageData(F-w,le+(d-C),g,ue),fe=v.getImageData(F,le+d,g,ue);L&&G(ce.data,j,q,K),ie(ce.data,fe.data,z),v.putImageData(fe,F,le+d)}}function te(E,v,g,m){const P=m[0],I=m[1],z=m[2]-P,F=m[3]-I;z===0||F===0||(J(v.context,g,z,F,v.subtype,v.backdrop,v.transferMap,P,I,v.offsetX,v.offsetY),E.save(),E.globalAlpha=1,E.globalCompositeOperation="source-over",E.setTransform(1,0,0,1,0,0),E.drawImage(g.canvas,0,0),E.restore())}function ve(E,v){const g=h.Util.singularValueDecompose2dScale(E);g[0]=Math.fround(g[0]),g[1]=Math.fround(g[1]);const m=Math.fround((globalThis.devicePixelRatio||1)*A.PixelsPerInch.PDF_TO_CSS_UNITS);return v!==void 0?v:g[0]<=m||g[1]<=m}const de=["butt","round","square"],he=["miter","round","bevel"],_e={},oe={};class B{constructor(v,g,m,P,I,{optionalContentConfig:z,markedContentStack:F=null},d,w){this.ctx=v,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=g,this.objs=m,this.canvasFactory=P,this.filterFactory=I,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=F||[],this.optionalContentConfig=z,this.cachedCanvases=new _(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=w,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(v,g=null){return typeof v=="string"?v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v):g}beginDrawing({transform:v,viewport:g,transparency:m=!1,background:P=null}){const I=this.ctx.canvas.width,z=this.ctx.canvas.height,F=this.ctx.fillStyle;if(this.ctx.fillStyle=P||"#ffffff",this.ctx.fillRect(0,0,I,z),this.ctx.fillStyle=F,m){const d=this.cachedCanvases.getCanvas("transparent",I,z);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...(0,A.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),R(this.ctx),v&&(this.ctx.transform(...v),this.outputScaleX=v[0],this.outputScaleY=v[0]),this.ctx.transform(...g.transform),this.viewportScale=g.scale,this.baseTransform=(0,A.getCurrentTransform)(this.ctx)}executeOperatorList(v,g,m,P){const I=v.argsArray,z=v.fnArray;let F=g||0;const d=I.length;if(d===F)return F;const w=d-F>a&&typeof m=="function",C=w?Date.now()+i:0;let L=0;const j=this.commonObjs,q=this.objs;let K;for(;;){if(P!==void 0&&F===P.nextBreakPoint)return P.breakIt(F,m),F;if(K=z[F],K!==h.OPS.dependency)this[K].apply(this,I[F]);else for(const ie of I[F]){const Ae=ie.startsWith("g_")?j:q;if(!Ae.has(ie))return Ae.get(ie,m),F}if(F++,F===d)return F;if(w&&++L>a){if(Date.now()>C)return m(),F;L=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const v of this._cachedBitmapsMap.values()){for(const g of v.values())typeof HTMLCanvasElement<"u"&&g instanceof HTMLCanvasElement&&(g.width=g.height=0);v.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const v=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(v!=="none"){const g=this.ctx.filter;this.ctx.filter=v,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=g}}}_scaleImage(v,g){const m=v.width,P=v.height;let I=Math.max(Math.hypot(g[0],g[1]),1),z=Math.max(Math.hypot(g[2],g[3]),1),F=m,d=P,w="prescale1",C,L;for(;I>2&&F>1||z>2&&d>1;){let j=F,q=d;I>2&&F>1&&(j=F>=16384?Math.floor(F/2)-1||1:Math.ceil(F/2),I/=F/j),z>2&&d>1&&(q=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,z/=d/q),C=this.cachedCanvases.getCanvas(w,j,q),L=C.context,L.clearRect(0,0,j,q),L.drawImage(v,0,0,F,d,0,0,j,q),v=C.canvas,F=j,d=q,w=w==="prescale1"?"prescale2":"prescale1"}return{img:v,paintWidth:F,paintHeight:d}}_createMaskCanvas(v){const g=this.ctx,{width:m,height:P}=v,I=this.current.fillColor,z=this.current.patternFill,F=(0,A.getCurrentTransform)(g);let d,w,C,L;if((v.bitmap||v.data)&&v.count>1){const ke=v.bitmap||v.data.buffer;w=JSON.stringify(z?F:[F.slice(0,4),I]),d=this._cachedBitmapsMap.get(ke),d||(d=new Map,this._cachedBitmapsMap.set(ke,d));const Re=d.get(w);if(Re&&!z){const De=Math.round(Math.min(F[0],F[2])+F[4]),Ie=Math.round(Math.min(F[1],F[3])+F[5]);return{canvas:Re,offsetX:De,offsetY:Ie}}C=Re}C||(L=this.cachedCanvases.getCanvas("maskCanvas",m,P),O(L.context,v));let j=h.Util.transform(F,[1/m,0,0,-1/P,0,0]);j=h.Util.transform(j,[1,0,0,1,0,-P]);const q=h.Util.applyTransform([0,0],j),K=h.Util.applyTransform([m,P],j),ie=h.Util.normalizeRect([q[0],q[1],K[0],K[1]]),Ae=Math.round(ie[2]-ie[0])||1,se=Math.round(ie[3]-ie[1])||1,le=this.cachedCanvases.getCanvas("fillCanvas",Ae,se),ue=le.context,ce=Math.min(q[0],K[0]),fe=Math.min(q[1],K[1]);ue.translate(-ce,-fe),ue.transform(...j),C||(C=this._scaleImage(L.canvas,(0,A.getCurrentTransformInverse)(ue)),C=C.img,d&&z&&d.set(w,C)),ue.imageSmoothingEnabled=ve((0,A.getCurrentTransform)(ue),v.interpolate),x(ue,C,0,0,C.width,C.height,0,0,m,P),ue.globalCompositeOperation="source-in";const Se=h.Util.transform((0,A.getCurrentTransformInverse)(ue),[1,0,0,1,-ce,-fe]);return ue.fillStyle=z?I.getPattern(g,this,Se,N.PathType.FILL):I,ue.fillRect(0,0,m,P),d&&!z&&(this.cachedCanvases.delete("fillCanvas"),d.set(w,le.canvas)),{canvas:le.canvas,offsetX:Math.round(ce),offsetY:Math.round(fe)}}setLineWidth(v){v!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=v,this.ctx.lineWidth=v}setLineCap(v){this.ctx.lineCap=de[v]}setLineJoin(v){this.ctx.lineJoin=he[v]}setMiterLimit(v){this.ctx.miterLimit=v}setDash(v,g){const m=this.ctx;m.setLineDash!==void 0&&(m.setLineDash(v),m.lineDashOffset=g)}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(const[g,m]of v)switch(g){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m[0],m[1]);break;case"CA":this.current.strokeAlpha=m;break;case"ca":this.current.fillAlpha=m,this.ctx.globalAlpha=m;break;case"BM":this.ctx.globalCompositeOperation=m;break;case"SMask":this.current.activeSMask=m?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(m);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const v=this.inSMaskMode;this.current.activeSMask&&!v?this.beginSMaskMode():!this.current.activeSMask&&v&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const v=this.ctx.canvas.width,g=this.ctx.canvas.height,m="smaskGroupAt"+this.groupLevel,P=this.cachedCanvases.getCanvas(m,v,g);this.suspendedCtx=this.ctx,this.ctx=P.context;const I=this.ctx;I.setTransform(...(0,A.getCurrentTransform)(this.suspendedCtx)),b(this.suspendedCtx,I),o(I,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(v){if(!this.current.activeSMask)return;v?(v[0]=Math.floor(v[0]),v[1]=Math.floor(v[1]),v[2]=Math.ceil(v[2]),v[3]=Math.ceil(v[3])):v=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const g=this.current.activeSMask,m=this.suspendedCtx;te(m,g,this.ctx,v),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(b(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const v=this.current;this.stateStack.push(v),this.current=v.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),b(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(v,g,m,P,I,z){this.ctx.transform(v,g,m,P,I,z),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(v,g,m){const P=this.ctx,I=this.current;let z=I.x,F=I.y,d,w;const C=(0,A.getCurrentTransform)(P),L=C[0]===0&&C[3]===0||C[1]===0&&C[2]===0,j=L?m.slice(0):null;for(let q=0,K=0,ie=v.length;q<ie;q++)switch(v[q]|0){case h.OPS.rectangle:z=g[K++],F=g[K++];const Ae=g[K++],se=g[K++],le=z+Ae,ue=F+se;P.moveTo(z,F),Ae===0||se===0?P.lineTo(le,ue):(P.lineTo(le,F),P.lineTo(le,ue),P.lineTo(z,ue)),L||I.updateRectMinMax(C,[z,F,le,ue]),P.closePath();break;case h.OPS.moveTo:z=g[K++],F=g[K++],P.moveTo(z,F),L||I.updatePathMinMax(C,z,F);break;case h.OPS.lineTo:z=g[K++],F=g[K++],P.lineTo(z,F),L||I.updatePathMinMax(C,z,F);break;case h.OPS.curveTo:d=z,w=F,z=g[K+4],F=g[K+5],P.bezierCurveTo(g[K],g[K+1],g[K+2],g[K+3],z,F),I.updateCurvePathMinMax(C,d,w,g[K],g[K+1],g[K+2],g[K+3],z,F,j),K+=6;break;case h.OPS.curveTo2:d=z,w=F,P.bezierCurveTo(z,F,g[K],g[K+1],g[K+2],g[K+3]),I.updateCurvePathMinMax(C,d,w,z,F,g[K],g[K+1],g[K+2],g[K+3],j),z=g[K+2],F=g[K+3],K+=4;break;case h.OPS.curveTo3:d=z,w=F,z=g[K+2],F=g[K+3],P.bezierCurveTo(g[K],g[K+1],z,F,z,F),I.updateCurvePathMinMax(C,d,w,g[K],g[K+1],z,F,z,F,j),K+=4;break;case h.OPS.closePath:P.closePath();break}L&&I.updateScalingPathMinMax(C,j),I.setCurrentPoint(z,F)}closePath(){this.ctx.closePath()}stroke(v=!0){const g=this.ctx,m=this.current.strokeColor;g.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof m=="object"&&m?.getPattern?(g.save(),g.strokeStyle=m.getPattern(g,this,(0,A.getCurrentTransformInverse)(g),N.PathType.STROKE),this.rescaleAndStroke(!1),g.restore()):this.rescaleAndStroke(!0)),v&&this.consumePath(this.current.getClippedPathBoundingBox()),g.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(v=!0){const g=this.ctx,m=this.current.fillColor,P=this.current.patternFill;let I=!1;P&&(g.save(),g.fillStyle=m.getPattern(g,this,(0,A.getCurrentTransformInverse)(g),N.PathType.FILL),I=!0);const z=this.current.getClippedPathBoundingBox();this.contentVisible&&z!==null&&(this.pendingEOFill?(g.fill("evenodd"),this.pendingEOFill=!1):g.fill()),I&&g.restore(),v&&this.consumePath(z)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_e}eoClip(){this.pendingClip=oe}beginText(){this.current.textMatrix=h.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const v=this.pendingTextPaths,g=this.ctx;if(v===void 0){g.beginPath();return}g.save(),g.beginPath();for(const m of v)g.setTransform(...m.transform),g.translate(m.x,m.y),m.addToPath(g,m.fontSize);g.restore(),g.clip(),g.beginPath(),delete this.pendingTextPaths}setCharSpacing(v){this.current.charSpacing=v}setWordSpacing(v){this.current.wordSpacing=v}setHScale(v){this.current.textHScale=v/100}setLeading(v){this.current.leading=-v}setFont(v,g){const m=this.commonObjs.get(v),P=this.current;if(!m)throw new Error(`Can't find font for ${v}`);if(P.fontMatrix=m.fontMatrix||h.FONT_IDENTITY_MATRIX,(P.fontMatrix[0]===0||P.fontMatrix[3]===0)&&(0,h.warn)("Invalid font matrix for font "+v),g<0?(g=-g,P.fontDirection=-1):P.fontDirection=1,this.current.font=m,this.current.fontSize=g,m.isType3Font)return;const I=m.loadedName||"sans-serif",z=m.systemFontInfo?.css||`"${I}", ${m.fallbackName}`;let F="normal";m.black?F="900":m.bold&&(F="bold");const d=m.italic?"italic":"normal";let w=g;g<H?w=H:g>W&&(w=W),this.current.fontSizeScale=g/w,this.ctx.font=`${d} ${F} ${w}px ${z}`}setTextRenderingMode(v){this.current.textRenderingMode=v}setTextRise(v){this.current.textRise=v}moveText(v,g){this.current.x=this.current.lineX+=v,this.current.y=this.current.lineY+=g}setLeadingMoveText(v,g){this.setLeading(-g),this.moveText(v,g)}setTextMatrix(v,g,m,P,I,z){this.current.textMatrix=[v,g,m,P,I,z],this.current.textMatrixScale=Math.hypot(v,g),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(v,g,m,P){const I=this.ctx,z=this.current,F=z.font,d=z.textRenderingMode,w=z.fontSize/z.fontSizeScale,C=d&h.TextRenderingMode.FILL_STROKE_MASK,L=!!(d&h.TextRenderingMode.ADD_TO_PATH_FLAG),j=z.patternFill&&!F.missingFile;let q;(F.disableFontFace||L||j)&&(q=F.getPathGenerator(this.commonObjs,v)),F.disableFontFace||j?(I.save(),I.translate(g,m),I.beginPath(),q(I,w),P&&I.setTransform(...P),(C===h.TextRenderingMode.FILL||C===h.TextRenderingMode.FILL_STROKE)&&I.fill(),(C===h.TextRenderingMode.STROKE||C===h.TextRenderingMode.FILL_STROKE)&&I.stroke(),I.restore()):((C===h.TextRenderingMode.FILL||C===h.TextRenderingMode.FILL_STROKE)&&I.fillText(v,g,m),(C===h.TextRenderingMode.STROKE||C===h.TextRenderingMode.FILL_STROKE)&&I.strokeText(v,g,m)),L&&(this.pendingTextPaths||=[]).push({transform:(0,A.getCurrentTransform)(I),x:g,y:m,fontSize:w,addToPath:q})}get isFontSubpixelAAEnabled(){const{context:v}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);v.scale(1.5,1),v.fillText("I",0,10);const g=v.getImageData(0,0,10,10).data;let m=!1;for(let P=3;P<g.length;P+=4)if(g[P]>0&&g[P]<255){m=!0;break}return(0,h.shadow)(this,"isFontSubpixelAAEnabled",m)}showText(v){const g=this.current,m=g.font;if(m.isType3Font)return this.showType3Text(v);const P=g.fontSize;if(P===0)return;const I=this.ctx,z=g.fontSizeScale,F=g.charSpacing,d=g.wordSpacing,w=g.fontDirection,C=g.textHScale*w,L=v.length,j=m.vertical,q=j?1:-1,K=m.defaultVMetrics,ie=P*g.fontMatrix[0],Ae=g.textRenderingMode===h.TextRenderingMode.FILL&&!m.disableFontFace&&!g.patternFill;I.save(),I.transform(...g.textMatrix),I.translate(g.x,g.y+g.textRise),w>0?I.scale(C,-1):I.scale(C,1);let se;if(g.patternFill){I.save();const Se=g.fillColor.getPattern(I,this,(0,A.getCurrentTransformInverse)(I),N.PathType.FILL);se=(0,A.getCurrentTransform)(I),I.restore(),I.fillStyle=Se}let le=g.lineWidth;const ue=g.textMatrixScale;if(ue===0||le===0){const Se=g.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;(Se===h.TextRenderingMode.STROKE||Se===h.TextRenderingMode.FILL_STROKE)&&(le=this.getSinglePixelWidth())}else le/=ue;if(z!==1&&(I.scale(z,z),le/=z),I.lineWidth=le,m.isInvalidPDFjsFont){const Se=[];let ke=0;for(const Re of v)Se.push(Re.unicode),ke+=Re.width;I.fillText(Se.join(""),0,0),g.x+=ke*ie*C,I.restore(),this.compose();return}let ce=0,fe;for(fe=0;fe<L;++fe){const Se=v[fe];if(typeof Se=="number"){ce+=q*Se*P/1e3;continue}let ke=!1;const Re=(Se.isSpace?d:0)+F,De=Se.fontChar,Ie=Se.accent;let Ue,dt,et=Se.width;if(j){const it=Se.vmetric||K,gt=-(Se.vmetric?it[1]:et*.5)*ie,Zt=it[2]*ie;et=it?-it[0]:et,Ue=gt/z,dt=(ce+Zt)/z}else Ue=ce/z,dt=0;if(m.remeasure&&et>0){const it=I.measureText(De).width*1e3/P*z;if(et<it&&this.isFontSubpixelAAEnabled){const gt=et/it;ke=!0,I.save(),I.scale(gt,1),Ue/=gt}else et!==it&&(Ue+=(et-it)/2e3*P/z)}if(this.contentVisible&&(Se.isInFont||m.missingFile)){if(Ae&&!Ie)I.fillText(De,Ue,dt);else if(this.paintChar(De,Ue,dt,se),Ie){const it=Ue+P*Ie.offset.x/z,gt=dt-P*Ie.offset.y/z;this.paintChar(Ie.fontChar,it,gt,se)}}const Ot=j?et*ie-Re*w:et*ie+Re*w;ce+=Ot,ke&&I.restore()}j?g.y-=ce:g.x+=ce*C,I.restore(),this.compose()}showType3Text(v){const g=this.ctx,m=this.current,P=m.font,I=m.fontSize,z=m.fontDirection,F=P.vertical?1:-1,d=m.charSpacing,w=m.wordSpacing,C=m.textHScale*z,L=m.fontMatrix||h.FONT_IDENTITY_MATRIX,j=v.length,q=m.textRenderingMode===h.TextRenderingMode.INVISIBLE;let K,ie,Ae,se;if(!(q||I===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,g.save(),g.transform(...m.textMatrix),g.translate(m.x,m.y),g.scale(C,z),K=0;K<j;++K){if(ie=v[K],typeof ie=="number"){se=F*ie*I/1e3,this.ctx.translate(se,0),m.x+=se*C;continue}const le=(ie.isSpace?w:0)+d,ue=P.charProcOperatorList[ie.operatorListId];if(!ue){(0,h.warn)(`Type3 character "${ie.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ie,this.save(),g.scale(I,I),g.transform(...L),this.executeOperatorList(ue),this.restore()),Ae=h.Util.applyTransform([ie.width,0],L)[0]*I+le,g.translate(Ae,0),m.x+=Ae*C}g.restore(),this.processingType3=null}}setCharWidth(v,g){}setCharWidthAndBounds(v,g,m,P,I,z){this.ctx.rect(m,P,I-m,z-P),this.ctx.clip(),this.endPath()}getColorN_Pattern(v){let g;if(v[0]==="TilingPattern"){const m=v[1],P=this.baseTransform||(0,A.getCurrentTransform)(this.ctx),I={createCanvasGraphics:z=>new B(z,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};g=new N.TilingPattern(v,m,this.ctx,I,P)}else g=this._getPattern(v[1],v[2]);return g}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(v,g,m){const P=h.Util.makeHexColor(v,g,m);this.ctx.strokeStyle=P,this.current.strokeColor=P}setFillRGBColor(v,g,m){const P=h.Util.makeHexColor(v,g,m);this.ctx.fillStyle=P,this.current.fillColor=P,this.current.patternFill=!1}_getPattern(v,g=null){let m;return this.cachedPatterns.has(v)?m=this.cachedPatterns.get(v):(m=(0,N.getShadingPattern)(this.getObject(v)),this.cachedPatterns.set(v,m)),g&&(m.matrix=g),m}shadingFill(v){if(!this.contentVisible)return;const g=this.ctx;this.save();const m=this._getPattern(v);g.fillStyle=m.getPattern(g,this,(0,A.getCurrentTransformInverse)(g),N.PathType.SHADING);const P=(0,A.getCurrentTransformInverse)(g);if(P){const{width:I,height:z}=g.canvas,[F,d,w,C]=h.Util.getAxialAlignedBoundingBox([0,0,I,z],P);this.ctx.fillRect(F,d,w-F,C-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,h.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,h.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(v,g){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(v)&&v.length===6&&this.transform(...v),this.baseTransform=(0,A.getCurrentTransform)(this.ctx),g)){const m=g[2]-g[0],P=g[3]-g[1];this.ctx.rect(g[0],g[1],m,P),this.current.updateRectMinMax((0,A.getCurrentTransform)(this.ctx),g),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(v){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const g=this.ctx;v.isolated||(0,h.info)("TODO: Support non-isolated groups."),v.knockout&&(0,h.warn)("Knockout groups not supported.");const m=(0,A.getCurrentTransform)(g);if(v.matrix&&g.transform(...v.matrix),!v.bbox)throw new Error("Bounding box is required.");let P=h.Util.getAxialAlignedBoundingBox(v.bbox,(0,A.getCurrentTransform)(g));const I=[0,0,g.canvas.width,g.canvas.height];P=h.Util.intersect(P,I)||[0,0,0,0];const z=Math.floor(P[0]),F=Math.floor(P[1]);let d=Math.max(Math.ceil(P[2])-z,1),w=Math.max(Math.ceil(P[3])-F,1),C=1,L=1;d>u&&(C=d/u,d=u),w>u&&(L=w/u,w=u),this.current.startNewPathAndClipBox([0,0,d,w]);let j="groupAt"+this.groupLevel;v.smask&&(j+="_smask_"+this.smaskCounter++%2);const q=this.cachedCanvases.getCanvas(j,d,w),K=q.context;K.scale(1/C,1/L),K.translate(-z,-F),K.transform(...m),v.smask?this.smaskStack.push({canvas:q.canvas,context:K,offsetX:z,offsetY:F,scaleX:C,scaleY:L,subtype:v.smask.subtype,backdrop:v.smask.backdrop,transferMap:v.smask.transferMap||null,startTransformInverse:null}):(g.setTransform(1,0,0,1,0,0),g.translate(z,F),g.scale(C,L),g.save()),b(g,K),this.ctx=K,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(g),this.groupLevel++}endGroup(v){if(!this.contentVisible)return;this.groupLevel--;const g=this.ctx,m=this.groupStack.pop();if(this.ctx=m,this.ctx.imageSmoothingEnabled=!1,v.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const P=(0,A.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...P);const I=h.Util.getAxialAlignedBoundingBox([0,0,g.canvas.width,g.canvas.height],P);this.ctx.drawImage(g.canvas,0,0),this.ctx.restore(),this.compose(I)}}beginAnnotation(v,g,m,P,I){if(this.#e(),R(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(g)&&g.length===4){const z=g[2]-g[0],F=g[3]-g[1];if(I&&this.annotationCanvasMap){m=m.slice(),m[4]-=g[0],m[5]-=g[1],g=g.slice(),g[0]=g[1]=0,g[2]=z,g[3]=F;const[d,w]=h.Util.singularValueDecompose2dScale((0,A.getCurrentTransform)(this.ctx)),{viewportScale:C}=this,L=Math.ceil(z*this.outputScaleX*C),j=Math.ceil(F*this.outputScaleY*C);this.annotationCanvas=this.canvasFactory.create(L,j);const{canvas:q,context:K}=this.annotationCanvas;this.annotationCanvasMap.set(v,q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=K,this.ctx.save(),this.ctx.setTransform(d,0,0,-w,0,F*w),R(this.ctx)}else R(this.ctx),this.ctx.rect(g[0],g[1],z,F),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...m),this.transform(...P)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(v){if(!this.contentVisible)return;const g=v.count;v=this.getObject(v.data,v),v.count=g;const m=this.ctx,P=this.processingType3;if(P&&(P.compiled===void 0&&(P.compiled=p(v)),P.compiled)){P.compiled(m);return}const I=this._createMaskCanvas(v),z=I.canvas;m.save(),m.setTransform(1,0,0,1,0,0),m.drawImage(z,I.offsetX,I.offsetY),m.restore(),this.compose()}paintImageMaskXObjectRepeat(v,g,m=0,P=0,I,z){if(!this.contentVisible)return;v=this.getObject(v.data,v);const F=this.ctx;F.save();const d=(0,A.getCurrentTransform)(F);F.transform(g,m,P,I,0,0);const w=this._createMaskCanvas(v);F.setTransform(1,0,0,1,w.offsetX-d[4],w.offsetY-d[5]);for(let C=0,L=z.length;C<L;C+=2){const j=h.Util.transform(d,[g,m,P,I,z[C],z[C+1]]),[q,K]=h.Util.applyTransform([0,0],j);F.drawImage(w.canvas,q,K)}F.restore(),this.compose()}paintImageMaskXObjectGroup(v){if(!this.contentVisible)return;const g=this.ctx,m=this.current.fillColor,P=this.current.patternFill;for(const I of v){const{data:z,width:F,height:d,transform:w}=I,C=this.cachedCanvases.getCanvas("maskCanvas",F,d),L=C.context;L.save();const j=this.getObject(z,I);O(L,j),L.globalCompositeOperation="source-in",L.fillStyle=P?m.getPattern(L,this,(0,A.getCurrentTransformInverse)(g),N.PathType.FILL):m,L.fillRect(0,0,F,d),L.restore(),g.save(),g.transform(...w),g.scale(1,-1),x(g,C.canvas,0,0,F,d,0,-1,1,1),g.restore()}this.compose()}paintImageXObject(v){if(!this.contentVisible)return;const g=this.getObject(v);if(!g){(0,h.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(g)}paintImageXObjectRepeat(v,g,m,P){if(!this.contentVisible)return;const I=this.getObject(v);if(!I){(0,h.warn)("Dependent image isn't ready yet");return}const z=I.width,F=I.height,d=[];for(let w=0,C=P.length;w<C;w+=2)d.push({transform:[g,0,0,m,P[w],P[w+1]],x:0,y:0,w:z,h:F});this.paintInlineImageXObjectGroup(I,d)}applyTransferMapsToCanvas(v){return this.current.transferMaps!=="none"&&(v.filter=this.current.transferMaps,v.drawImage(v.canvas,0,0),v.filter="none"),v.canvas}applyTransferMapsToBitmap(v){if(this.current.transferMaps==="none")return v.bitmap;const{bitmap:g,width:m,height:P}=v,I=this.cachedCanvases.getCanvas("inlineImage",m,P),z=I.context;return z.filter=this.current.transferMaps,z.drawImage(g,0,0),z.filter="none",I.canvas}paintInlineImageXObject(v){if(!this.contentVisible)return;const g=v.width,m=v.height,P=this.ctx;if(this.save(),!h.isNodeJS){const{filter:F}=P;F!=="none"&&F!==""&&(P.filter="none")}P.scale(1/g,-1/m);let I;if(v.bitmap)I=this.applyTransferMapsToBitmap(v);else if(typeof HTMLElement=="function"&&v instanceof HTMLElement||!v.data)I=v;else{const d=this.cachedCanvases.getCanvas("inlineImage",g,m).context;U(d,v),I=this.applyTransferMapsToCanvas(d)}const z=this._scaleImage(I,(0,A.getCurrentTransformInverse)(P));P.imageSmoothingEnabled=ve((0,A.getCurrentTransform)(P),v.interpolate),x(P,z.img,0,0,z.paintWidth,z.paintHeight,0,-m,g,m),this.compose(),this.restore()}paintInlineImageXObjectGroup(v,g){if(!this.contentVisible)return;const m=this.ctx;let P;if(v.bitmap)P=v.bitmap;else{const I=v.width,z=v.height,d=this.cachedCanvases.getCanvas("inlineImage",I,z).context;U(d,v),P=this.applyTransferMapsToCanvas(d)}for(const I of g)m.save(),m.transform(...I.transform),m.scale(1,-1),x(m,P,I.x,I.y,I.w,I.h,0,-1,1,1),m.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(v){}markPointProps(v,g){}beginMarkedContent(v){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(v,g){v==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(g)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(v){const g=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(v);const m=this.ctx;this.pendingClip&&(g||(this.pendingClip===oe?m.clip("evenodd"):m.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),m.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const v=(0,A.getCurrentTransform)(this.ctx);if(v[1]===0&&v[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(v[0]),Math.abs(v[3]));else{const g=Math.abs(v[0]*v[3]-v[2]*v[1]),m=Math.hypot(v[0],v[2]),P=Math.hypot(v[1],v[3]);this._cachedGetSinglePixelWidth=Math.max(m,P)/g}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:v}=this.current,{a:g,b:m,c:P,d:I}=this.ctx.getTransform();let z,F;if(m===0&&P===0){const d=Math.abs(g),w=Math.abs(I);if(d===w)if(v===0)z=F=1/d;else{const C=d*v;z=F=C<1?1/C:1}else if(v===0)z=1/d,F=1/w;else{const C=d*v,L=w*v;z=C<1?1/C:1,F=L<1?1/L:1}}else{const d=Math.abs(g*I-m*P),w=Math.hypot(g,m),C=Math.hypot(P,I);if(v===0)z=C/d,F=w/d;else{const L=v*d;z=C>L?C/L:1,F=w>L?w/L:1}}this._cachedScaleForStroking[0]=z,this._cachedScaleForStroking[1]=F}return this._cachedScaleForStroking}rescaleAndStroke(v){const{ctx:g}=this,{lineWidth:m}=this.current,[P,I]=this.getScaleForStroking();if(g.lineWidth=m||1,P===1&&I===1){g.stroke();return}const z=g.getLineDash();if(v&&g.save(),g.scale(P,I),z.length>0){const F=Math.max(P,I);g.setLineDash(z.map(d=>d/F)),g.lineDashOffset/=F}g.stroke(),v&&g.restore()}isContentVisible(){for(let v=this.markedContentStack.length-1;v>=0;v--)if(!this.markedContentStack[v].visible)return!1;return!0}}l.CanvasGraphics=B;for(const E in h.OPS)B.prototype[E]!==void 0&&(B.prototype[h.OPS[E]]=B.prototype[E])}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TilingPattern=l.PathType=void 0,l.getShadingPattern=f;var h=S(1),A=S(6);const N={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};l.PathType=N;function D(x,p){if(!p)return;const T=p[2]-p[0],U=p[3]-p[1],O=new Path2D;O.rect(p[0],p[1],T,U),x.clip(O)}class H{constructor(){this.constructor===H&&(0,h.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,h.unreachable)("Abstract method `getPattern` called.")}}class W extends H{constructor(p){super(),this._type=p[1],this._bbox=p[2],this._colorStops=p[3],this._p0=p[4],this._p1=p[5],this._r0=p[6],this._r1=p[7],this.matrix=null}_createGradient(p){let T;this._type==="axial"?T=p.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(T=p.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const U of this._colorStops)T.addColorStop(U[0],U[1]);return T}getPattern(p,T,U,O){let b;if(O===N.STROKE||O===N.FILL){const R=T.current.getClippedPathBoundingBox(O,(0,A.getCurrentTransform)(p))||[0,0,0,0],G=Math.ceil(R[2]-R[0])||1,X=Math.ceil(R[3]-R[1])||1,V=T.cachedCanvases.getCanvas("pattern",G,X,!0),J=V.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-R[0],-R[1]),U=h.Util.transform(U,[1,0,0,1,R[0],R[1]]),J.transform(...T.baseTransform),this.matrix&&J.transform(...this.matrix),D(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),b=p.createPattern(V.canvas,"no-repeat");const te=new DOMMatrix(U);b.setTransform(te)}else D(p,this._bbox),b=this._createGradient(p);return b}}function u(x,p,T,U,O,b,R,G){const X=p.coords,V=p.colors,J=x.data,te=x.width*4;let ve;X[T+1]>X[U+1]&&(ve=T,T=U,U=ve,ve=b,b=R,R=ve),X[U+1]>X[O+1]&&(ve=U,U=O,O=ve,ve=R,R=G,G=ve),X[T+1]>X[U+1]&&(ve=T,T=U,U=ve,ve=b,b=R,R=ve);const de=(X[T]+p.offsetX)*p.scaleX,he=(X[T+1]+p.offsetY)*p.scaleY,_e=(X[U]+p.offsetX)*p.scaleX,oe=(X[U+1]+p.offsetY)*p.scaleY,B=(X[O]+p.offsetX)*p.scaleX,E=(X[O+1]+p.offsetY)*p.scaleY;if(he>=E)return;const v=V[b],g=V[b+1],m=V[b+2],P=V[R],I=V[R+1],z=V[R+2],F=V[G],d=V[G+1],w=V[G+2],C=Math.round(he),L=Math.round(E);let j,q,K,ie,Ae,se,le,ue;for(let ce=C;ce<=L;ce++){if(ce<oe){const De=ce<he?0:(he-ce)/(he-oe);j=de-(de-_e)*De,q=v-(v-P)*De,K=g-(g-I)*De,ie=m-(m-z)*De}else{let De;ce>E?De=1:oe===E?De=0:De=(oe-ce)/(oe-E),j=_e-(_e-B)*De,q=P-(P-F)*De,K=I-(I-d)*De,ie=z-(z-w)*De}let fe;ce<he?fe=0:ce>E?fe=1:fe=(he-ce)/(he-E),Ae=de-(de-B)*fe,se=v-(v-F)*fe,le=g-(g-d)*fe,ue=m-(m-w)*fe;const Se=Math.round(Math.min(j,Ae)),ke=Math.round(Math.max(j,Ae));let Re=te*ce+Se*4;for(let De=Se;De<=ke;De++)fe=(j-De)/(j-Ae),fe<0?fe=0:fe>1&&(fe=1),J[Re++]=q-(q-se)*fe|0,J[Re++]=K-(K-le)*fe|0,J[Re++]=ie-(ie-ue)*fe|0,J[Re++]=255}}function i(x,p,T){const U=p.coords,O=p.colors;let b,R;switch(p.type){case"lattice":const G=p.verticesPerRow,X=Math.floor(U.length/G)-1,V=G-1;for(b=0;b<X;b++){let J=b*G;for(let te=0;te<V;te++,J++)u(x,T,U[J],U[J+1],U[J+G],O[J],O[J+1],O[J+G]),u(x,T,U[J+G+1],U[J+1],U[J+G],O[J+G+1],O[J+1],O[J+G])}break;case"triangles":for(b=0,R=U.length;b<R;b+=3)u(x,T,U[b],U[b+1],U[b+2],O[b],O[b+1],O[b+2]);break;default:throw new Error("illegal figure")}}class a extends H{constructor(p){super(),this._coords=p[2],this._colors=p[3],this._figures=p[4],this._bounds=p[5],this._bbox=p[7],this._background=p[8],this.matrix=null}_createMeshCanvas(p,T,U){const G=Math.floor(this._bounds[0]),X=Math.floor(this._bounds[1]),V=Math.ceil(this._bounds[2])-G,J=Math.ceil(this._bounds[3])-X,te=Math.min(Math.ceil(Math.abs(V*p[0]*1.1)),3e3),ve=Math.min(Math.ceil(Math.abs(J*p[1]*1.1)),3e3),de=V/te,he=J/ve,_e={coords:this._coords,colors:this._colors,offsetX:-G,offsetY:-X,scaleX:1/de,scaleY:1/he},oe=te+4,B=ve+4,E=U.getCanvas("mesh",oe,B,!1),v=E.context,g=v.createImageData(te,ve);if(T){const P=g.data;for(let I=0,z=P.length;I<z;I+=4)P[I]=T[0],P[I+1]=T[1],P[I+2]=T[2],P[I+3]=255}for(const P of this._figures)i(g,P,_e);return v.putImageData(g,2,2),{canvas:E.canvas,offsetX:G-2*de,offsetY:X-2*he,scaleX:de,scaleY:he}}getPattern(p,T,U,O){D(p,this._bbox);let b;if(O===N.SHADING)b=h.Util.singularValueDecompose2dScale((0,A.getCurrentTransform)(p));else if(b=h.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const G=h.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*G[0],b[1]*G[1]]}const R=this._createMeshCanvas(b,O===N.SHADING?null:this._background,T.cachedCanvases);return O!==N.SHADING&&(p.setTransform(...T.baseTransform),this.matrix&&p.transform(...this.matrix)),p.translate(R.offsetX,R.offsetY),p.scale(R.scaleX,R.scaleY),p.createPattern(R.canvas,"no-repeat")}}class y extends H{getPattern(){return"hotpink"}}function f(x){switch(x[0]){case"RadialAxial":return new W(x);case"Mesh":return new a(x);case"Dummy":return new y}throw new Error(`Unknown IR type: ${x[0]}`)}const o={COLORED:1,UNCOLORED:2};class _{static MAX_PATTERN_SIZE=3e3;constructor(p,T,U,O,b){this.operatorList=p[2],this.matrix=p[3]||[1,0,0,1,0,0],this.bbox=p[4],this.xstep=p[5],this.ystep=p[6],this.paintType=p[7],this.tilingType=p[8],this.color=T,this.ctx=U,this.canvasGraphicsFactory=O,this.baseTransform=b}createPatternCanvas(p){const T=this.operatorList,U=this.bbox,O=this.xstep,b=this.ystep,R=this.paintType,G=this.tilingType,X=this.color,V=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+G);const J=U[0],te=U[1],ve=U[2],de=U[3],he=h.Util.singularValueDecompose2dScale(this.matrix),_e=h.Util.singularValueDecompose2dScale(this.baseTransform),oe=[he[0]*_e[0],he[1]*_e[1]],B=this.getSizeAndScale(O,this.ctx.canvas.width,oe[0]),E=this.getSizeAndScale(b,this.ctx.canvas.height,oe[1]),v=p.cachedCanvases.getCanvas("pattern",B.size,E.size,!0),g=v.context,m=V.createCanvasGraphics(g);m.groupLevel=p.groupLevel,this.setFillAndStrokeStyleToContext(m,R,X);let P=J,I=te,z=ve,F=de;return J<0&&(P=0,z+=Math.abs(J)),te<0&&(I=0,F+=Math.abs(te)),g.translate(-(B.scale*P),-(E.scale*I)),m.transform(B.scale,0,0,E.scale,0,0),g.save(),this.clipBbox(m,P,I,z,F),m.baseTransform=(0,A.getCurrentTransform)(m.ctx),m.executeOperatorList(T),m.endDrawing(),{canvas:v.canvas,scaleX:B.scale,scaleY:E.scale,offsetX:P,offsetY:I}}getSizeAndScale(p,T,U){p=Math.abs(p);const O=Math.max(_.MAX_PATTERN_SIZE,T);let b=Math.ceil(p*U);return b>=O?b=O:U=b/p,{scale:U,size:b}}clipBbox(p,T,U,O,b){const R=O-T,G=b-U;p.ctx.rect(T,U,R,G),p.current.updateRectMinMax((0,A.getCurrentTransform)(p.ctx),[T,U,O,b]),p.clip(),p.endPath()}setFillAndStrokeStyleToContext(p,T,U){const O=p.ctx,b=p.current;switch(T){case o.COLORED:const R=this.ctx;O.fillStyle=R.fillStyle,O.strokeStyle=R.strokeStyle,b.fillColor=R.fillStyle,b.strokeColor=R.strokeStyle;break;case o.UNCOLORED:const G=h.Util.makeHexColor(U[0],U[1],U[2]);O.fillStyle=G,O.strokeStyle=G,b.fillColor=G,b.strokeColor=G;break;default:throw new h.FormatError(`Unsupported paint type: ${T}`)}}getPattern(p,T,U,O){let b=U;O!==N.SHADING&&(b=h.Util.transform(b,T.baseTransform),this.matrix&&(b=h.Util.transform(b,this.matrix)));const R=this.createPatternCanvas(T);let G=new DOMMatrix(b);G=G.translate(R.offsetX,R.offsetY),G=G.scale(1/R.scaleX,1/R.scaleY);const X=p.createPattern(R.canvas,"repeat");return X.setTransform(G),X}}l.TilingPattern=_}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.convertBlackAndWhiteToRGBA=N,l.convertToRGBA=A,l.grayToRGBA=H;var h=S(1);function A(W){switch(W.kind){case h.ImageKind.GRAYSCALE_1BPP:return N(W);case h.ImageKind.RGB_24BPP:return D(W)}return null}function N({src:W,srcPos:u=0,dest:i,width:a,height:y,nonBlackColor:f=4294967295,inverseDecode:o=!1}){const _=h.FeatureTest.isLittleEndian?4278190080:255,[x,p]=o?[f,_]:[_,f],T=a>>3,U=a&7,O=W.length;i=new Uint32Array(i.buffer);let b=0;for(let R=0;R<y;R++){for(const X=u+T;u<X;u++){const V=u<O?W[u]:255;i[b++]=V&128?p:x,i[b++]=V&64?p:x,i[b++]=V&32?p:x,i[b++]=V&16?p:x,i[b++]=V&8?p:x,i[b++]=V&4?p:x,i[b++]=V&2?p:x,i[b++]=V&1?p:x}if(U===0)continue;const G=u<O?W[u++]:255;for(let X=0;X<U;X++)i[b++]=G&1<<7-X?p:x}return{srcPos:u,destPos:b}}function D({src:W,srcPos:u=0,dest:i,destPos:a=0,width:y,height:f}){let o=0;const _=W.length>>2,x=new Uint32Array(W.buffer,u,_);if(h.FeatureTest.isLittleEndian){for(;o<_-2;o+=3,a+=4){const p=x[o],T=x[o+1],U=x[o+2];i[a]=p|4278190080,i[a+1]=p>>>24|T<<8|4278190080,i[a+2]=T>>>16|U<<16|4278190080,i[a+3]=U>>>8|4278190080}for(let p=o*4,T=W.length;p<T;p+=3)i[a++]=W[p]|W[p+1]<<8|W[p+2]<<16|4278190080}else{for(;o<_-2;o+=3,a+=4){const p=x[o],T=x[o+1],U=x[o+2];i[a]=p|255,i[a+1]=p<<24|T>>>8|255,i[a+2]=T<<16|U>>>16|255,i[a+3]=U<<8|255}for(let p=o*4,T=W.length;p<T;p+=3)i[a++]=W[p]<<24|W[p+1]<<16|W[p+2]<<8|255}return{srcPos:u,destPos:a}}function H(W,u){if(h.FeatureTest.isLittleEndian)for(let i=0,a=W.length;i<a;i++)u[i]=W[i]*65793|4278190080;else for(let i=0,a=W.length;i<a;i++)u[i]=W[i]*16843008|255}}),((M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.GlobalWorkerOptions=void 0;const S=Object.create(null);l.GlobalWorkerOptions=S,S.workerPort=null,S.workerSrc=""}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MessageHandler=void 0;var h=S(1);const A={DATA:1,ERROR:2},N={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function D(W){switch(W instanceof Error||typeof W=="object"&&W!==null||(0,h.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),W.name){case"AbortException":return new h.AbortException(W.message);case"MissingPDFException":return new h.MissingPDFException(W.message);case"PasswordException":return new h.PasswordException(W.message,W.code);case"UnexpectedResponseException":return new h.UnexpectedResponseException(W.message,W.status);case"UnknownErrorException":return new h.UnknownErrorException(W.message,W.details);default:return new h.UnknownErrorException(W.message,W.toString())}}class H{constructor(u,i,a){this.sourceName=u,this.targetName=i,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const f=y.data;if(f.targetName!==this.sourceName)return;if(f.stream){this.#t(f);return}if(f.callback){const _=f.callbackId,x=this.callbackCapabilities[_];if(!x)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],f.callback===A.DATA)x.resolve(f.data);else if(f.callback===A.ERROR)x.reject(D(f.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[f.action];if(!o)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){const _=this.sourceName,x=f.sourceName;new Promise(function(p){p(o(f.data))}).then(function(p){a.postMessage({sourceName:_,targetName:x,callback:A.DATA,callbackId:f.callbackId,data:p})},function(p){a.postMessage({sourceName:_,targetName:x,callback:A.ERROR,callbackId:f.callbackId,reason:D(p)})});return}if(f.streamId){this.#e(f);return}o(f.data)},a.addEventListener("message",this._onComObjOnMessage)}on(u,i){const a=this.actionHandler;if(a[u])throw new Error(`There is already an actionName called "${u}"`);a[u]=i}send(u,i,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:i},a)}sendWithPromise(u,i,a){const y=this.callbackId++,f=new h.PromiseCapability;this.callbackCapabilities[y]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:y,data:i},a)}catch(o){f.reject(o)}return f.promise}sendWithStream(u,i,a,y){const f=this.streamId++,o=this.sourceName,_=this.targetName,x=this.comObj;return new ReadableStream({start:p=>{const T=new h.PromiseCapability;return this.streamControllers[f]={controller:p,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},x.postMessage({sourceName:o,targetName:_,action:u,streamId:f,data:i,desiredSize:p.desiredSize},y),T.promise},pull:p=>{const T=new h.PromiseCapability;return this.streamControllers[f].pullCall=T,x.postMessage({sourceName:o,targetName:_,stream:N.PULL,streamId:f,desiredSize:p.desiredSize}),T.promise},cancel:p=>{(0,h.assert)(p instanceof Error,"cancel must have a valid reason");const T=new h.PromiseCapability;return this.streamControllers[f].cancelCall=T,this.streamControllers[f].isClosed=!0,x.postMessage({sourceName:o,targetName:_,stream:N.CANCEL,streamId:f,reason:D(p)}),T.promise}},a)}#e(u){const i=u.streamId,a=this.sourceName,y=u.sourceName,f=this.comObj,o=this,_=this.actionHandler[u.action],x={enqueue(p,T=1,U){if(this.isCancelled)return;const O=this.desiredSize;this.desiredSize-=T,O>0&&this.desiredSize<=0&&(this.sinkCapability=new h.PromiseCapability,this.ready=this.sinkCapability.promise),f.postMessage({sourceName:a,targetName:y,stream:N.ENQUEUE,streamId:i,chunk:p},U)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:a,targetName:y,stream:N.CLOSE,streamId:i}),delete o.streamSinks[i])},error(p){(0,h.assert)(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:a,targetName:y,stream:N.ERROR,streamId:i,reason:D(p)}))},sinkCapability:new h.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};x.sinkCapability.resolve(),x.ready=x.sinkCapability.promise,this.streamSinks[i]=x,new Promise(function(p){p(_(u.data,x))}).then(function(){f.postMessage({sourceName:a,targetName:y,stream:N.START_COMPLETE,streamId:i,success:!0})},function(p){f.postMessage({sourceName:a,targetName:y,stream:N.START_COMPLETE,streamId:i,reason:D(p)})})}#t(u){const i=u.streamId,a=this.sourceName,y=u.sourceName,f=this.comObj,o=this.streamControllers[i],_=this.streamSinks[i];switch(u.stream){case N.START_COMPLETE:u.success?o.startCall.resolve():o.startCall.reject(D(u.reason));break;case N.PULL_COMPLETE:u.success?o.pullCall.resolve():o.pullCall.reject(D(u.reason));break;case N.PULL:if(!_){f.postMessage({sourceName:a,targetName:y,stream:N.PULL_COMPLETE,streamId:i,success:!0});break}_.desiredSize<=0&&u.desiredSize>0&&_.sinkCapability.resolve(),_.desiredSize=u.desiredSize,new Promise(function(x){x(_.onPull?.())}).then(function(){f.postMessage({sourceName:a,targetName:y,stream:N.PULL_COMPLETE,streamId:i,success:!0})},function(x){f.postMessage({sourceName:a,targetName:y,stream:N.PULL_COMPLETE,streamId:i,reason:D(x)})});break;case N.ENQUEUE:if((0,h.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(u.chunk);break;case N.CLOSE:if((0,h.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#n(o,i);break;case N.ERROR:(0,h.assert)(o,"error should have stream controller"),o.controller.error(D(u.reason)),this.#n(o,i);break;case N.CANCEL_COMPLETE:u.success?o.cancelCall.resolve():o.cancelCall.reject(D(u.reason)),this.#n(o,i);break;case N.CANCEL:if(!_)break;new Promise(function(x){x(_.onCancel?.(D(u.reason)))}).then(function(){f.postMessage({sourceName:a,targetName:y,stream:N.CANCEL_COMPLETE,streamId:i,success:!0})},function(x){f.postMessage({sourceName:a,targetName:y,stream:N.CANCEL_COMPLETE,streamId:i,reason:D(x)})}),_.sinkCapability.reject(D(u.reason)),_.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}}async#n(u,i){await Promise.allSettled([u.startCall?.promise,u.pullCall?.promise,u.cancelCall?.promise]),delete this.streamControllers[i]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}l.MessageHandler=H}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Metadata=void 0;var h=S(1);class A{#e;#t;constructor({parsedData:D,rawData:H}){this.#e=D,this.#t=H}getRaw(){return this.#t}get(D){return this.#e.get(D)??null}getAll(){return(0,h.objectFromMap)(this.#e)}has(D){return this.#e.has(D)}}l.Metadata=A}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionalContentConfig=void 0;var h=S(1),A=S(8);const N=Symbol("INTERNAL");class D{#e=!0;constructor(u,i){this.name=u,this.intent=i}get visible(){return this.#e}_setVisible(u,i){u!==N&&(0,h.unreachable)("Internal method `_setVisible` called."),this.#e=i}}class H{#e=null;#t=new Map;#n=null;#r=null;constructor(u){if(this.name=null,this.creator=null,u!==null){this.name=u.name,this.creator=u.creator,this.#r=u.order;for(const i of u.groups)this.#t.set(i.id,new D(i.name,i.intent));if(u.baseState==="OFF")for(const i of this.#t.values())i._setVisible(N,!1);for(const i of u.on)this.#t.get(i)._setVisible(N,!0);for(const i of u.off)this.#t.get(i)._setVisible(N,!1);this.#n=this.getHash()}}#o(u){const i=u.length;if(i<2)return!0;const a=u[0];for(let y=1;y<i;y++){const f=u[y];let o;if(Array.isArray(f))o=this.#o(f);else if(this.#t.has(f))o=this.#t.get(f).visible;else return(0,h.warn)(`Optional content group not found: ${f}`),!0;switch(a){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return a==="And"}isVisible(u){if(this.#t.size===0)return!0;if(!u)return(0,h.warn)("Optional content group not defined."),!0;if(u.type==="OCG")return this.#t.has(u.id)?this.#t.get(u.id).visible:((0,h.warn)(`Optional content group not found: ${u.id}`),!0);if(u.type==="OCMD"){if(u.expression)return this.#o(u.expression);if(!u.policy||u.policy==="AnyOn"){for(const i of u.ids){if(!this.#t.has(i))return(0,h.warn)(`Optional content group not found: ${i}`),!0;if(this.#t.get(i).visible)return!0}return!1}else if(u.policy==="AllOn"){for(const i of u.ids){if(!this.#t.has(i))return(0,h.warn)(`Optional content group not found: ${i}`),!0;if(!this.#t.get(i).visible)return!1}return!0}else if(u.policy==="AnyOff"){for(const i of u.ids){if(!this.#t.has(i))return(0,h.warn)(`Optional content group not found: ${i}`),!0;if(!this.#t.get(i).visible)return!0}return!1}else if(u.policy==="AllOff"){for(const i of u.ids){if(!this.#t.has(i))return(0,h.warn)(`Optional content group not found: ${i}`),!0;if(this.#t.get(i).visible)return!1}return!0}return(0,h.warn)(`Unknown optional content policy ${u.policy}.`),!0}return(0,h.warn)(`Unknown group type ${u.type}.`),!0}setVisibility(u,i=!0){if(!this.#t.has(u)){(0,h.warn)(`Optional content group not found: ${u}`);return}this.#t.get(u)._setVisible(N,!!i),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,h.objectFromMap)(this.#t):null}getGroup(u){return this.#t.get(u)||null}getHash(){if(this.#e!==null)return this.#e;const u=new A.MurmurHash3_64;for(const[i,a]of this.#t)u.update(`${i}:${a.visible}`);return this.#e=u.hexdigest()}}l.OptionalContentConfig=H}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFDataTransportStream=void 0;var h=S(1),A=S(6);class N{constructor({length:u,initialData:i,progressiveDone:a=!1,contentDispositionFilename:y=null,disableRange:f=!1,disableStream:o=!1},_){if((0,h.assert)(_,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=y,i?.length>0){const x=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(x)}this._pdfDataRangeTransport=_,this._isStreamingSupported=!o,this._isRangeSupported=!f,this._contentLength=u,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((x,p)=>{this._onReceiveData({begin:x,chunk:p})}),this._pdfDataRangeTransport.addProgressListener((x,p)=>{this._onProgress({loaded:x,total:p})}),this._pdfDataRangeTransport.addProgressiveReadListener(x=>{this._onReceiveData({chunk:x})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:u,chunk:i}){const a=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(u===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const y=this._rangeReaders.some(function(f){return f._begin!==u?!1:(f._enqueue(a),!0)});(0,h.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(u){u.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:u.loaded}):this._fullRequestReader?.onProgress?.({loaded:u.loaded,total:u.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){const i=this._rangeReaders.indexOf(u);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){(0,h.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const u=this._queuedChunks;return this._queuedChunks=null,new D(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,i){if(i<=this._progressiveDataLength)return null;const a=new H(this,u,i);return this._pdfDataRangeTransport.requestDataRange(u,i),this._rangeReaders.push(a),a}cancelAllRequests(u){this._fullRequestReader?.cancel(u);for(const i of this._rangeReaders.slice(0))i.cancel(u);this._pdfDataRangeTransport.abort()}}l.PDFDataTransportStream=N;class D{constructor(u,i,a=!1,y=null){this._stream=u,this._done=a||!1,this._filename=(0,A.isPdfFile)(y)?y:null,this._queuedChunks=i||[],this._loaded=0;for(const f of this._queuedChunks)this._loaded+=f.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const u=new h.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class H{constructor(u,i,a){this._stream=u,this._begin=i,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(this._requests.length===0)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const u=new h.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFFetchStream=void 0;var h=S(1),A=S(20);function N(a,y,f){return{method:"GET",headers:a,signal:f.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function D(a){const y=new Headers;for(const f in a){const o=a[f];o!==void 0&&y.append(f,o)}return y}function H(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:((0,h.warn)(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class W{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new u(this),this._fullRequestReader}getRangeReader(y,f){if(f<=this._progressiveDataLength)return null;const o=new i(this,y,f);return this._rangeRequestReaders.push(o),o}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(const f of this._rangeRequestReaders.slice(0))f.cancel(y)}}l.PDFFetchStream=W;class u{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const f=y.source;this._withCredentials=f.withCredentials||!1,this._contentLength=f.length,this._headersCapability=new h.PromiseCapability,this._disableRange=f.disableRange||!1,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._headers=D(this._stream.httpHeaders);const o=f.url;fetch(o,N(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,A.validateResponseStatus)(_.status))throw(0,A.createResponseStatusError)(_.status,o);this._reader=_.body.getReader(),this._headersCapability.resolve();const x=U=>_.headers.get(U),{allowRangeRequests:p,suggestedLength:T}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=T||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(x),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new h.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:y,done:f}=await this._reader.read();return f?{value:y,done:f}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:H(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}class i{constructor(y,f,o){this._stream=y,this._reader=null,this._loaded=0;const _=y.source;this._withCredentials=_.withCredentials||!1,this._readCapability=new h.PromiseCapability,this._isStreamingSupported=!_.disableStream,this._abortController=new AbortController,this._headers=D(this._stream.httpHeaders),this._headers.append("Range",`bytes=${f}-${o-1}`);const x=_.url;fetch(x,N(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,A.validateResponseStatus)(p.status))throw(0,A.createResponseStatusError)(p.status,x);this._readCapability.resolve(),this._reader=p.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:y,done:f}=await this._reader.read();return f?{value:y,done:f}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded}),{value:H(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createResponseStatusError=W,l.extractFilenameFromHeader=H,l.validateRangeRequestCapabilities=D,l.validateResponseStatus=u;var h=S(1),A=S(21),N=S(6);function D({getResponseHeader:i,isHttp:a,rangeChunkSize:y,disableRange:f}){const o={allowRangeRequests:!1,suggestedLength:void 0},_=parseInt(i("Content-Length"),10);return!Number.isInteger(_)||(o.suggestedLength=_,_<=2*y)||f||!a||i("Accept-Ranges")!=="bytes"||(i("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function H(i){const a=i("Content-Disposition");if(a){let y=(0,A.getFilenameFromContentDispositionHeader)(a);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,N.isPdfFile)(y))return y}return null}function W(i,a){return i===404||i===0&&a.startsWith("file:")?new h.MissingPDFException('Missing PDF "'+a+'".'):new h.UnexpectedResponseException(`Unexpected server response (${i}) while retrieving PDF "${a}".`,i)}function u(i){return i===200||i===206}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getFilenameFromContentDispositionHeader=A;var h=S(1);function A(N){let D=!0,H=W("filename\\*","i").exec(N);if(H){H=H[1];let _=y(H);return _=unescape(_),_=f(_),_=o(_),i(_)}if(H=a(N),H){const _=o(H);return i(_)}if(H=W("filename","i").exec(N),H){H=H[1];let _=y(H);return _=o(_),i(_)}function W(_,x){return new RegExp("(?:^|;)\\s*"+_+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',x)}function u(_,x){if(_){if(!/^[\x00-\xFF]+$/.test(x))return x;try{const p=new TextDecoder(_,{fatal:!0}),T=(0,h.stringToBytes)(x);x=p.decode(T),D=!1}catch{}}return x}function i(_){return D&&/[\x80-\xff]/.test(_)&&(_=u("utf-8",_),D&&(_=u("iso-8859-1",_))),_}function a(_){const x=[];let p;const T=W("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=T.exec(_))!==null;){let[,O,b,R]=p;if(O=parseInt(O,10),O in x){if(O===0)break;continue}x[O]=[b,R]}const U=[];for(let O=0;O<x.length&&O in x;++O){let[b,R]=x[O];R=y(R),b&&(R=unescape(R),O===0&&(R=f(R))),U.push(R)}return U.join("")}function y(_){if(_.startsWith('"')){const x=_.slice(1).split('\\"');for(let p=0;p<x.length;++p){const T=x[p].indexOf('"');T!==-1&&(x[p]=x[p].slice(0,T),x.length=p+1),x[p]=x[p].replaceAll(/\\(.)/g,"$1")}_=x.join('"')}return _}function f(_){const x=_.indexOf("'");if(x===-1)return _;const p=_.slice(0,x),U=_.slice(x+1).replace(/^[^']*'/,"");return u(p,U)}function o(_){return!_.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_)?_:_.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(x,p,T,U){if(T==="q"||T==="Q")return U=U.replaceAll("_"," "),U=U.replaceAll(/=([0-9a-fA-F]{2})/g,function(O,b){return String.fromCharCode(parseInt(b,16))}),u(p,U);try{U=atob(U)}catch{}return u(p,U)})}return""}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFNetworkStream=void 0;var h=S(1),A=S(20);const N=200,D=206;function H(y){const f=y.response;return typeof f!="string"?f:(0,h.stringToBytes)(f).buffer}class W{constructor(f,o={}){this.url=f,this.isHttp=/^https?:/i.test(f),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(f,o,_){const x={begin:f,end:o};for(const p in _)x[p]=_[p];return this.request(x)}requestFull(f){return this.request(f)}request(f){const o=new XMLHttpRequest,_=this.currXhrId++,x=this.pendingRequests[_]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const p in this.httpHeaders){const T=this.httpHeaders[p];T!==void 0&&o.setRequestHeader(p,T)}return this.isHttp&&"begin"in f&&"end"in f?(o.setRequestHeader("Range",`bytes=${f.begin}-${f.end-1}`),x.expectedStatus=D):x.expectedStatus=N,o.responseType="arraybuffer",f.onError&&(o.onerror=function(p){f.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,_),o.onprogress=this.onProgress.bind(this,_),x.onHeadersReceived=f.onHeadersReceived,x.onDone=f.onDone,x.onError=f.onError,x.onProgress=f.onProgress,o.send(null),_}onProgress(f,o){const _=this.pendingRequests[f];_&&_.onProgress?.(o)}onStateChange(f,o){const _=this.pendingRequests[f];if(!_)return;const x=_.xhr;if(x.readyState>=2&&_.onHeadersReceived&&(_.onHeadersReceived(),delete _.onHeadersReceived),x.readyState!==4||!(f in this.pendingRequests))return;if(delete this.pendingRequests[f],x.status===0&&this.isHttp){_.onError?.(x.status);return}const p=x.status||N;if(!(p===N&&_.expectedStatus===D)&&p!==_.expectedStatus){_.onError?.(x.status);return}const U=H(x);if(p===D){const O=x.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(O);_.onDone({begin:parseInt(b[1],10),chunk:U})}else U?_.onDone({begin:0,chunk:U}):_.onError?.(x.status)}getRequestXhr(f){return this.pendingRequests[f].xhr}isPendingRequest(f){return f in this.pendingRequests}abortRequest(f){const o=this.pendingRequests[f].xhr;delete this.pendingRequests[f],o.abort()}}class u{constructor(f){this._source=f,this._manager=new W(f.url,{httpHeaders:f.httpHeaders,withCredentials:f.withCredentials}),this._rangeChunkSize=f.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(f){const o=this._rangeRequestReaders.indexOf(f);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new i(this._manager,this._source),this._fullRequestReader}getRangeReader(f,o){const _=new a(this._manager,f,o);return _.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_),_}cancelAllRequests(f){this._fullRequestReader?.cancel(f);for(const o of this._rangeRequestReaders.slice(0))o.cancel(f)}}l.PDFNetworkStream=u;class i{constructor(f,o){this._manager=f;const _={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=f.requestFull(_),this._headersReceivedCapability=new h.PromiseCapability,this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const f=this._fullRequestId,o=this._manager.getRequestXhr(f),_=T=>o.getResponseHeader(T),{allowRangeRequests:x,suggestedLength:p}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});x&&(this._isRangeSupported=!0),this._contentLength=p||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(_),this._isRangeSupported&&this._manager.abortRequest(f),this._headersReceivedCapability.resolve()}_onDone(f){if(f&&(this._requests.length>0?this._requests.shift().resolve({value:f.chunk,done:!1}):this._cachedChunks.push(f.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(f){this._storedError=(0,A.createResponseStatusError)(f,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(f){this.onProgress?.({loaded:f.loaded,total:f.lengthComputable?f.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const f=new h.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0,this._headersReceivedCapability.reject(f);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(f,o,_){this._manager=f;const x={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._requestId=f.requestRange(o,_,x),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(f){const o=f.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(f){this._storedError=(0,A.createResponseStatusError)(f,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(f){this.isStreamingSupported||this.onProgress?.({loaded:f.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const o=this._queuedChunk;return this._queuedChunk=null,{value:o,done:!1}}if(this._done)return{value:void 0,done:!0};const f=new h.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFNodeStream=void 0;var h=S(1),A=S(20);const N=/^file:\/\/\/[a-zA-Z]:\//;function D(_){const x=require$$5,p=x.parse(_);return p.protocol==="file:"||p.host?p:/^[a-z]:[/\\]/i.test(_)?x.parse(`file:///${_}`):(p.host||(p.protocol="file:"),p)}class H{constructor(x){this.source=x,this.url=D(x.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new f(this):new a(this),this._fullRequestReader}getRangeReader(x,p){if(p<=this._progressiveDataLength)return null;const T=this.isFsUrl?new o(this,x,p):new y(this,x,p);return this._rangeRequestReaders.push(T),T}cancelAllRequests(x){this._fullRequestReader?.cancel(x);for(const p of this._rangeRequestReaders.slice(0))p.cancel(x)}}l.PDFNodeStream=H;class W{constructor(x){this._url=x.url,this._done=!1,this._storedError=null,this.onProgress=null;const p=x.source;this._contentLength=p.length,this._loaded=0,this._filename=null,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._readableStream=null,this._readCapability=new h.PromiseCapability,this._headersCapability=new h.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const x=this._readableStream.read();return x===null?(this._readCapability=new h.PromiseCapability,this.read()):(this._loaded+=x.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(x).buffer,done:!1})}cancel(x){if(!this._readableStream){this._error(x);return}this._readableStream.destroy(x)}_error(x){this._storedError=x,this._readCapability.resolve()}_setReadableStream(x){this._readableStream=x,x.on("readable",()=>{this._readCapability.resolve()}),x.on("end",()=>{x.destroy(),this._done=!0,this._readCapability.resolve()}),x.on("error",p=>{this._error(p)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new h.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(x){this._url=x.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new h.PromiseCapability;const p=x.source;this._isStreamingSupported=!p.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const x=this._readableStream.read();return x===null?(this._readCapability=new h.PromiseCapability,this.read()):(this._loaded+=x.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(x).buffer,done:!1})}cancel(x){if(!this._readableStream){this._error(x);return}this._readableStream.destroy(x)}_error(x){this._storedError=x,this._readCapability.resolve()}_setReadableStream(x){this._readableStream=x,x.on("readable",()=>{this._readCapability.resolve()}),x.on("end",()=>{x.destroy(),this._done=!0,this._readCapability.resolve()}),x.on("error",p=>{this._error(p)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function i(_,x){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:x}}class a extends W{constructor(x){super(x);const p=T=>{if(T.statusCode===404){const R=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R,this._headersCapability.reject(R);return}this._headersCapability.resolve(),this._setReadableStream(T);const U=R=>this._readableStream.headers[R.toLowerCase()],{allowRangeRequests:O,suggestedLength:b}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:x.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=O,this._contentLength=b||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(U)};if(this._request=null,this._url.protocol==="http:"){const T=require$$5;this._request=T.request(i(this._url,x.httpHeaders),p)}else{const T=require$$5;this._request=T.request(i(this._url,x.httpHeaders),p)}this._request.on("error",T=>{this._storedError=T,this._headersCapability.reject(T)}),this._request.end()}}class y extends u{constructor(x,p,T){super(x),this._httpHeaders={};for(const O in x.httpHeaders){const b=x.httpHeaders[O];b!==void 0&&(this._httpHeaders[O]=b)}this._httpHeaders.Range=`bytes=${p}-${T-1}`;const U=O=>{if(O.statusCode===404){const b=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b;return}this._setReadableStream(O)};if(this._request=null,this._url.protocol==="http:"){const O=require$$5;this._request=O.request(i(this._url,this._httpHeaders),U)}else{const O=require$$5;this._request=O.request(i(this._url,this._httpHeaders),U)}this._request.on("error",O=>{this._storedError=O}),this._request.end()}}class f extends W{constructor(x){super(x);let p=decodeURIComponent(this._url.path);N.test(this._url.href)&&(p=p.replace(/^\//,""));const T=require$$5;T.lstat(p,(U,O)=>{if(U){U.code==="ENOENT"&&(U=new h.MissingPDFException(`Missing PDF "${p}".`)),this._storedError=U,this._headersCapability.reject(U);return}this._contentLength=O.size,this._setReadableStream(T.createReadStream(p)),this._headersCapability.resolve()})}}class o extends u{constructor(x,p,T){super(x);let U=decodeURIComponent(this._url.path);N.test(this._url.href)&&(U=U.replace(/^\//,""));const O=require$$5;this._setReadableStream(O.createReadStream(U,{start:p,end:T-1}))}}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SVGGraphics=void 0;var h=S(6),A=S(1);const N={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},D="http://www.w3.org/XML/1998/namespace",H="http://www.w3.org/1999/xlink",W=["butt","round","square"],u=["miter","round","bevel"],i=function(O,b="",R=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!R)return URL.createObjectURL(new Blob([O],{type:b}));const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let X=`data:${b};base64,`;for(let V=0,J=O.length;V<J;V+=3){const te=O[V]&255,ve=O[V+1]&255,de=O[V+2]&255,he=te>>2,_e=(te&3)<<4|ve>>4,oe=V+1<J?(ve&15)<<2|de>>6:64,B=V+2<J?de&63:64;X+=G[he]+G[_e]+G[oe]+G[B]}return X},a=(function(){const O=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,R=new Int32Array(256);for(let de=0;de<256;de++){let he=de;for(let _e=0;_e<8;_e++)he=he&1?3988292384^he>>1&2147483647:he>>1&2147483647;R[de]=he}function G(de,he,_e){let oe=-1;for(let B=he;B<_e;B++){const E=(oe^de[B])&255,v=R[E];oe=oe>>>8^v}return oe^-1}function X(de,he,_e,oe){let B=oe;const E=he.length;_e[B]=E>>24&255,_e[B+1]=E>>16&255,_e[B+2]=E>>8&255,_e[B+3]=E&255,B+=4,_e[B]=de.charCodeAt(0)&255,_e[B+1]=de.charCodeAt(1)&255,_e[B+2]=de.charCodeAt(2)&255,_e[B+3]=de.charCodeAt(3)&255,B+=4,_e.set(he,B),B+=he.length;const v=G(_e,oe+4,B);_e[B]=v>>24&255,_e[B+1]=v>>16&255,_e[B+2]=v>>8&255,_e[B+3]=v&255}function V(de,he,_e){let oe=1,B=0;for(let E=he;E<_e;++E)oe=(oe+(de[E]&255))%65521,B=(B+oe)%65521;return B<<16|oe}function J(de){if(!A.isNodeJS)return te(de);try{const he=parseInt(process.versions.node)>=8?de:Buffer.from(de),_e=require$$5.deflateSync(he,{level:9});return _e instanceof Uint8Array?_e:new Uint8Array(_e)}catch(he){(0,A.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+he)}return te(de)}function te(de){let he=de.length;const _e=65535,oe=Math.ceil(he/_e),B=new Uint8Array(2+he+oe*5+4);let E=0;B[E++]=120,B[E++]=156;let v=0;for(;he>_e;)B[E++]=0,B[E++]=255,B[E++]=255,B[E++]=0,B[E++]=0,B.set(de.subarray(v,v+_e),E),E+=_e,v+=_e,he-=_e;B[E++]=1,B[E++]=he&255,B[E++]=he>>8&255,B[E++]=~he&65535&255,B[E++]=(~he&65535)>>8&255,B.set(de.subarray(v),E),E+=de.length-v;const g=V(de,0,de.length);return B[E++]=g>>24&255,B[E++]=g>>16&255,B[E++]=g>>8&255,B[E++]=g&255,B}function ve(de,he,_e,oe){const B=de.width,E=de.height;let v,g,m;const P=de.data;switch(he){case A.ImageKind.GRAYSCALE_1BPP:g=0,v=1,m=B+7>>3;break;case A.ImageKind.RGB_24BPP:g=2,v=8,m=B*3;break;case A.ImageKind.RGBA_32BPP:g=6,v=8,m=B*4;break;default:throw new Error("invalid format")}const I=new Uint8Array((1+m)*E);let z=0,F=0;for(let q=0;q<E;++q)I[z++]=0,I.set(P.subarray(F,F+m),z),F+=m,z+=m;if(he===A.ImageKind.GRAYSCALE_1BPP&&oe){z=0;for(let q=0;q<E;q++){z++;for(let K=0;K<m;K++)I[z++]^=255}}const d=new Uint8Array([B>>24&255,B>>16&255,B>>8&255,B&255,E>>24&255,E>>16&255,E>>8&255,E&255,v,g,0,0,0]),w=J(I),C=O.length+b*3+d.length+w.length,L=new Uint8Array(C);let j=0;return L.set(O,j),j+=O.length,X("IHDR",d,L,j),j+=b+d.length,X("IDATA",w,L,j),j+=b+w.length,X("IEND",new Uint8Array(0),L,j),i(L,"image/png",_e)}return function(he,_e,oe){const B=he.kind===void 0?A.ImageKind.GRAYSCALE_1BPP:he.kind;return ve(he,B,_e,oe)}})();class y{constructor(){this.fontSizeScale=1,this.fontWeight=N.fontWeight,this.fontSize=0,this.textMatrix=A.IDENTITY_MATRIX,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=A.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=N.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(b,R){this.x=b,this.y=R}}function f(O){let b=[];const R=[];for(const G of O){if(G.fn==="save"){b.push({fnId:92,fn:"group",items:[]}),R.push(b),b=b.at(-1).items;continue}G.fn==="restore"?b=R.pop():b.push(G)}return b}function o(O){if(Number.isInteger(O))return O.toString();const b=O.toFixed(10);let R=b.length-1;if(b[R]!=="0")return b;do R--;while(b[R]==="0");return b.substring(0,b[R]==="."?R:R+1)}function _(O){if(O[4]===0&&O[5]===0){if(O[1]===0&&O[2]===0)return O[0]===1&&O[3]===1?"":`scale(${o(O[0])} ${o(O[3])})`;if(O[0]===O[3]&&O[1]===-O[2]){const b=Math.acos(O[0])*180/Math.PI;return`rotate(${o(b)})`}}else if(O[0]===1&&O[1]===0&&O[2]===0&&O[3]===1)return`translate(${o(O[4])} ${o(O[5])})`;return`matrix(${o(O[0])} ${o(O[1])} ${o(O[2])} ${o(O[3])} ${o(O[4])} ${o(O[5])})`}let x=0,p=0,T=0;class U{constructor(b,R,G=!1){(0,h.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new h.DOMSVGFactory,this.current=new y,this.transformMatrix=A.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=b,this.objs=R,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!G,this._operatorIdMapping=[];for(const X in A.OPS)this._operatorIdMapping[A.OPS[X]]=X}getObject(b,R=null){return typeof b=="string"?b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b):R}save(){this.transformStack.push(this.transformMatrix);const b=this.current;this.extraStack.push(b),this.current=b.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(b){this.save(),this.executeOpTree(b),this.restore()}loadDependencies(b){const R=b.fnArray,G=b.argsArray;for(let X=0,V=R.length;X<V;X++)if(R[X]===A.OPS.dependency)for(const J of G[X]){const te=J.startsWith("g_")?this.commonObjs:this.objs,ve=new Promise(de=>{te.get(J,de)});this.current.dependencies.push(ve)}return Promise.all(this.current.dependencies)}transform(b,R,G,X,V,J){const te=[b,R,G,X,V,J];this.transformMatrix=A.Util.transform(this.transformMatrix,te),this.tgrp=null}getSVG(b,R){this.viewport=R;const G=this._initialize(R);return this.loadDependencies(b).then(()=>(this.transformMatrix=A.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(b)),G))}convertOpList(b){const R=this._operatorIdMapping,G=b.argsArray,X=b.fnArray,V=[];for(let J=0,te=X.length;J<te;J++){const ve=X[J];V.push({fnId:ve,fn:R[ve],args:G[J]})}return f(V)}executeOpTree(b){for(const R of b){const G=R.fn,X=R.fnId,V=R.args;switch(X|0){case A.OPS.beginText:this.beginText();break;case A.OPS.dependency:break;case A.OPS.setLeading:this.setLeading(V);break;case A.OPS.setLeadingMoveText:this.setLeadingMoveText(V[0],V[1]);break;case A.OPS.setFont:this.setFont(V);break;case A.OPS.showText:this.showText(V[0]);break;case A.OPS.showSpacedText:this.showText(V[0]);break;case A.OPS.endText:this.endText();break;case A.OPS.moveText:this.moveText(V[0],V[1]);break;case A.OPS.setCharSpacing:this.setCharSpacing(V[0]);break;case A.OPS.setWordSpacing:this.setWordSpacing(V[0]);break;case A.OPS.setHScale:this.setHScale(V[0]);break;case A.OPS.setTextMatrix:this.setTextMatrix(V[0],V[1],V[2],V[3],V[4],V[5]);break;case A.OPS.setTextRise:this.setTextRise(V[0]);break;case A.OPS.setTextRenderingMode:this.setTextRenderingMode(V[0]);break;case A.OPS.setLineWidth:this.setLineWidth(V[0]);break;case A.OPS.setLineJoin:this.setLineJoin(V[0]);break;case A.OPS.setLineCap:this.setLineCap(V[0]);break;case A.OPS.setMiterLimit:this.setMiterLimit(V[0]);break;case A.OPS.setFillRGBColor:this.setFillRGBColor(V[0],V[1],V[2]);break;case A.OPS.setStrokeRGBColor:this.setStrokeRGBColor(V[0],V[1],V[2]);break;case A.OPS.setStrokeColorN:this.setStrokeColorN(V);break;case A.OPS.setFillColorN:this.setFillColorN(V);break;case A.OPS.shadingFill:this.shadingFill(V[0]);break;case A.OPS.setDash:this.setDash(V[0],V[1]);break;case A.OPS.setRenderingIntent:this.setRenderingIntent(V[0]);break;case A.OPS.setFlatness:this.setFlatness(V[0]);break;case A.OPS.setGState:this.setGState(V[0]);break;case A.OPS.fill:this.fill();break;case A.OPS.eoFill:this.eoFill();break;case A.OPS.stroke:this.stroke();break;case A.OPS.fillStroke:this.fillStroke();break;case A.OPS.eoFillStroke:this.eoFillStroke();break;case A.OPS.clip:this.clip("nonzero");break;case A.OPS.eoClip:this.clip("evenodd");break;case A.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case A.OPS.paintImageXObject:this.paintImageXObject(V[0]);break;case A.OPS.paintInlineImageXObject:this.paintInlineImageXObject(V[0]);break;case A.OPS.paintImageMaskXObject:this.paintImageMaskXObject(V[0]);break;case A.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(V[0],V[1]);break;case A.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case A.OPS.closePath:this.closePath();break;case A.OPS.closeStroke:this.closeStroke();break;case A.OPS.closeFillStroke:this.closeFillStroke();break;case A.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case A.OPS.nextLine:this.nextLine();break;case A.OPS.transform:this.transform(V[0],V[1],V[2],V[3],V[4],V[5]);break;case A.OPS.constructPath:this.constructPath(V[0],V[1]);break;case A.OPS.endPath:this.endPath();break;case 92:this.group(R.items);break;default:(0,A.warn)(`Unimplemented operator ${G}`);break}}}setWordSpacing(b){this.current.wordSpacing=b}setCharSpacing(b){this.current.charSpacing=b}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(b,R,G,X,V,J){const te=this.current;te.textMatrix=te.lineMatrix=[b,R,G,X,V,J],te.textMatrixScale=Math.hypot(b,R),te.x=te.lineX=0,te.y=te.lineY=0,te.xcoords=[],te.ycoords=[],te.tspan=this.svgFactory.createElement("svg:tspan"),te.tspan.setAttributeNS(null,"font-family",te.fontFamily),te.tspan.setAttributeNS(null,"font-size",`${o(te.fontSize)}px`),te.tspan.setAttributeNS(null,"y",o(-te.y)),te.txtElement=this.svgFactory.createElement("svg:text"),te.txtElement.append(te.tspan)}beginText(){const b=this.current;b.x=b.lineX=0,b.y=b.lineY=0,b.textMatrix=A.IDENTITY_MATRIX,b.lineMatrix=A.IDENTITY_MATRIX,b.textMatrixScale=1,b.tspan=this.svgFactory.createElement("svg:tspan"),b.txtElement=this.svgFactory.createElement("svg:text"),b.txtgrp=this.svgFactory.createElement("svg:g"),b.xcoords=[],b.ycoords=[]}moveText(b,R){const G=this.current;G.x=G.lineX+=b,G.y=G.lineY+=R,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${o(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",o(-G.y))}showText(b){const R=this.current,G=R.font,X=R.fontSize;if(X===0)return;const V=R.fontSizeScale,J=R.charSpacing,te=R.wordSpacing,ve=R.fontDirection,de=R.textHScale*ve,he=G.vertical,_e=he?1:-1,oe=G.defaultVMetrics,B=X*R.fontMatrix[0];let E=0;for(const m of b){if(m===null){E+=ve*te;continue}else if(typeof m=="number"){E+=_e*m*X/1e3;continue}const P=(m.isSpace?te:0)+J,I=m.fontChar;let z,F,d=m.width;if(he){let C;const L=m.vmetric||oe;C=m.vmetric?L[1]:d*.5,C=-C*B;const j=L[2]*B;d=L?-L[0]:d,z=C/V,F=(E+j)/V}else z=E/V,F=0;(m.isInFont||G.missingFile)&&(R.xcoords.push(R.x+z),he&&R.ycoords.push(-R.y+F),R.tspan.textContent+=I);const w=he?d*B-P*ve:d*B+P*ve;E+=w}R.tspan.setAttributeNS(null,"x",R.xcoords.map(o).join(" ")),he?R.tspan.setAttributeNS(null,"y",R.ycoords.map(o).join(" ")):R.tspan.setAttributeNS(null,"y",o(-R.y)),he?R.y-=E:R.x+=E*de,R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${o(R.fontSize)}px`),R.fontStyle!==N.fontStyle&&R.tspan.setAttributeNS(null,"font-style",R.fontStyle),R.fontWeight!==N.fontWeight&&R.tspan.setAttributeNS(null,"font-weight",R.fontWeight);const v=R.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;if(v===A.TextRenderingMode.FILL||v===A.TextRenderingMode.FILL_STROKE?(R.fillColor!==N.fillColor&&R.tspan.setAttributeNS(null,"fill",R.fillColor),R.fillAlpha<1&&R.tspan.setAttributeNS(null,"fill-opacity",R.fillAlpha)):R.textRenderingMode===A.TextRenderingMode.ADD_TO_PATH?R.tspan.setAttributeNS(null,"fill","transparent"):R.tspan.setAttributeNS(null,"fill","none"),v===A.TextRenderingMode.STROKE||v===A.TextRenderingMode.FILL_STROKE){const m=1/(R.textMatrixScale||1);this._setStrokeAttributes(R.tspan,m)}let g=R.textMatrix;R.textRise!==0&&(g=g.slice(),g[5]+=R.textRise),R.txtElement.setAttributeNS(null,"transform",`${_(g)} scale(${o(de)}, -1)`),R.txtElement.setAttributeNS(D,"xml:space","preserve"),R.txtElement.append(R.tspan),R.txtgrp.append(R.txtElement),this._ensureTransformGroup().append(R.txtElement)}setLeadingMoveText(b,R){this.setLeading(-R),this.moveText(b,R)}addFontStyle(b){if(!b.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const R=i(b.data,b.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${b.loadedName}"; src: url(${R}); }
`}setFont(b){const R=this.current,G=this.commonObjs.get(b[0]);let X=b[1];R.font=G,this.embedFonts&&!G.missingFile&&!this.embeddedFonts[G.loadedName]&&(this.addFontStyle(G),this.embeddedFonts[G.loadedName]=G),R.fontMatrix=G.fontMatrix||A.FONT_IDENTITY_MATRIX;let V="normal";G.black?V="900":G.bold&&(V="bold");const J=G.italic?"italic":"normal";X<0?(X=-X,R.fontDirection=-1):R.fontDirection=1,R.fontSize=X,R.fontFamily=G.loadedName,R.fontWeight=V,R.fontStyle=J,R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"y",o(-R.y)),R.xcoords=[],R.ycoords=[]}endText(){const b=this.current;b.textRenderingMode&A.TextRenderingMode.ADD_TO_PATH_FLAG&&b.txtElement?.hasChildNodes()&&(b.element=b.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(b){b>0&&(this.current.lineWidth=b)}setLineCap(b){this.current.lineCap=W[b]}setLineJoin(b){this.current.lineJoin=u[b]}setMiterLimit(b){this.current.miterLimit=b}setStrokeAlpha(b){this.current.strokeAlpha=b}setStrokeRGBColor(b,R,G){this.current.strokeColor=A.Util.makeHexColor(b,R,G)}setFillAlpha(b){this.current.fillAlpha=b}setFillRGBColor(b,R,G){this.current.fillColor=A.Util.makeHexColor(b,R,G),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(b){this.current.strokeColor=this._makeColorN_Pattern(b)}setFillColorN(b){this.current.fillColor=this._makeColorN_Pattern(b)}shadingFill(b){const{width:R,height:G}=this.viewport,X=A.Util.inverseTransform(this.transformMatrix),[V,J,te,ve]=A.Util.getAxialAlignedBoundingBox([0,0,R,G],X),de=this.svgFactory.createElement("svg:rect");de.setAttributeNS(null,"x",V),de.setAttributeNS(null,"y",J),de.setAttributeNS(null,"width",te-V),de.setAttributeNS(null,"height",ve-J),de.setAttributeNS(null,"fill",this._makeShadingPattern(b)),this.current.fillAlpha<1&&de.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(de)}_makeColorN_Pattern(b){return b[0]==="TilingPattern"?this._makeTilingPattern(b):this._makeShadingPattern(b)}_makeTilingPattern(b){const R=b[1],G=b[2],X=b[3]||A.IDENTITY_MATRIX,[V,J,te,ve]=b[4],de=b[5],he=b[6],_e=b[7],oe=`shading${T++}`,[B,E,v,g]=A.Util.normalizeRect([...A.Util.applyTransform([V,J],X),...A.Util.applyTransform([te,ve],X)]),[m,P]=A.Util.singularValueDecompose2dScale(X),I=de*m,z=he*P,F=this.svgFactory.createElement("svg:pattern");F.setAttributeNS(null,"id",oe),F.setAttributeNS(null,"patternUnits","userSpaceOnUse"),F.setAttributeNS(null,"width",I),F.setAttributeNS(null,"height",z),F.setAttributeNS(null,"x",`${B}`),F.setAttributeNS(null,"y",`${E}`);const d=this.svg,w=this.transformMatrix,C=this.current.fillColor,L=this.current.strokeColor,j=this.svgFactory.create(v-B,g-E);if(this.svg=j,this.transformMatrix=X,_e===2){const q=A.Util.makeHexColor(...R);this.current.fillColor=q,this.current.strokeColor=q}return this.executeOpTree(this.convertOpList(G)),this.svg=d,this.transformMatrix=w,this.current.fillColor=C,this.current.strokeColor=L,F.append(j.childNodes[0]),this.defs.append(F),`url(#${oe})`}_makeShadingPattern(b){switch(typeof b=="string"&&(b=this.objs.get(b)),b[0]){case"RadialAxial":const R=`shading${T++}`,G=b[3];let X;switch(b[1]){case"axial":const V=b[4],J=b[5];X=this.svgFactory.createElement("svg:linearGradient"),X.setAttributeNS(null,"id",R),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"x1",V[0]),X.setAttributeNS(null,"y1",V[1]),X.setAttributeNS(null,"x2",J[0]),X.setAttributeNS(null,"y2",J[1]);break;case"radial":const te=b[4],ve=b[5],de=b[6],he=b[7];X=this.svgFactory.createElement("svg:radialGradient"),X.setAttributeNS(null,"id",R),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"cx",ve[0]),X.setAttributeNS(null,"cy",ve[1]),X.setAttributeNS(null,"r",he),X.setAttributeNS(null,"fx",te[0]),X.setAttributeNS(null,"fy",te[1]),X.setAttributeNS(null,"fr",de);break;default:throw new Error(`Unknown RadialAxial type: ${b[1]}`)}for(const V of G){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",V[0]),J.setAttributeNS(null,"stop-color",V[1]),X.append(J)}return this.defs.append(X),`url(#${R})`;case"Mesh":return(0,A.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${b[0]}`)}}setDash(b,R){this.current.dashArray=b,this.current.dashPhase=R}constructPath(b,R){const G=this.current;let X=G.x,V=G.y,J=[],te=0;for(const ve of b)switch(ve|0){case A.OPS.rectangle:X=R[te++],V=R[te++];const de=R[te++],he=R[te++],_e=X+de,oe=V+he;J.push("M",o(X),o(V),"L",o(_e),o(V),"L",o(_e),o(oe),"L",o(X),o(oe),"Z");break;case A.OPS.moveTo:X=R[te++],V=R[te++],J.push("M",o(X),o(V));break;case A.OPS.lineTo:X=R[te++],V=R[te++],J.push("L",o(X),o(V));break;case A.OPS.curveTo:X=R[te+4],V=R[te+5],J.push("C",o(R[te]),o(R[te+1]),o(R[te+2]),o(R[te+3]),o(X),o(V)),te+=6;break;case A.OPS.curveTo2:J.push("C",o(X),o(V),o(R[te]),o(R[te+1]),o(R[te+2]),o(R[te+3])),X=R[te+2],V=R[te+3],te+=4;break;case A.OPS.curveTo3:X=R[te+2],V=R[te+3],J.push("C",o(R[te]),o(R[te+1]),o(X),o(V),o(X),o(V)),te+=4;break;case A.OPS.closePath:J.push("Z");break}J=J.join(" "),G.path&&b.length>0&&b[0]!==A.OPS.rectangle&&b[0]!==A.OPS.moveTo?J=G.path.getAttributeNS(null,"d")+J:(G.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(G.path)),G.path.setAttributeNS(null,"d",J),G.path.setAttributeNS(null,"fill","none"),G.element=G.path,G.setCurrentPoint(X,V)}endPath(){const b=this.current;if(b.path=null,!this.pendingClip)return;if(!b.element){this.pendingClip=null;return}const R=`clippath${x++}`,G=this.svgFactory.createElement("svg:clipPath");G.setAttributeNS(null,"id",R),G.setAttributeNS(null,"transform",_(this.transformMatrix));const X=b.element.cloneNode(!0);if(this.pendingClip==="evenodd"?X.setAttributeNS(null,"clip-rule","evenodd"):X.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,G.append(X),this.defs.append(G),b.activeClipUrl){b.clipGroup=null;for(const V of this.extraStack)V.clipGroup=null;G.setAttributeNS(null,"clip-path",b.activeClipUrl)}b.activeClipUrl=`url(#${R})`,this.tgrp=null}clip(b){this.pendingClip=b}closePath(){const b=this.current;if(b.path){const R=`${b.path.getAttributeNS(null,"d")}Z`;b.path.setAttributeNS(null,"d",R)}}setLeading(b){this.current.leading=-b}setTextRise(b){this.current.textRise=b}setTextRenderingMode(b){this.current.textRenderingMode=b}setHScale(b){this.current.textHScale=b/100}setRenderingIntent(b){}setFlatness(b){}setGState(b){for(const[R,G]of b)switch(R){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G);break;case"CA":this.setStrokeAlpha(G);break;case"ca":this.setFillAlpha(G);break;default:(0,A.warn)(`Unimplemented graphic state operator ${R}`);break}}fill(){const b=this.current;b.element&&(b.element.setAttributeNS(null,"fill",b.fillColor),b.element.setAttributeNS(null,"fill-opacity",b.fillAlpha),this.endPath())}stroke(){const b=this.current;b.element&&(this._setStrokeAttributes(b.element),b.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(b,R=1){const G=this.current;let X=G.dashArray;R!==1&&X.length>0&&(X=X.map(function(V){return R*V})),b.setAttributeNS(null,"stroke",G.strokeColor),b.setAttributeNS(null,"stroke-opacity",G.strokeAlpha),b.setAttributeNS(null,"stroke-miterlimit",o(G.miterLimit)),b.setAttributeNS(null,"stroke-linecap",G.lineCap),b.setAttributeNS(null,"stroke-linejoin",G.lineJoin),b.setAttributeNS(null,"stroke-width",o(R*G.lineWidth)+"px"),b.setAttributeNS(null,"stroke-dasharray",X.map(o).join(" ")),b.setAttributeNS(null,"stroke-dashoffset",o(R*G.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(b)}paintImageXObject(b){const R=this.getObject(b);if(!R){(0,A.warn)(`Dependent image with object ID ${b} is not ready yet`);return}this.paintInlineImageXObject(R)}paintInlineImageXObject(b,R){const G=b.width,X=b.height,V=a(b,this.forceDataSchema,!!R),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",o(G)),J.setAttributeNS(null,"height",o(X)),this.current.element=J,this.clip("nonzero");const te=this.svgFactory.createElement("svg:image");te.setAttributeNS(H,"xlink:href",V),te.setAttributeNS(null,"x","0"),te.setAttributeNS(null,"y",o(-X)),te.setAttributeNS(null,"width",o(G)+"px"),te.setAttributeNS(null,"height",o(X)+"px"),te.setAttributeNS(null,"transform",`scale(${o(1/G)} ${o(-1/X)})`),R?R.append(te):this._ensureTransformGroup().append(te)}paintImageMaskXObject(b){const R=this.getObject(b.data,b);if(R.bitmap){(0,A.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const G=this.current,X=R.width,V=R.height,J=G.fillColor;G.maskId=`mask${p++}`;const te=this.svgFactory.createElement("svg:mask");te.setAttributeNS(null,"id",G.maskId);const ve=this.svgFactory.createElement("svg:rect");ve.setAttributeNS(null,"x","0"),ve.setAttributeNS(null,"y","0"),ve.setAttributeNS(null,"width",o(X)),ve.setAttributeNS(null,"height",o(V)),ve.setAttributeNS(null,"fill",J),ve.setAttributeNS(null,"mask",`url(#${G.maskId})`),this.defs.append(te),this._ensureTransformGroup().append(ve),this.paintInlineImageXObject(R,te)}paintFormXObjectBegin(b,R){if(Array.isArray(b)&&b.length===6&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]),R){const G=R[2]-R[0],X=R[3]-R[1],V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x",R[0]),V.setAttributeNS(null,"y",R[1]),V.setAttributeNS(null,"width",o(G)),V.setAttributeNS(null,"height",o(X)),this.current.element=V,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(b){const R=this.svgFactory.create(b.width,b.height),G=this.svgFactory.createElement("svg:defs");R.append(G),this.defs=G;const X=this.svgFactory.createElement("svg:g");return X.setAttributeNS(null,"transform",_(b.transform)),R.append(X),this.svg=X,R}_ensureClipGroup(){if(!this.current.clipGroup){const b=this.svgFactory.createElement("svg:g");b.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(b),this.current.clipGroup=b}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",_(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}l.SVGGraphics=U}),((M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XfaText=void 0;class S{static textContent(A){const N=[],D={items:N,styles:Object.create(null)};function H(W){if(!W)return;let u=null;const i=W.name;if(i==="#text")u=W.value;else if(S.shouldBuildText(i))W?.attributes?.textContent?u=W.attributes.textContent:W.value&&(u=W.value);else return;if(u!==null&&N.push({str:u}),!!W.children)for(const a of W.children)H(a)}return H(A),D}static shouldBuildText(A){return!(A==="textarea"||A==="input"||A==="option"||A==="select")}}l.XfaText=S}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TextLayerRenderTask=void 0,l.renderTextLayer=_,l.updateTextLayer=x;var h=S(1),A=S(6);const N=1e5,D=30,H=.8,W=new Map;function u(p,T){let U;if(T&&h.FeatureTest.isOffscreenCanvasSupported)U=new OffscreenCanvas(p,p).getContext("2d",{alpha:!1});else{const O=document.createElement("canvas");O.width=O.height=p,U=O.getContext("2d",{alpha:!1})}return U}function i(p,T){const U=W.get(p);if(U)return U;const O=u(D,T);O.font=`${D}px ${p}`;const b=O.measureText("");let R=b.fontBoundingBoxAscent,G=Math.abs(b.fontBoundingBoxDescent);if(R){const V=R/(R+G);return W.set(p,V),O.canvas.width=O.canvas.height=0,V}O.strokeStyle="red",O.clearRect(0,0,D,D),O.strokeText("g",0,0);let X=O.getImageData(0,0,D,D).data;G=0;for(let V=X.length-1-3;V>=0;V-=4)if(X[V]>0){G=Math.ceil(V/4/D);break}O.clearRect(0,0,D,D),O.strokeText("A",0,D),X=O.getImageData(0,0,D,D).data,R=0;for(let V=0,J=X.length;V<J;V+=4)if(X[V]>0){R=D-Math.floor(V/4/D);break}if(O.canvas.width=O.canvas.height=0,R){const V=R/(R+G);return W.set(p,V),V}return W.set(p,H),H}function a(p,T,U){const O=document.createElement("span"),b={angle:0,canvasWidth:0,hasText:T.str!=="",hasEOL:T.hasEOL,fontSize:0};p._textDivs.push(O);const R=h.Util.transform(p._transform,T.transform);let G=Math.atan2(R[1],R[0]);const X=U[T.fontName];X.vertical&&(G+=Math.PI/2);const V=Math.hypot(R[2],R[3]),J=V*i(X.fontFamily,p._isOffscreenCanvasSupported);let te,ve;G===0?(te=R[4],ve=R[5]-J):(te=R[4]+J*Math.sin(G),ve=R[5]-J*Math.cos(G));const de="calc(var(--scale-factor)*",he=O.style;p._container===p._rootContainer?(he.left=`${(100*te/p._pageWidth).toFixed(2)}%`,he.top=`${(100*ve/p._pageHeight).toFixed(2)}%`):(he.left=`${de}${te.toFixed(2)}px)`,he.top=`${de}${ve.toFixed(2)}px)`),he.fontSize=`${de}${V.toFixed(2)}px)`,he.fontFamily=X.fontFamily,b.fontSize=V,O.setAttribute("role","presentation"),O.textContent=T.str,O.dir=T.dir,p._fontInspectorEnabled&&(O.dataset.fontName=T.fontName),G!==0&&(b.angle=G*(180/Math.PI));let _e=!1;if(T.str.length>1)_e=!0;else if(T.str!==" "&&T.transform[0]!==T.transform[3]){const oe=Math.abs(T.transform[0]),B=Math.abs(T.transform[3]);oe!==B&&Math.max(oe,B)/Math.min(oe,B)>1.5&&(_e=!0)}_e&&(b.canvasWidth=X.vertical?T.height:T.width),p._textDivProperties.set(O,b),p._isReadableStream&&p._layoutText(O)}function y(p){const{div:T,scale:U,properties:O,ctx:b,prevFontSize:R,prevFontFamily:G}=p,{style:X}=T;let V="";if(O.canvasWidth!==0&&O.hasText){const{fontFamily:J}=X,{canvasWidth:te,fontSize:ve}=O;(R!==ve||G!==J)&&(b.font=`${ve*U}px ${J}`,p.prevFontSize=ve,p.prevFontFamily=J);const{width:de}=b.measureText(T.textContent);de>0&&(V=`scaleX(${te*U/de})`)}O.angle!==0&&(V=`rotate(${O.angle}deg) ${V}`),V.length>0&&(X.transform=V)}function f(p){if(p._canceled)return;const T=p._textDivs,U=p._capability;if(T.length>N){U.resolve();return}if(!p._isReadableStream)for(const b of T)p._layoutText(b);U.resolve()}class o{constructor({textContentSource:T,container:U,viewport:O,textDivs:b,textDivProperties:R,textContentItemsStr:G,isOffscreenCanvasSupported:X}){this._textContentSource=T,this._isReadableStream=T instanceof ReadableStream,this._container=this._rootContainer=U,this._textDivs=b||[],this._textContentItemsStr=G||[],this._isOffscreenCanvasSupported=X,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=R||new WeakMap,this._canceled=!1,this._capability=new h.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:O.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:u(0,X)};const{pageWidth:V,pageHeight:J,pageX:te,pageY:ve}=O.rawDims;this._transform=[1,0,0,-1,-te,ve+J],this._pageWidth=V,this._pageHeight=J,(0,A.setLayerDimensions)(U,O),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new h.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new h.AbortException("TextLayer task cancelled."))}_processItems(T,U){for(const O of T){if(O.str===void 0){if(O.type==="beginMarkedContentProps"||O.type==="beginMarkedContent"){const b=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),O.id!==null&&this._container.setAttribute("id",`${O.id}`),b.append(this._container)}else O.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(O.str),a(this,O,U)}}_layoutText(T){const U=this._layoutTextParams.properties=this._textDivProperties.get(T);if(this._layoutTextParams.div=T,y(this._layoutTextParams),U.hasText&&this._container.append(T),U.hasEOL){const O=document.createElement("br");O.setAttribute("role","presentation"),this._container.append(O)}}_render(){const T=new h.PromiseCapability;let U=Object.create(null);if(this._isReadableStream){const O=()=>{this._reader.read().then(({value:b,done:R})=>{if(R){T.resolve();return}Object.assign(U,b.styles),this._processItems(b.items,U),O()},T.reject)};this._reader=this._textContentSource.getReader(),O()}else if(this._textContentSource){const{items:O,styles:b}=this._textContentSource;this._processItems(O,b),T.resolve()}else throw new Error('No "textContentSource" parameter specified.');T.promise.then(()=>{U=null,f(this)},this._capability.reject)}}l.TextLayerRenderTask=o;function _(p){!p.textContentSource&&(p.textContent||p.textContentStream)&&((0,A.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),p.textContentSource=p.textContent||p.textContentStream);const{container:T,viewport:U}=p,O=getComputedStyle(T),b=O.getPropertyValue("visibility"),R=parseFloat(O.getPropertyValue("--scale-factor"));b==="visible"&&(!R||Math.abs(R-U.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const G=new o(p);return G._render(),G}function x({container:p,viewport:T,textDivs:U,textDivProperties:O,isOffscreenCanvasSupported:b,mustRotate:R=!0,mustRescale:G=!0}){if(R&&(0,A.setLayerDimensions)(p,{rotation:T.rotation}),G){const X=u(0,b),J={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:X};for(const te of U)J.properties=O.get(te),J.div=te,y(J)}}}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AnnotationEditorLayer=void 0;var h=S(1),A=S(4),N=S(28),D=S(33),H=S(6),W=S(34);class u{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#s=!1;#l=!1;#u=!1;#i;static _initialized=!1;constructor({uiManager:a,pageIndex:y,div:f,accessibilityManager:o,annotationLayer:_,viewport:x,l10n:p}){const T=[N.FreeTextEditor,D.InkEditor,W.StampEditor];if(!u._initialized){u._initialized=!0;for(const U of T)U.initialize(p)}a.registerEditorTypes(T),this.#i=a,this.pageIndex=y,this.div=f,this.#e=o,this.#n=_,this.viewport=x,this.#i.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(a){this.#i.updateToolbar(a)}updateMode(a=this.#i.getMode()){this.#p(),a===h.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),a!==h.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",a===h.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",a===h.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",a===h.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(a){if(!a&&this.#i.getMode()!==h.AnnotationEditorType.INK)return;if(!a){for(const f of this.#a.values())if(f.isEmpty()){f.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(a){this.#i.setEditingState(a)}addCommands(a){this.#i.addCommands(a)}enable(){this.div.style.pointerEvents="auto";const a=new Set;for(const f of this.#a.values())f.enableEditing(),f.annotationElementId&&a.add(f.annotationElementId);if(!this.#n)return;const y=this.#n.getEditableAnnotations();for(const f of y){if(f.hide(),this.#i.isDeletedAnnotationElement(f.data.id)||a.has(f.data.id))continue;const o=this.deserialize(f);o&&(this.addOrRebuild(o),o.enableEditing())}}disable(){this.#u=!0,this.div.style.pointerEvents="none";const a=new Set;for(const y of this.#a.values()){if(y.disableEditing(),!y.annotationElementId||y.serialize()!==null){a.add(y.annotationElementId);continue}this.getEditableAnnotation(y.annotationElementId)?.show(),y.remove()}if(this.#n){const y=this.#n.getEditableAnnotations();for(const f of y){const{id:o}=f.data;a.has(o)||this.#i.isDeletedAnnotationElement(o)||f.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#u=!1}getEditableAnnotation(a){return this.#n?.getEditableAnnotation(a)||null}setActiveEditor(a){this.#i.getActive()!==a&&this.#i.setActiveEditor(a)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#r)}attach(a){this.#a.set(a.id,a);const{annotationElementId:y}=a;y&&this.#i.isDeletedAnnotationElement(y)&&this.#i.removeDeletedAnnotationElement(a)}detach(a){this.#a.delete(a.id),this.#e?.removePointerInTextLayer(a.contentDiv),!this.#u&&a.annotationElementId&&this.#i.addDeletedAnnotationElement(a)}remove(a){this.detach(a),this.#i.removeEditor(a),a.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),a.div.remove(),a.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(a){a.parent!==this&&(a.annotationElementId&&(this.#i.addDeletedAnnotationElement(a.annotationElementId),A.AnnotationEditor.deleteAnnotationElement(a),a.annotationElementId=null),this.attach(a),a.parent?.detach(a),a.setParent(this),a.div&&a.isAttachedToDOM&&(a.div.remove(),this.div.append(a.div)))}add(a){if(this.changeParent(a),this.#i.addEditor(a),this.attach(a),!a.isAttachedToDOM){const y=a.render();this.div.append(y),a.isAttachedToDOM=!0}a.fixAndSetPosition(),a.onceAdded(),this.#i.addToAnnotationStorage(a)}moveEditorInDOM(a){if(!a.isAttachedToDOM)return;const{activeElement:y}=document;a.div.contains(y)&&(a._focusEventsAllowed=!1,setTimeout(()=>{a.div.contains(document.activeElement)?a._focusEventsAllowed=!0:(a.div.addEventListener("focusin",()=>{a._focusEventsAllowed=!0},{once:!0}),y.focus())},0)),a._structTreeParentId=this.#e?.moveElementInDOM(this.div,a.div,a.contentDiv,!0)}addOrRebuild(a){a.needsToBeRebuilt()?a.rebuild():this.add(a)}addUndoableEditor(a){const y=()=>a._uiManager.rebuild(a),f=()=>{a.remove()};this.addCommands({cmd:y,undo:f,mustExec:!1})}getNextId(){return this.#i.getId()}#f(a){switch(this.#i.getMode()){case h.AnnotationEditorType.FREETEXT:return new N.FreeTextEditor(a);case h.AnnotationEditorType.INK:return new D.InkEditor(a);case h.AnnotationEditorType.STAMP:return new W.StampEditor(a)}return null}pasteEditor(a,y){this.#i.updateToolbar(a),this.#i.updateMode(a);const{offsetX:f,offsetY:o}=this.#h(),_=this.getNextId(),x=this.#f({parent:this,id:_,x:f,y:o,uiManager:this.#i,isCentered:!0,...y});x&&this.add(x)}deserialize(a){switch(a.annotationType??a.annotationEditorType){case h.AnnotationEditorType.FREETEXT:return N.FreeTextEditor.deserialize(a,this,this.#i);case h.AnnotationEditorType.INK:return D.InkEditor.deserialize(a,this,this.#i);case h.AnnotationEditorType.STAMP:return W.StampEditor.deserialize(a,this,this.#i)}return null}#d(a,y){const f=this.getNextId(),o=this.#f({parent:this,id:f,x:a.offsetX,y:a.offsetY,uiManager:this.#i,isCentered:y});return o&&this.add(o),o}#h(){const{x:a,y,width:f,height:o}=this.div.getBoundingClientRect(),_=Math.max(0,a),x=Math.max(0,y),p=Math.min(window.innerWidth,a+f),T=Math.min(window.innerHeight,y+o),U=(_+p)/2-a,O=(x+T)/2-y,[b,R]=this.viewport.rotation%180===0?[U,O]:[O,U];return{offsetX:b,offsetY:R}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(a){this.#i.setSelected(a)}toggleSelected(a){this.#i.toggleSelected(a)}isSelected(a){return this.#i.isSelected(a)}unselect(a){this.#i.unselect(a)}pointerup(a){const{isMac:y}=h.FeatureTest.platform;if(!(a.button!==0||a.ctrlKey&&y)&&a.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===h.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(a,!1)}}pointerdown(a){if(this.#s){this.#s=!1;return}const{isMac:y}=h.FeatureTest.platform;if(a.button!==0||a.ctrlKey&&y||a.target!==this.div)return;this.#s=!0;const f=this.#i.getActive();this.#t=!f||f.isEmpty()}findNewParent(a,y,f){const o=this.#i.findParent(y,f);return o===null||o===this?!1:(o.changeParent(a),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const a of this.#a.values())this.#e?.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,this.#a.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const a of this.#a.values())a.isEmpty()&&a.remove();this.#l=!1}render({viewport:a}){this.viewport=a,(0,H.setLayerDimensions)(this.div,a);for(const y of this.#i.getEditors(this.pageIndex))this.add(y);this.updateMode()}update({viewport:a}){this.#i.commitOrRemove(),this.viewport=a,(0,H.setLayerDimensions)(this.div,{rotation:a.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:a,pageHeight:y}=this.viewport.rawDims;return[a,y]}}l.AnnotationEditorLayer=u}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FreeTextEditor=void 0;var h=S(1),A=S(5),N=S(4),D=S(29);class H extends N.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#o;#a="";#s=`${this.id}-editor`;#l;#u=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const u=H.prototype,i=f=>f.isEmpty(),a=A.AnnotationEditorUIManager.TRANSLATE_SMALL,y=A.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,h.shadow)(this,"_keyboardManager",new A.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],u.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],u.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],u._translateEmpty,{args:[-a,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u._translateEmpty,{args:[-y,0],checker:i}],[["ArrowRight","mac+ArrowRight"],u._translateEmpty,{args:[a,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u._translateEmpty,{args:[y,0],checker:i}],[["ArrowUp","mac+ArrowUp"],u._translateEmpty,{args:[0,-a],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u._translateEmpty,{args:[0,-y],checker:i}],[["ArrowDown","mac+ArrowDown"],u._translateEmpty,{args:[0,a],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u._translateEmpty,{args:[0,y],checker:i}]]))}static _type="freetext";constructor(u){super({...u,name:"freeTextEditor"}),this.#o=u.color||H._defaultColor||N.AnnotationEditor._defaultLineColor,this.#l=u.fontSize||H._defaultFontSize}static initialize(u){N.AnnotationEditor.initialize(u,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(u,i){switch(u){case h.AnnotationEditorParamsType.FREETEXT_SIZE:H._defaultFontSize=i;break;case h.AnnotationEditorParamsType.FREETEXT_COLOR:H._defaultColor=i;break}}updateParams(u,i){switch(u){case h.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(i);break;case h.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(i);break}}static get defaultPropertiesToUpdate(){return[[h.AnnotationEditorParamsType.FREETEXT_SIZE,H._defaultFontSize],[h.AnnotationEditorParamsType.FREETEXT_COLOR,H._defaultColor||N.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[h.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[h.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(u){const i=y=>{this.editorDiv.style.fontSize=`calc(${y}px * var(--scale-factor))`,this.translate(0,-(y-this.#l)*this.parentScale),this.#l=y,this.#h()},a=this.#l;this.addCommands({cmd:()=>{i(u)},undo:()=>{i(a)},mustExec:!0,type:h.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(u){const i=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=u},undo:()=>{this.#o=this.editorDiv.style.color=i},mustExec:!0,type:h.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(u,i){this._uiManager.translateSelectedEditors(u,i,!0)}getInitialTranslation(){const u=this.parentScale;return[-H._internalPadding*u,-(H._internalPadding+this.#l)*u]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(h.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),u.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const u=this.editorDiv.getElementsByTagName("div");if(u.length===0)return this.editorDiv.innerText;const i=[];for(const a of u)i.push(a.innerText.replace(/\r\n?|\n/,""));return i.join(`
`)}#h(){const[u,i]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:y,div:f}=this,o=f.style.display;f.style.display="hidden",y.div.append(this.div),a=f.getBoundingClientRect(),f.remove(),f.style.display=o}this.rotation%180===this.parentRotation%180?(this.width=a.width/u,this.height=a.height/i):(this.width=a.height/u,this.height=a.width/i),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const u=this.#a,i=this.#a=this.#d().trimEnd();if(u===i)return;const a=y=>{if(this.#a=y,!y){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{a(i)},undo:()=>{a(u)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(u){this.enterInEditMode()}keydown(u){u.target===this.div&&u.key==="Enter"&&(this.enterInEditMode(),u.preventDefault())}editorDivKeydown(u){H._keyboardManager.exec(this,u)}editorDivFocus(u){this.isEditing=!0}editorDivBlur(u){this.isEditing=!1}editorDivInput(u){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let u,i;this.width&&(u=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),N.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(y=>this.editorDiv?.setAttribute("aria-label",y)),N.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(y=>this.editorDiv?.setAttribute("default-content",y)),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${this.#l}px * var(--scale-factor))`,a.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,A.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[y,f]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this.#u;let[_,x]=this.getInitialTranslation();[_,x]=this.pageTranslationToScreen(_,x);const[p,T]=this.pageDimensions,[U,O]=this.pageTranslation;let b,R;switch(this.rotation){case 0:b=u+(o[0]-U)/p,R=i+this.height-(o[1]-O)/T;break;case 90:b=u+(o[0]-U)/p,R=i-(o[1]-O)/T,[_,x]=[x,-_];break;case 180:b=u-this.width+(o[0]-U)/p,R=i-(o[1]-O)/T,[_,x]=[-_,-x];break;case 270:b=u+(o[0]-U-this.height*T)/p,R=i+(o[1]-O-this.width*p)/T,[_,x]=[-x,_];break}this.setAt(b*y,R*f,_,x)}else this.setAt(u*y,i*f,this.width*y,this.height*f);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const u of this.#a.split(`
`)){const i=document.createElement("div");i.append(u?document.createTextNode(u):document.createElement("br")),this.editorDiv.append(i)}}get contentDiv(){return this.editorDiv}static deserialize(u,i,a){let y=null;if(u instanceof D.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:o,fontColor:_},rect:x,rotation:p,id:T},textContent:U,textPosition:O,parent:{page:{pageNumber:b}}}=u;if(!U||U.length===0)return null;y=u={annotationType:h.AnnotationEditorType.FREETEXT,color:Array.from(_),fontSize:o,value:U.join(`
`),position:O,pageIndex:b-1,rect:x,rotation:p,id:T,deleted:!1}}const f=super.deserialize(u,i,a);return f.#l=u.fontSize,f.#o=h.Util.makeHexColor(...u.color),f.#a=u.value,f.annotationElementId=u.id||null,f.#u=y,f}serialize(u=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=H._internalPadding*this.parentScale,a=this.getRect(i,i),y=N.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),f={annotationType:h.AnnotationEditorType.FREETEXT,color:y,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return u?f:this.annotationElementId&&!this.#v(f)?null:(f.id=this.annotationElementId,f)}#v(u){const{value:i,fontSize:a,color:y,rect:f,pageIndex:o}=this.#u;return u.value!==i||u.fontSize!==a||u.rect.some((_,x)=>Math.abs(_-f[x])>=1)||u.color.some((_,x)=>_!==y[x])||u.pageIndex!==o}#g(u=!1){if(!this.annotationElementId)return;if(this.#h(),!u&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const i=H._internalPadding*this.parentScale;this.#u.rect=this.getRect(i,i)}}l.FreeTextEditor=H}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StampAnnotationElement=l.InkAnnotationElement=l.FreeTextAnnotationElement=l.AnnotationLayer=void 0;var h=S(1),A=S(6),N=S(3),D=S(30),H=S(31),W=S(32);const u=1e3,i=9,a=new WeakSet;function y(F){return{width:F[2]-F[0],height:F[3]-F[1]}}class f{static create(d){switch(d.data.annotationType){case h.AnnotationType.LINK:return new _(d);case h.AnnotationType.TEXT:return new x(d);case h.AnnotationType.WIDGET:switch(d.data.fieldType){case"Tx":return new T(d);case"Btn":return d.data.radioButton?new b(d):d.data.checkBox?new O(d):new R(d);case"Ch":return new G(d);case"Sig":return new U(d)}return new p(d);case h.AnnotationType.POPUP:return new X(d);case h.AnnotationType.FREETEXT:return new J(d);case h.AnnotationType.LINE:return new te(d);case h.AnnotationType.SQUARE:return new ve(d);case h.AnnotationType.CIRCLE:return new de(d);case h.AnnotationType.POLYLINE:return new he(d);case h.AnnotationType.CARET:return new oe(d);case h.AnnotationType.INK:return new B(d);case h.AnnotationType.POLYGON:return new _e(d);case h.AnnotationType.HIGHLIGHT:return new E(d);case h.AnnotationType.UNDERLINE:return new v(d);case h.AnnotationType.SQUIGGLY:return new g(d);case h.AnnotationType.STRIKEOUT:return new m(d);case h.AnnotationType.STAMP:return new P(d);case h.AnnotationType.FILEATTACHMENT:return new I(d);default:return new o(d)}}}class o{#e=!1;constructor(d,{isRenderable:w=!1,ignoreBorder:C=!1,createQuadrilaterals:L=!1}={}){this.isRenderable=w,this.data=d.data,this.layer=d.layer,this.linkService=d.linkService,this.downloadManager=d.downloadManager,this.imageResourcesPath=d.imageResourcesPath,this.renderForms=d.renderForms,this.svgFactory=d.svgFactory,this.annotationStorage=d.annotationStorage,this.enableScripting=d.enableScripting,this.hasJSActions=d.hasJSActions,this._fieldObjects=d.fieldObjects,this.parent=d.parent,w&&(this.container=this._createContainer(C)),L&&this._createQuadrilaterals()}static _hasPopupData({titleObj:d,contentsObj:w,richText:C}){return!!(d?.str||w?.str||C?.str)}get hasPopupData(){return o._hasPopupData(this.data)}_createContainer(d){const{data:w,parent:{page:C,viewport:L}}=this,j=document.createElement("section");j.setAttribute("data-annotation-id",w.id),this instanceof p||(j.tabIndex=u),j.style.zIndex=this.parent.zIndex++,this.data.popupRef&&j.setAttribute("aria-haspopup","dialog"),w.noRotate&&j.classList.add("norotate");const{pageWidth:q,pageHeight:K,pageX:ie,pageY:Ae}=L.rawDims;if(!w.rect||this instanceof X){const{rotation:fe}=w;return!w.hasOwnCanvas&&fe!==0&&this.setRotation(fe,j),j}const{width:se,height:le}=y(w.rect),ue=h.Util.normalizeRect([w.rect[0],C.view[3]-w.rect[1]+C.view[1],w.rect[2],C.view[3]-w.rect[3]+C.view[1]]);if(!d&&w.borderStyle.width>0){j.style.borderWidth=`${w.borderStyle.width}px`;const fe=w.borderStyle.horizontalCornerRadius,Se=w.borderStyle.verticalCornerRadius;if(fe>0||Se>0){const Re=`calc(${fe}px * var(--scale-factor)) / calc(${Se}px * var(--scale-factor))`;j.style.borderRadius=Re}else if(this instanceof b){const Re=`calc(${se}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;j.style.borderRadius=Re}switch(w.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:j.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:j.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:j.style.borderBottomStyle="solid";break}const ke=w.borderColor||null;ke?(this.#e=!0,j.style.borderColor=h.Util.makeHexColor(ke[0]|0,ke[1]|0,ke[2]|0)):j.style.borderWidth=0}j.style.left=`${100*(ue[0]-ie)/q}%`,j.style.top=`${100*(ue[1]-Ae)/K}%`;const{rotation:ce}=w;return w.hasOwnCanvas||ce===0?(j.style.width=`${100*se/q}%`,j.style.height=`${100*le/K}%`):this.setRotation(ce,j),j}setRotation(d,w=this.container){if(!this.data.rect)return;const{pageWidth:C,pageHeight:L}=this.parent.viewport.rawDims,{width:j,height:q}=y(this.data.rect);let K,ie;d%180===0?(K=100*j/C,ie=100*q/L):(K=100*q/C,ie=100*j/L),w.style.width=`${K}%`,w.style.height=`${ie}%`,w.setAttribute("data-main-rotation",(360-d)%360)}get _commonActions(){const d=(w,C,L)=>{const j=L.detail[w],q=j[0],K=j.slice(1);L.target.style[C]=D.ColorConverters[`${q}_HTML`](K),this.annotationStorage.setValue(this.data.id,{[C]:D.ColorConverters[`${q}_rgb`](K)})};return(0,h.shadow)(this,"_commonActions",{display:w=>{const{display:C}=w.detail,L=C%2===1;this.container.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:L,noPrint:C===1||C===2})},print:w=>{this.annotationStorage.setValue(this.data.id,{noPrint:!w.detail.print})},hidden:w=>{const{hidden:C}=w.detail;this.container.style.visibility=C?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:C,noView:C})},focus:w=>{setTimeout(()=>w.target.focus({preventScroll:!1}),0)},userName:w=>{w.target.title=w.detail.userName},readonly:w=>{w.target.disabled=w.detail.readonly},required:w=>{this._setRequired(w.target,w.detail.required)},bgColor:w=>{d("bgColor","backgroundColor",w)},fillColor:w=>{d("fillColor","backgroundColor",w)},fgColor:w=>{d("fgColor","color",w)},textColor:w=>{d("textColor","color",w)},borderColor:w=>{d("borderColor","borderColor",w)},strokeColor:w=>{d("strokeColor","borderColor",w)},rotation:w=>{const C=w.detail.rotation;this.setRotation(C),this.annotationStorage.setValue(this.data.id,{rotation:C})}})}_dispatchEventFromSandbox(d,w){const C=this._commonActions;for(const L of Object.keys(w.detail))(d[L]||C[L])?.(w)}_setDefaultPropertiesFromJS(d){if(!this.enableScripting)return;const w=this.annotationStorage.getRawValue(this.data.id);if(!w)return;const C=this._commonActions;for(const[L,j]of Object.entries(w)){const q=C[L];if(q){const K={detail:{[L]:j},target:d};q(K),delete w[L]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:d}=this.data;if(!d)return;const[w,C,L,j]=this.data.rect;if(d.length===1){const[,{x:Se,y:ke},{x:Re,y:De}]=d[0];if(L===Se&&j===ke&&w===Re&&C===De)return}const{style:q}=this.container;let K;if(this.#e){const{borderColor:Se,borderWidth:ke}=q;q.borderWidth=0,K=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Se}" stroke-width="${ke}">`],this.container.classList.add("hasBorder")}const ie=L-w,Ae=j-C,{svgFactory:se}=this,le=se.createElement("svg");le.classList.add("quadrilateralsContainer"),le.setAttribute("width",0),le.setAttribute("height",0);const ue=se.createElement("defs");le.append(ue);const ce=se.createElement("clipPath"),fe=`clippath_${this.data.id}`;ce.setAttribute("id",fe),ce.setAttribute("clipPathUnits","objectBoundingBox"),ue.append(ce);for(const[,{x:Se,y:ke},{x:Re,y:De}]of d){const Ie=se.createElement("rect"),Ue=(Re-w)/ie,dt=(j-ke)/Ae,et=(Se-Re)/ie,Ot=(ke-De)/Ae;Ie.setAttribute("x",Ue),Ie.setAttribute("y",dt),Ie.setAttribute("width",et),Ie.setAttribute("height",Ot),ce.append(Ie),K?.push(`<rect vector-effect="non-scaling-stroke" x="${Ue}" y="${dt}" width="${et}" height="${Ot}"/>`)}this.#e&&(K.push("</g></svg>')"),q.backgroundImage=K.join("")),this.container.append(le),this.container.style.clipPath=`url(#${fe})`}_createPopup(){const{container:d,data:w}=this;d.setAttribute("aria-haspopup","dialog");const C=new X({data:{color:w.color,titleObj:w.titleObj,modificationDate:w.modificationDate,contentsObj:w.contentsObj,richText:w.richText,parentRect:w.rect,borderStyle:0,id:`popup_${w.id}`,rotation:w.rotation},parent:this.parent,elements:[this]});this.parent.div.append(C.render())}render(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(d,w=null){const C=[];if(this._fieldObjects){const L=this._fieldObjects[d];if(L)for(const{page:j,id:q,exportValues:K}of L){if(j===-1||q===w)continue;const ie=typeof K=="string"?K:null,Ae=document.querySelector(`[data-element-id="${q}"]`);if(Ae&&!a.has(Ae)){(0,h.warn)(`_getElementsByName - element not allowed: ${q}`);continue}C.push({id:q,exportValue:ie,domElement:Ae})}return C}for(const L of document.getElementsByName(d)){const{exportValue:j}=L,q=L.getAttribute("data-element-id");q!==w&&a.has(L)&&C.push({id:q,exportValue:j,domElement:L})}return C}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const d=this.getElementsToTriggerPopup();if(Array.isArray(d))for(const w of d)w.classList.add("highlightArea");else d.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:d,data:{id:w}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:d,editId:w})})}}class _ extends o{constructor(d,w=null){super(d,{isRenderable:!0,ignoreBorder:!!w?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=d.data.isTooltipOnly}render(){const{data:d,linkService:w}=this,C=document.createElement("a");C.setAttribute("data-element-id",d.id);let L=!1;return d.url?(w.addLinkAttributes(C,d.url,d.newWindow),L=!0):d.action?(this._bindNamedAction(C,d.action),L=!0):d.attachment?(this._bindAttachment(C,d.attachment),L=!0):d.setOCGState?(this.#t(C,d.setOCGState),L=!0):d.dest?(this._bindLink(C,d.dest),L=!0):(d.actions&&(d.actions.Action||d.actions["Mouse Up"]||d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(C,d),L=!0),d.resetForm?(this._bindResetFormAction(C,d.resetForm),L=!0):this.isTooltipOnly&&!L&&(this._bindLink(C,""),L=!0)),this.container.classList.add("linkAnnotation"),L&&this.container.append(C),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(d,w){d.href=this.linkService.getDestinationHash(w),d.onclick=()=>(w&&this.linkService.goToDestination(w),!1),(w||w==="")&&this.#e()}_bindNamedAction(d,w){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeNamedAction(w),!1),this.#e()}_bindAttachment(d,w){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,w.content,w.filename),!1),this.#e()}#t(d,w){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeSetOCGState(w),!1),this.#e()}_bindJSAction(d,w){d.href=this.linkService.getAnchorUrl("");const C=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const L of Object.keys(w.actions)){const j=C.get(L);j&&(d[j]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w.id,name:L}}),!1))}d.onclick||(d.onclick=()=>!1),this.#e()}_bindResetFormAction(d,w){const C=d.onclick;if(C||(d.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,h.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),C||(d.onclick=()=>!1);return}d.onclick=()=>{C?.();const{fields:L,refs:j,include:q}=w,K=[];if(L.length!==0||j.length!==0){const se=new Set(j);for(const le of L){const ue=this._fieldObjects[le]||[];for(const{id:ce}of ue)se.add(ce)}for(const le of Object.values(this._fieldObjects))for(const ue of le)se.has(ue.id)===q&&K.push(ue)}else for(const se of Object.values(this._fieldObjects))K.push(...se);const ie=this.annotationStorage,Ae=[];for(const se of K){const{id:le}=se;switch(Ae.push(le),se.type){case"text":{const ce=se.defaultValue||"";ie.setValue(le,{value:ce});break}case"checkbox":case"radiobutton":{const ce=se.defaultValue===se.exportValues;ie.setValue(le,{value:ce});break}case"combobox":case"listbox":{const ce=se.defaultValue||"";ie.setValue(le,{value:ce});break}default:continue}const ue=document.querySelector(`[data-element-id="${le}"]`);if(ue){if(!a.has(ue)){(0,h.warn)(`_bindResetFormAction - element not allowed: ${le}`);continue}}else continue;ue.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ae,name:"ResetForm"}}),!1}}}class x extends o{constructor(d){super(d,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const d=document.createElement("img");return d.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",d.alt="[{{type}} Annotation]",d.dataset.l10nId="text_annotation_type",d.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(d),this.container}}class p extends o{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(d){this.data.hasOwnCanvas&&(d.previousSibling?.nodeName==="CANVAS"&&(d.previousSibling.hidden=!0),d.hidden=!1)}_getKeyModifier(d){const{isWin:w,isMac:C}=h.FeatureTest.platform;return w&&d.ctrlKey||C&&d.metaKey}_setEventListener(d,w,C,L,j){C.includes("mouse")?d.addEventListener(C,q=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:j(q),shift:q.shiftKey,modifier:this._getKeyModifier(q)}})}):d.addEventListener(C,q=>{if(C==="blur"){if(!w.focused||!q.relatedTarget)return;w.focused=!1}else if(C==="focus"){if(w.focused)return;w.focused=!0}j&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:j(q)}})})}_setEventListeners(d,w,C,L){for(const[j,q]of C)(q==="Action"||this.data.actions?.[q])&&((q==="Focus"||q==="Blur")&&(w||={focused:!1}),this._setEventListener(d,w,j,q,L),q==="Focus"&&!this.data.actions?.Blur?this._setEventListener(d,w,"blur","Blur",null):q==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(d,w,"focus","Focus",null))}_setBackgroundColor(d){const w=this.data.backgroundColor||null;d.style.backgroundColor=w===null?"transparent":h.Util.makeHexColor(w[0],w[1],w[2])}_setTextStyle(d){const w=["left","center","right"],{fontColor:C}=this.data.defaultAppearanceData,L=this.data.defaultAppearanceData.fontSize||i,j=d.style;let q;const K=2,ie=Ae=>Math.round(10*Ae)/10;if(this.data.multiLine){const Ae=Math.abs(this.data.rect[3]-this.data.rect[1]-K),se=Math.round(Ae/(h.LINE_FACTOR*L))||1,le=Ae/se;q=Math.min(L,ie(le/h.LINE_FACTOR))}else{const Ae=Math.abs(this.data.rect[3]-this.data.rect[1]-K);q=Math.min(L,ie(Ae/h.LINE_FACTOR))}j.fontSize=`calc(${q}px * var(--scale-factor))`,j.color=h.Util.makeHexColor(C[0],C[1],C[2]),this.data.textAlignment!==null&&(j.textAlign=w[this.data.textAlignment])}_setRequired(d,w){w?d.setAttribute("required",!0):d.removeAttribute("required"),d.setAttribute("aria-required",w)}}class T extends p{constructor(d){const w=d.renderForms||!d.data.hasAppearance&&!!d.data.fieldValue;super(d,{isRenderable:w})}setPropertyOnSiblings(d,w,C,L){const j=this.annotationStorage;for(const q of this._getElementsByName(d.name,d.id))q.domElement&&(q.domElement[w]=C),j.setValue(q.id,{[L]:C})}render(){const d=this.annotationStorage,w=this.data.id;this.container.classList.add("textWidgetAnnotation");let C=null;if(this.renderForms){const L=d.getValue(w,{value:this.data.fieldValue});let j=L.value||"";const q=d.getValue(w,{charLimit:this.data.maxLen}).charLimit;q&&j.length>q&&(j=j.slice(0,q));let K=L.formattedValue||this.data.textContent?.join(`
`)||null;K&&this.data.comb&&(K=K.replaceAll(/\s+/g,""));const ie={userValue:j,formattedValue:K,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(C=document.createElement("textarea"),C.textContent=K??j,this.data.doNotScroll&&(C.style.overflowY="hidden")):(C=document.createElement("input"),C.type="text",C.setAttribute("value",K??j),this.data.doNotScroll&&(C.style.overflowX="hidden")),this.data.hasOwnCanvas&&(C.hidden=!0),a.add(C),C.setAttribute("data-element-id",w),C.disabled=this.data.readOnly,C.name=this.data.fieldName,C.tabIndex=u,this._setRequired(C,this.data.required),q&&(C.maxLength=q),C.addEventListener("input",se=>{d.setValue(w,{value:se.target.value}),this.setPropertyOnSiblings(C,"value",se.target.value,"value"),ie.formattedValue=null}),C.addEventListener("resetform",se=>{const le=this.data.defaultFieldValue??"";C.value=ie.userValue=le,ie.formattedValue=null});let Ae=se=>{const{formattedValue:le}=ie;le!=null&&(se.target.value=le),se.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){C.addEventListener("focus",le=>{if(ie.focused)return;const{target:ue}=le;ie.userValue&&(ue.value=ie.userValue),ie.lastCommittedValue=ue.value,ie.commitKey=1,ie.focused=!0}),C.addEventListener("updatefromsandbox",le=>{this.showElementAndHideCanvas(le.target);const ue={value(ce){ie.userValue=ce.detail.value??"",d.setValue(w,{value:ie.userValue.toString()}),ce.target.value=ie.userValue},formattedValue(ce){const{formattedValue:fe}=ce.detail;ie.formattedValue=fe,fe!=null&&ce.target!==document.activeElement&&(ce.target.value=fe),d.setValue(w,{formattedValue:fe})},selRange(ce){ce.target.setSelectionRange(...ce.detail.selRange)},charLimit:ce=>{const{charLimit:fe}=ce.detail,{target:Se}=ce;if(fe===0){Se.removeAttribute("maxLength");return}Se.setAttribute("maxLength",fe);let ke=ie.userValue;!ke||ke.length<=fe||(ke=ke.slice(0,fe),Se.value=ie.userValue=ke,d.setValue(w,{value:ke}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ke,willCommit:!0,commitKey:1,selStart:Se.selectionStart,selEnd:Se.selectionEnd}}))}};this._dispatchEventFromSandbox(ue,le)}),C.addEventListener("keydown",le=>{ie.commitKey=1;let ue=-1;if(le.key==="Escape"?ue=0:le.key==="Enter"&&!this.data.multiLine?ue=2:le.key==="Tab"&&(ie.commitKey=3),ue===-1)return;const{value:ce}=le.target;ie.lastCommittedValue!==ce&&(ie.lastCommittedValue=ce,ie.userValue=ce,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ce,willCommit:!0,commitKey:ue,selStart:le.target.selectionStart,selEnd:le.target.selectionEnd}}))});const se=Ae;Ae=null,C.addEventListener("blur",le=>{if(!ie.focused||!le.relatedTarget)return;ie.focused=!1;const{value:ue}=le.target;ie.userValue=ue,ie.lastCommittedValue!==ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ue,willCommit:!0,commitKey:ie.commitKey,selStart:le.target.selectionStart,selEnd:le.target.selectionEnd}}),se(le)}),this.data.actions?.Keystroke&&C.addEventListener("beforeinput",le=>{ie.lastCommittedValue=null;const{data:ue,target:ce}=le,{value:fe,selectionStart:Se,selectionEnd:ke}=ce;let Re=Se,De=ke;switch(le.inputType){case"deleteWordBackward":{const Ie=fe.substring(0,Se).match(/\w*[^\w]*$/);Ie&&(Re-=Ie[0].length);break}case"deleteWordForward":{const Ie=fe.substring(Se).match(/^[^\w]*\w*/);Ie&&(De+=Ie[0].length);break}case"deleteContentBackward":Se===ke&&(Re-=1);break;case"deleteContentForward":Se===ke&&(De+=1);break}le.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:fe,change:ue||"",willCommit:!1,selStart:Re,selEnd:De}})}),this._setEventListeners(C,ie,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],le=>le.target.value)}if(Ae&&C.addEventListener("blur",Ae),this.data.comb){const le=(this.data.rect[2]-this.data.rect[0])/q;C.classList.add("comb"),C.style.letterSpacing=`calc(${le}px * var(--scale-factor) - 1ch)`}}else C=document.createElement("div"),C.textContent=this.data.fieldValue,C.style.verticalAlign="middle",C.style.display="table-cell";return this._setTextStyle(C),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.append(C),this.container}}class U extends p{constructor(d){super(d,{isRenderable:!!d.data.hasOwnCanvas})}}class O extends p{constructor(d){super(d,{isRenderable:d.renderForms})}render(){const d=this.annotationStorage,w=this.data,C=w.id;let L=d.getValue(C,{value:w.exportValue===w.fieldValue}).value;typeof L=="string"&&(L=L!=="Off",d.setValue(C,{value:L})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const j=document.createElement("input");return a.add(j),j.setAttribute("data-element-id",C),j.disabled=w.readOnly,this._setRequired(j,this.data.required),j.type="checkbox",j.name=w.fieldName,L&&j.setAttribute("checked",!0),j.setAttribute("exportValue",w.exportValue),j.tabIndex=u,j.addEventListener("change",q=>{const{name:K,checked:ie}=q.target;for(const Ae of this._getElementsByName(K,C)){const se=ie&&Ae.exportValue===w.exportValue;Ae.domElement&&(Ae.domElement.checked=se),d.setValue(Ae.id,{value:se})}d.setValue(C,{value:ie})}),j.addEventListener("resetform",q=>{const K=w.defaultFieldValue||"Off";q.target.checked=K===w.exportValue}),this.enableScripting&&this.hasJSActions&&(j.addEventListener("updatefromsandbox",q=>{const K={value(ie){ie.target.checked=ie.detail.value!=="Off",d.setValue(C,{value:ie.target.checked})}};this._dispatchEventFromSandbox(K,q)}),this._setEventListeners(j,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)),this._setBackgroundColor(j),this._setDefaultPropertiesFromJS(j),this.container.append(j),this.container}}class b extends p{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const d=this.annotationStorage,w=this.data,C=w.id;let L=d.getValue(C,{value:w.fieldValue===w.buttonValue}).value;typeof L=="string"&&(L=L!==w.buttonValue,d.setValue(C,{value:L}));const j=document.createElement("input");if(a.add(j),j.setAttribute("data-element-id",C),j.disabled=w.readOnly,this._setRequired(j,this.data.required),j.type="radio",j.name=w.fieldName,L&&j.setAttribute("checked",!0),j.tabIndex=u,j.addEventListener("change",q=>{const{name:K,checked:ie}=q.target;for(const Ae of this._getElementsByName(K,C))d.setValue(Ae.id,{value:!1});d.setValue(C,{value:ie})}),j.addEventListener("resetform",q=>{const K=w.defaultFieldValue;q.target.checked=K!=null&&K===w.buttonValue}),this.enableScripting&&this.hasJSActions){const q=w.buttonValue;j.addEventListener("updatefromsandbox",K=>{const ie={value:Ae=>{const se=q===Ae.detail.value;for(const le of this._getElementsByName(Ae.target.name)){const ue=se&&le.id===C;le.domElement&&(le.domElement.checked=ue),d.setValue(le.id,{value:ue})}}};this._dispatchEventFromSandbox(ie,K)}),this._setEventListeners(j,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.checked)}return this._setBackgroundColor(j),this._setDefaultPropertiesFromJS(j),this.container.append(j),this.container}}class R extends _{constructor(d){super(d,{ignoreBorder:d.data.hasAppearance})}render(){const d=super.render();d.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(d.title=this.data.alternativeText);const w=d.lastChild;return this.enableScripting&&this.hasJSActions&&w&&(this._setDefaultPropertiesFromJS(w),w.addEventListener("updatefromsandbox",C=>{this._dispatchEventFromSandbox({},C)})),d}}class G extends p{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const d=this.annotationStorage,w=this.data.id,C=d.getValue(w,{value:this.data.fieldValue}),L=document.createElement("select");a.add(L),L.setAttribute("data-element-id",w),L.disabled=this.data.readOnly,this._setRequired(L,this.data.required),L.name=this.data.fieldName,L.tabIndex=u;let j=this.data.combo&&this.data.options.length>0;this.data.combo||(L.size=this.data.options.length,this.data.multiSelect&&(L.multiple=!0)),L.addEventListener("resetform",se=>{const le=this.data.defaultFieldValue;for(const ue of L.options)ue.selected=ue.value===le});for(const se of this.data.options){const le=document.createElement("option");le.textContent=se.displayValue,le.value=se.exportValue,C.value.includes(se.exportValue)&&(le.setAttribute("selected",!0),j=!1),L.append(le)}let q=null;if(j){const se=document.createElement("option");se.value=" ",se.setAttribute("hidden",!0),se.setAttribute("selected",!0),L.prepend(se),q=()=>{se.remove(),L.removeEventListener("input",q),q=null},L.addEventListener("input",q)}const K=se=>{const le=se?"value":"textContent",{options:ue,multiple:ce}=L;return ce?Array.prototype.filter.call(ue,fe=>fe.selected).map(fe=>fe[le]):ue.selectedIndex===-1?null:ue[ue.selectedIndex][le]};let ie=K(!1);const Ae=se=>{const le=se.target.options;return Array.prototype.map.call(le,ue=>({displayValue:ue.textContent,exportValue:ue.value}))};return this.enableScripting&&this.hasJSActions?(L.addEventListener("updatefromsandbox",se=>{const le={value(ue){q?.();const ce=ue.detail.value,fe=new Set(Array.isArray(ce)?ce:[ce]);for(const Se of L.options)Se.selected=fe.has(Se.value);d.setValue(w,{value:K(!0)}),ie=K(!1)},multipleSelection(ue){L.multiple=!0},remove(ue){const ce=L.options,fe=ue.detail.remove;ce[fe].selected=!1,L.remove(fe),ce.length>0&&Array.prototype.findIndex.call(ce,ke=>ke.selected)===-1&&(ce[0].selected=!0),d.setValue(w,{value:K(!0),items:Ae(ue)}),ie=K(!1)},clear(ue){for(;L.length!==0;)L.remove(0);d.setValue(w,{value:null,items:[]}),ie=K(!1)},insert(ue){const{index:ce,displayValue:fe,exportValue:Se}=ue.detail.insert,ke=L.children[ce],Re=document.createElement("option");Re.textContent=fe,Re.value=Se,ke?ke.before(Re):L.append(Re),d.setValue(w,{value:K(!0),items:Ae(ue)}),ie=K(!1)},items(ue){const{items:ce}=ue.detail;for(;L.length!==0;)L.remove(0);for(const fe of ce){const{displayValue:Se,exportValue:ke}=fe,Re=document.createElement("option");Re.textContent=Se,Re.value=ke,L.append(Re)}L.options.length>0&&(L.options[0].selected=!0),d.setValue(w,{value:K(!0),items:Ae(ue)}),ie=K(!1)},indices(ue){const ce=new Set(ue.detail.indices);for(const fe of ue.target.options)fe.selected=ce.has(fe.index);d.setValue(w,{value:K(!0)}),ie=K(!1)},editable(ue){ue.target.disabled=!ue.detail.editable}};this._dispatchEventFromSandbox(le,se)}),L.addEventListener("input",se=>{const le=K(!0);d.setValue(w,{value:le}),se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ie,changeEx:le,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(L,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],se=>se.target.value)):L.addEventListener("input",function(se){d.setValue(w,{value:K(!0)})}),this.data.combo&&this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.append(L),this.container}}class X extends o{constructor(d){const{data:w,elements:C}=d;super(d,{isRenderable:o._hasPopupData(w)}),this.elements=C}render(){this.container.classList.add("popupAnnotation");const d=new V({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),w=[];for(const C of this.elements)C.popup=d,w.push(C.data.id),C.addHighlightArea();return this.container.setAttribute("aria-controls",w.map(C=>`${h.AnnotationPrefix}${C}`).join(",")),this.container}}class V{#e=null;#t=this.#c.bind(this);#n=this.#S.bind(this);#r=this.#E.bind(this);#o=this.#y.bind(this);#a=null;#s=null;#l=null;#u=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#g=null;#m=!1;constructor({container:d,color:w,elements:C,titleObj:L,modificationDate:j,contentsObj:q,richText:K,parent:ie,rect:Ae,parentRect:se,open:le}){this.#s=d,this.#g=L,this.#l=q,this.#v=K,this.#i=ie,this.#a=w,this.#p=Ae,this.#f=se,this.#u=C;const ue=A.PDFDateString.toDateObject(j);ue&&(this.#e=ie.l10n.get("annotation_date_string",{date:ue.toLocaleDateString(),time:ue.toLocaleTimeString()})),this.trigger=C.flatMap(ce=>ce.getElementsToTriggerPopup());for(const ce of this.trigger)ce.addEventListener("click",this.#o),ce.addEventListener("mouseenter",this.#r),ce.addEventListener("mouseleave",this.#n),ce.classList.add("popupTriggerArea");for(const ce of C)ce.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,le&&this.#y()}render(){if(this.#h)return;const{page:{view:d},viewport:{rawDims:{pageWidth:w,pageHeight:C,pageX:L,pageY:j}}}=this.#i,q=this.#h=document.createElement("div");if(q.className="popup",this.#a){const Ie=q.style.outlineColor=h.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?q.style.backgroundColor=`color-mix(in srgb, ${Ie} 30%, white)`:q.style.backgroundColor=h.Util.makeHexColor(...this.#a.map(dt=>Math.floor(.7*(255-dt)+dt)))}const K=document.createElement("span");K.className="header";const ie=document.createElement("h1");if(K.append(ie),{dir:ie.dir,str:ie.textContent}=this.#g,q.append(K),this.#e){const Ie=document.createElement("span");Ie.classList.add("popupDate"),this.#e.then(Ue=>{Ie.textContent=Ue}),K.append(Ie)}const Ae=this.#l,se=this.#v;if(se?.str&&(!Ae?.str||Ae.str===se.str))W.XfaLayer.render({xfaHtml:se.html,intent:"richText",div:q}),q.lastChild.classList.add("richText","popupContent");else{const Ie=this._formatContents(Ae);q.append(Ie)}let le=!!this.#f,ue=le?this.#f:this.#p;for(const Ie of this.#u)if(!ue||h.Util.intersect(Ie.data.rect,ue)!==null){ue=Ie.data.rect,le=!0;break}const ce=h.Util.normalizeRect([ue[0],d[3]-ue[1]+d[1],ue[2],d[3]-ue[3]+d[1]]),Se=le?ue[2]-ue[0]+5:0,ke=ce[0]+Se,Re=ce[1],{style:De}=this.#s;De.left=`${100*(ke-L)/w}%`,De.top=`${100*(Re-j)/C}%`,this.#s.append(q)}_formatContents({str:d,dir:w}){const C=document.createElement("p");C.classList.add("popupContent"),C.dir=w;const L=d.split(/(?:\r\n?|\n)/);for(let j=0,q=L.length;j<q;++j){const K=L[j];C.append(document.createTextNode(K)),j<q-1&&C.append(document.createElement("br"))}return C}#c(d){d.altKey||d.shiftKey||d.ctrlKey||d.metaKey||(d.key==="Enter"||d.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#E(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#t)):(this.#S(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#t))}#E(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#S(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#s.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class J extends o{constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0}),this.textContent=d.data.textContent,this.textPosition=d.data.textPosition,this.annotationEditorType=h.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const d=document.createElement("div");d.classList.add("annotationTextContent"),d.setAttribute("role","comment");for(const w of this.textContent){const C=document.createElement("span");C.textContent=w,d.append(C)}this.container.append(d)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}l.FreeTextAnnotationElement=J;class te extends o{#e=null;constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const d=this.data,{width:w,height:C}=y(d.rect),L=this.svgFactory.create(w,C,!0),j=this.#e=this.svgFactory.createElement("svg:line");return j.setAttribute("x1",d.rect[2]-d.lineCoordinates[0]),j.setAttribute("y1",d.rect[3]-d.lineCoordinates[1]),j.setAttribute("x2",d.rect[2]-d.lineCoordinates[2]),j.setAttribute("y2",d.rect[3]-d.lineCoordinates[3]),j.setAttribute("stroke-width",d.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),L.append(j),this.container.append(L),!d.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ve extends o{#e=null;constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const d=this.data,{width:w,height:C}=y(d.rect),L=this.svgFactory.create(w,C,!0),j=d.borderStyle.width,q=this.#e=this.svgFactory.createElement("svg:rect");return q.setAttribute("x",j/2),q.setAttribute("y",j/2),q.setAttribute("width",w-j),q.setAttribute("height",C-j),q.setAttribute("stroke-width",j||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),L.append(q),this.container.append(L),!d.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class de extends o{#e=null;constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const d=this.data,{width:w,height:C}=y(d.rect),L=this.svgFactory.create(w,C,!0),j=d.borderStyle.width,q=this.#e=this.svgFactory.createElement("svg:ellipse");return q.setAttribute("cx",w/2),q.setAttribute("cy",C/2),q.setAttribute("rx",w/2-j/2),q.setAttribute("ry",C/2-j/2),q.setAttribute("stroke-width",j||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),L.append(q),this.container.append(L),!d.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class he extends o{#e=null;constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const d=this.data,{width:w,height:C}=y(d.rect),L=this.svgFactory.create(w,C,!0);let j=[];for(const K of d.vertices){const ie=K.x-d.rect[0],Ae=d.rect[3]-K.y;j.push(ie+","+Ae)}j=j.join(" ");const q=this.#e=this.svgFactory.createElement(this.svgElementName);return q.setAttribute("points",j),q.setAttribute("stroke-width",d.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),L.append(q),this.container.append(L),!d.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class _e extends he{constructor(d){super(d),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oe extends o{constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class B extends o{#e=[];constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=h.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const d=this.data,{width:w,height:C}=y(d.rect),L=this.svgFactory.create(w,C,!0);for(const j of d.inkLists){let q=[];for(const ie of j){const Ae=ie.x-d.rect[0],se=d.rect[3]-ie.y;q.push(`${Ae},${se}`)}q=q.join(" ");const K=this.svgFactory.createElement(this.svgElementName);this.#e.push(K),K.setAttribute("points",q),K.setAttribute("stroke-width",d.borderStyle.width||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),!d.popupRef&&this.hasPopupData&&this._createPopup(),L.append(K)}return this.container.append(L),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}l.InkAnnotationElement=B;class E extends o{constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class v extends o{constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class g extends o{constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class m extends o{constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class P extends o{constructor(d){super(d,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}l.StampAnnotationElement=P;class I extends o{#e=null;constructor(d){super(d,{isRenderable:!0});const{filename:w,content:C}=this.data.file;this.filename=(0,A.getFilenameFromUrl)(w,!0),this.content=C,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:w,content:C})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:d,data:w}=this;let C;w.hasAppearance||w.fillAlpha===0?C=document.createElement("div"):(C=document.createElement("img"),C.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(w.name)?"paperclip":"pushpin"}.svg`,w.fillAlpha&&w.fillAlpha<1&&(C.style=`filter: opacity(${Math.round(w.fillAlpha*100)}%);`)),C.addEventListener("dblclick",this.#t.bind(this)),this.#e=C;const{isMac:L}=h.FeatureTest.platform;return d.addEventListener("keydown",j=>{j.key==="Enter"&&(L?j.metaKey:j.ctrlKey)&&this.#t()}),!w.popupRef&&this.hasPopupData?this._createPopup():C.classList.add("popupTriggerArea"),d.append(C),d}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class z{#e=null;#t=null;#n=new Map;constructor({div:d,accessibilityManager:w,annotationCanvasMap:C,l10n:L,page:j,viewport:q}){this.div=d,this.#e=w,this.#t=C,this.l10n=L,this.page=j,this.viewport=q,this.zIndex=0,this.l10n||=H.NullL10n}#r(d,w){const C=d.firstChild||d;C.id=`${h.AnnotationPrefix}${w}`,this.div.append(d),this.#e?.moveElementInDOM(this.div,d,C,!1)}async render(d){const{annotations:w}=d,C=this.div;(0,A.setLayerDimensions)(C,this.viewport);const L=new Map,j={data:null,layer:C,linkService:d.linkService,downloadManager:d.downloadManager,imageResourcesPath:d.imageResourcesPath||"",renderForms:d.renderForms!==!1,svgFactory:new A.DOMSVGFactory,annotationStorage:d.annotationStorage||new N.AnnotationStorage,enableScripting:d.enableScripting===!0,hasJSActions:d.hasJSActions,fieldObjects:d.fieldObjects,parent:this,elements:null};for(const q of w){if(q.noHTML)continue;const K=q.annotationType===h.AnnotationType.POPUP;if(K){const se=L.get(q.id);if(!se)continue;j.elements=se}else{const{width:se,height:le}=y(q.rect);if(se<=0||le<=0)continue}j.data=q;const ie=f.create(j);if(!ie.isRenderable)continue;if(!K&&q.popupRef){const se=L.get(q.popupRef);se?se.push(ie):L.set(q.popupRef,[ie])}ie.annotationEditorType>0&&this.#n.set(ie.data.id,ie);const Ae=ie.render();q.hidden&&(Ae.style.visibility="hidden"),this.#r(Ae,q.id)}this.#o(),await this.l10n.translate(C)}update({viewport:d}){const w=this.div;this.viewport=d,(0,A.setLayerDimensions)(w,{rotation:d.rotation}),this.#o(),w.hidden=!1}#o(){if(!this.#t)return;const d=this.div;for(const[w,C]of this.#t){const L=d.querySelector(`[data-annotation-id="${w}"]`);if(!L)continue;const{firstChild:j}=L;j?j.nodeName==="CANVAS"?j.replaceWith(C):j.before(C):L.append(C)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(d){return this.#n.get(d)}}l.AnnotationLayer=z}),((M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorConverters=void 0;function S(N){return Math.floor(Math.max(0,Math.min(1,N))*255).toString(16).padStart(2,"0")}function h(N){return Math.max(0,Math.min(255,255*N))}class A{static CMYK_G([D,H,W,u]){return["G",1-Math.min(1,.3*D+.59*W+.11*H+u)]}static G_CMYK([D]){return["CMYK",0,0,0,1-D]}static G_RGB([D]){return["RGB",D,D,D]}static G_rgb([D]){return D=h(D),[D,D,D]}static G_HTML([D]){const H=S(D);return`#${H}${H}${H}`}static RGB_G([D,H,W]){return["G",.3*D+.59*H+.11*W]}static RGB_rgb(D){return D.map(h)}static RGB_HTML(D){return`#${D.map(S).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([D,H,W,u]){return["RGB",1-Math.min(1,D+u),1-Math.min(1,W+u),1-Math.min(1,H+u)]}static CMYK_rgb([D,H,W,u]){return[h(1-Math.min(1,D+u)),h(1-Math.min(1,W+u)),h(1-Math.min(1,H+u))]}static CMYK_HTML(D){const H=this.CMYK_RGB(D).slice(1);return this.RGB_HTML(H)}static RGB_CMYK([D,H,W]){const u=1-D,i=1-H,a=1-W,y=Math.min(u,i,a);return["CMYK",u,i,a,y]}}l.ColorConverters=A}),((M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NullL10n=void 0,l.getL10nFallback=h;const S={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};S.print_progress_percent="{{progress}}%";function h(D,H){switch(D){case"find_match_count":D=`find_match_count[${H.total===1?"one":"other"}]`;break;case"find_match_count_limit":D=`find_match_count_limit[${H.limit===1?"one":"other"}]`;break}return S[D]||""}function A(D,H){return H?D.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(W,u)=>u in H?H[u]:"{{"+u+"}}"):D}const N={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(D,H=null,W=h(D,H)){return A(W,H)},async translate(D){}};l.NullL10n=N}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XfaLayer=void 0;var h=S(25);class A{static setupStorage(D,H,W,u,i){const a=u.getValue(H,{value:null});switch(W.name){case"textarea":if(a.value!==null&&(D.textContent=a.value),i==="print")break;D.addEventListener("input",y=>{u.setValue(H,{value:y.target.value})});break;case"input":if(W.attributes.type==="radio"||W.attributes.type==="checkbox"){if(a.value===W.attributes.xfaOn?D.setAttribute("checked",!0):a.value===W.attributes.xfaOff&&D.removeAttribute("checked"),i==="print")break;D.addEventListener("change",y=>{u.setValue(H,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&D.setAttribute("value",a.value),i==="print")break;D.addEventListener("input",y=>{u.setValue(H,{value:y.target.value})})}break;case"select":if(a.value!==null){D.setAttribute("value",a.value);for(const y of W.children)y.attributes.value===a.value?y.attributes.selected=!0:y.attributes.hasOwnProperty("selected")&&delete y.attributes.selected}D.addEventListener("input",y=>{const f=y.target.options,o=f.selectedIndex===-1?"":f[f.selectedIndex].value;u.setValue(H,{value:o})});break}}static setAttributes({html:D,element:H,storage:W=null,intent:u,linkService:i}){const{attributes:a}=H,y=D instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${u}`);for(const[f,o]of Object.entries(a))if(o!=null)switch(f){case"class":o.length&&D.setAttribute(f,o.join(" "));break;case"dataId":break;case"id":D.setAttribute("data-element-id",o);break;case"style":Object.assign(D.style,o);break;case"textContent":D.textContent=o;break;default:(!y||f!=="href"&&f!=="newWindow")&&D.setAttribute(f,o)}y&&i.addLinkAttributes(D,a.href,a.newWindow),W&&a.dataId&&this.setupStorage(D,a.dataId,H,W)}static render(D){const H=D.annotationStorage,W=D.linkService,u=D.xfaHtml,i=D.intent||"display",a=document.createElement(u.name);u.attributes&&this.setAttributes({html:a,element:u,intent:i,linkService:W});const y=[[u,-1,a]],f=D.div;if(f.append(a),D.viewport){const _=`matrix(${D.viewport.transform.join(",")})`;f.style.transform=_}i!=="richText"&&f.setAttribute("class","xfaLayer xfaFont");const o=[];for(;y.length>0;){const[_,x,p]=y.at(-1);if(x+1===_.children.length){y.pop();continue}const T=_.children[++y.at(-1)[1]];if(T===null)continue;const{name:U}=T;if(U==="#text"){const b=document.createTextNode(T.value);o.push(b),p.append(b);continue}const O=T?.attributes?.xmlns?document.createElementNS(T.attributes.xmlns,U):document.createElement(U);if(p.append(O),T.attributes&&this.setAttributes({html:O,element:T,storage:H,intent:i,linkService:W}),T.children&&T.children.length>0)y.push([T,-1,O]);else if(T.value){const b=document.createTextNode(T.value);h.XfaText.shouldBuildText(U)&&o.push(b),O.append(b)}}for(const _ of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:o}}static update(D){const H=`matrix(${D.viewport.transform.join(",")})`;D.div.style.transform=H,D.div.hidden=!1}}l.XfaLayer=A}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InkEditor=void 0;var h=S(1),A=S(4),N=S(29),D=S(6),H=S(5);class W extends A.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#u=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(i){super({...i,name:"inkEditor"}),this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i){A.AnnotationEditor.initialize(i,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(i,a){switch(i){case h.AnnotationEditorParamsType.INK_THICKNESS:W._defaultThickness=a;break;case h.AnnotationEditorParamsType.INK_COLOR:W._defaultColor=a;break;case h.AnnotationEditorParamsType.INK_OPACITY:W._defaultOpacity=a/100;break}}updateParams(i,a){switch(i){case h.AnnotationEditorParamsType.INK_THICKNESS:this.#v(a);break;case h.AnnotationEditorParamsType.INK_COLOR:this.#g(a);break;case h.AnnotationEditorParamsType.INK_OPACITY:this.#m(a);break}}static get defaultPropertiesToUpdate(){return[[h.AnnotationEditorParamsType.INK_THICKNESS,W._defaultThickness],[h.AnnotationEditorParamsType.INK_COLOR,W._defaultColor||A.AnnotationEditor._defaultLineColor],[h.AnnotationEditorParamsType.INK_OPACITY,Math.round(W._defaultOpacity*100)]]}get propertiesToUpdate(){return[[h.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||W._defaultThickness],[h.AnnotationEditorParamsType.INK_COLOR,this.color||W._defaultColor||A.AnnotationEditor._defaultLineColor],[h.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??W._defaultOpacity))]]}#v(i){const a=this.thickness;this.addCommands({cmd:()=>{this.thickness=i,this.#w()},undo:()=>{this.thickness=a,this.#w()},mustExec:!0,type:h.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(i){const a=this.color;this.addCommands({cmd:()=>{this.color=i,this.#_()},undo:()=>{this.color=a,this.#_()},mustExec:!0,type:h.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(i){i/=100;const a=this.opacity;this.addCommands({cmd:()=>{this.opacity=i,this.#_()},undo:()=>{this.opacity=a,this.#_()},mustExec:!0,type:h.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#T(),this.#R()),this.isAttachedToDOM||(this.parent.add(this),this.#x()),this.#w()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,a]=this.parentDimensions,y=this.width*i,f=this.height*a;this.setDimensions(y,f)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#c(){const{parentRotation:i,parentDimensions:[a,y]}=this;switch(i){case 90:return[0,y,y,a];case 180:return[a,y,a,y];case 270:return[a,0,y,a];default:return[0,0,a,y]}}#y(){const{ctx:i,color:a,opacity:y,thickness:f,parentScale:o,scaleFactor:_}=this;i.lineWidth=f*o/_,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${a}${(0,H.opacityToHex)(y)}`}#E(i,a){this.canvas.addEventListener("contextmenu",D.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#i||(this.#i=!0,this.#x(),this.thickness||=W._defaultThickness,this.color||=W._defaultColor||A.AnnotationEditor._defaultLineColor,this.opacity??=W._defaultOpacity),this.currentPath.push([i,a]),this.#u=!1,this.#y(),this.#p=()=>{this.#L(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#S(i,a){const[y,f]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===y&&a===f)return;const o=this.currentPath;let _=this.#s;if(o.push([i,a]),this.#u=!0,o.length<=2){_.moveTo(...o[0]),_.lineTo(i,a);return}o.length===3&&(this.#s=_=new Path2D,_.moveTo(...o[0])),this.#I(_,...o.at(-3),...o.at(-2),i,a)}#k(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);this.#s.lineTo(...i)}#P(i,a){this.#p=null,i=Math.min(Math.max(i,0),this.canvas.width),a=Math.min(Math.max(a,0),this.canvas.height),this.#S(i,a),this.#k();let y;if(this.currentPath.length!==1)y=this.#O();else{const p=[i,a];y=[[p,p.slice(),p.slice(),p]]}const f=this.#s,o=this.currentPath;this.currentPath=[],this.#s=new Path2D;const _=()=>{this.allRawPaths.push(o),this.paths.push(y),this.bezierPath2D.push(f),this.rebuild()},x=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#T(),this.#R()),this.#w())};this.addCommands({cmd:_,undo:x,mustExec:!0})}#L(){if(!this.#u)return;this.#u=!1;const i=Math.ceil(this.thickness*this.parentScale),a=this.currentPath.slice(-3),y=a.map(_=>_[0]),f=a.map(_=>_[1]);Math.min(...y)-i,Math.max(...y)+i,Math.min(...f)-i,Math.max(...f)+i;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const _ of this.bezierPath2D)o.stroke(_);o.stroke(this.#s),o.restore()}#I(i,a,y,f,o,_,x){const p=(a+f)/2,T=(y+o)/2,U=(f+_)/2,O=(o+x)/2;i.bezierCurveTo(p+2*(f-p)/3,T+2*(o-T)/3,U+2*(f-U)/3,O+2*(o-O)/3,U,O)}#O(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const a=[];let y,[f,o]=i[0];for(y=1;y<i.length-2;y++){const[b,R]=i[y],[G,X]=i[y+1],V=(b+G)/2,J=(R+X)/2,te=[f+2*(b-f)/3,o+2*(R-o)/3],ve=[V+2*(b-V)/3,J+2*(R-J)/3];a.push([[f,o],te,ve,[V,J]]),[f,o]=[V,J]}const[_,x]=i[y],[p,T]=i[y+1],U=[f+2*(_-f)/3,o+2*(x-o)/3],O=[p+2*(_-p)/3,T+2*(x-T)/3];return a.push([[f,o],U,O,[p,T]]),a}#_(){if(this.isEmpty()){this.#b();return}this.#y();const{canvas:i,ctx:a}=this;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,i.width,i.height),this.#b();for(const y of this.bezierPath2D)a.stroke(y)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#w(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),i.preventDefault(),i.type!=="mouse"&&this.div.focus(),this.#E(i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),this.#S(i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),this.#D(i)}canvasPointerleave(i){this.#D(i)}#D(i){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",D.noContextMenu)},10),this.#P(i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#T(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",A.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(i=>this.canvas?.setAttribute("aria-label",i)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#R(){this.#f=new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&this.setDimensions(a.width,a.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),A.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(x=>this.div?.setAttribute("aria-label",x));const[y,f,o,_]=this.#c();if(this.setAt(y,f,0,0),this.setDims(o,_),this.#T(),this.width){const[x,p]=this.parentDimensions;this.setAspectRatio(this.width*x,this.height*p),this.setAt(i*x,a*p,this.width*x,this.height*p),this.#i=!0,this.#x(),this.setDims(this.width*x,this.height*p),this.#_(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#R(),this.div}#x(){if(!this.#i)return;const[i,a]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*a),this.#b()}setDimensions(i,a){const y=Math.round(i),f=Math.round(a);if(this.#d===y&&this.#h===f)return;this.#d=y,this.#h=f,this.canvas.style.visibility="hidden";const[o,_]=this.parentDimensions;this.width=i/o,this.height=a/_,this.fixAndSetPosition(),this.#l&&this.#C(i,a),this.#x(),this.#_(),this.canvas.style.visibility="visible",this.fixDims()}#C(i,a){const y=this.#F(),f=(i-y)/this.#t,o=(a-y)/this.#e;this.scaleFactor=Math.min(f,o)}#b(){const i=this.#F()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)}static#N(i){const a=new Path2D;for(let y=0,f=i.length;y<f;y++){const[o,_,x,p]=i[y];y===0&&a.moveTo(...o),a.bezierCurveTo(_[0],_[1],x[0],x[1],p[0],p[1])}return a}static#j(i,a,y){const[f,o,_,x]=a;switch(y){case 0:for(let p=0,T=i.length;p<T;p+=2)i[p]+=f,i[p+1]=x-i[p+1];break;case 90:for(let p=0,T=i.length;p<T;p+=2){const U=i[p];i[p]=i[p+1]+f,i[p+1]=U+o}break;case 180:for(let p=0,T=i.length;p<T;p+=2)i[p]=_-i[p],i[p+1]+=o;break;case 270:for(let p=0,T=i.length;p<T;p+=2){const U=i[p];i[p]=_-i[p+1],i[p+1]=x-U}break;default:throw new Error("Invalid rotation")}return i}static#U(i,a,y){const[f,o,_,x]=a;switch(y){case 0:for(let p=0,T=i.length;p<T;p+=2)i[p]-=f,i[p+1]=x-i[p+1];break;case 90:for(let p=0,T=i.length;p<T;p+=2){const U=i[p];i[p]=i[p+1]-o,i[p+1]=U-f}break;case 180:for(let p=0,T=i.length;p<T;p+=2)i[p]=_-i[p],i[p+1]-=o;break;case 270:for(let p=0,T=i.length;p<T;p+=2){const U=i[p];i[p]=x-i[p+1],i[p+1]=_-U}break;default:throw new Error("Invalid rotation")}return i}#z(i,a,y,f){const o=[],_=this.thickness/2,x=i*a+_,p=i*y+_;for(const T of this.paths){const U=[],O=[];for(let b=0,R=T.length;b<R;b++){const[G,X,V,J]=T[b],te=i*G[0]+x,ve=i*G[1]+p,de=i*X[0]+x,he=i*X[1]+p,_e=i*V[0]+x,oe=i*V[1]+p,B=i*J[0]+x,E=i*J[1]+p;b===0&&(U.push(te,ve),O.push(te,ve)),U.push(de,he,_e,oe,B,E),O.push(de,he),b===R-1&&O.push(B,E)}o.push({bezier:W.#j(U,f,this.rotation),points:W.#j(O,f,this.rotation)})}return o}#M(){let i=1/0,a=-1/0,y=1/0,f=-1/0;for(const o of this.paths)for(const[_,x,p,T]of o){const U=h.Util.bezierBoundingBox(..._,...x,...p,...T);i=Math.min(i,U[0]),y=Math.min(y,U[1]),a=Math.max(a,U[2]),f=Math.max(f,U[3])}return[i,y,a,f]}#F(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#w(i=!1){if(this.isEmpty())return;if(!this.#l){this.#_();return}const a=this.#M(),y=this.#F();this.#t=Math.max(A.AnnotationEditor.MIN_SIZE,a[2]-a[0]),this.#e=Math.max(A.AnnotationEditor.MIN_SIZE,a[3]-a[1]);const f=Math.ceil(y+this.#t*this.scaleFactor),o=Math.ceil(y+this.#e*this.scaleFactor),[_,x]=this.parentDimensions;this.width=f/_,this.height=o/x,this.setAspectRatio(f,o);const p=this.translationX,T=this.translationY;this.translationX=-a[0],this.translationY=-a[1],this.#x(),this.#_(),this.#d=f,this.#h=o,this.setDims(f,o);const U=i?y/this.scaleFactor/2:0;this.translate(p-this.translationX-U,T-this.translationY-U)}static deserialize(i,a,y){if(i instanceof N.InkAnnotationElement)return null;const f=super.deserialize(i,a,y);f.thickness=i.thickness,f.color=h.Util.makeHexColor(...i.color),f.opacity=i.opacity;const[o,_]=f.pageDimensions,x=f.width*o,p=f.height*_,T=f.parentScale,U=i.thickness/2;f.#l=!0,f.#d=Math.round(x),f.#h=Math.round(p);const{paths:O,rect:b,rotation:R}=i;for(let{bezier:X}of O){X=W.#U(X,b,R);const V=[];f.paths.push(V);let J=T*(X[0]-U),te=T*(X[1]-U);for(let de=2,he=X.length;de<he;de+=6){const _e=T*(X[de]-U),oe=T*(X[de+1]-U),B=T*(X[de+2]-U),E=T*(X[de+3]-U),v=T*(X[de+4]-U),g=T*(X[de+5]-U);V.push([[J,te],[_e,oe],[B,E],[v,g]]),J=v,te=g}const ve=this.#N(V);f.bezierPath2D.push(ve)}const G=f.#M();return f.#t=Math.max(A.AnnotationEditor.MIN_SIZE,G[2]-G[0]),f.#e=Math.max(A.AnnotationEditor.MIN_SIZE,G[3]-G[1]),f.#C(x,p),f}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),a=A.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:h.AnnotationEditorType.INK,color:a,thickness:this.thickness,opacity:this.opacity,paths:this.#z(this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}l.InkEditor=W}),((M,l,S)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StampEditor=void 0;var h=S(1),A=S(4),N=S(6),D=S(29);class H extends A.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#o=null;#a=null;#s=null;#l=null;#u=!1;#i=!1;static _type="stamp";constructor(u){super({...u,name:"stampEditor"}),this.#r=u.bitmapUrl,this.#o=u.bitmapFile}static initialize(u){A.AnnotationEditor.initialize(u)}static get supportedTypes(){const u=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,h.shadow)(this,"supportedTypes",u.map(i=>`image/${i}`))}static get supportedTypesStr(){return(0,h.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(u){return this.supportedTypes.includes(u)}static paste(u,i){i.pasteEditor(h.AnnotationEditorType.STAMP,{bitmapFile:u.getAsFile()})}#f(u,i=!1){if(!u){this.remove();return}this.#e=u.bitmap,i||(this.#t=u.id,this.#u=u.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#f(i,!0)).finally(()=>this.#d());return}if(this.#r){const i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(a=>this.#f(a)).finally(()=>this.#d());return}if(this.#o){const i=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(a=>this.#f(a)).finally(()=>this.#d());return}const u=document.createElement("input");u.type="file",u.accept=H.supportedTypesStr,this.#n=new Promise(i=>{u.addEventListener("change",async()=>{if(!u.files||u.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(u.files[0]);this.#f(a)}i()}),u.addEventListener("cancel",()=>{this.remove(),i()})}).finally(()=>this.#d()),u.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let u,i;if(this.width&&(u=this.x,i=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[a,y]=this.parentDimensions;this.setAt(u*a,i*y,this.width*a,this.height*y)}return this.div}#p(){const{div:u}=this;let{width:i,height:a}=this.#e;const[y,f]=this.pageDimensions,o=.75;if(this.width)i=this.width*y,a=this.height*f;else if(i>o*y||a>o*f){const T=Math.min(o*y/i,o*f/a);i*=T,a*=T}const[_,x]=this.parentDimensions;this.setDims(i*_/y,a*x/f),this._uiManager.enableWaiting(!1);const p=this.#a=document.createElement("canvas");u.append(p),u.hidden=!1,this.#m(i,a),this.#y(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(u,i){const[a,y]=this.parentDimensions;this.width=u/a,this.height=i/y,this.setDims(u,i),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const f=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(u,i)},f)}#g(u,i){const{width:a,height:y}=this.#e;let f=a,o=y,_=this.#e;for(;f>2*u||o>2*i;){const x=f,p=o;f>2*u&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const T=new OffscreenCanvas(f,o);T.getContext("2d").drawImage(_,0,0,x,p,0,0,f,o),_=T.transferToImageBitmap()}return _}#m(u,i){u=Math.ceil(u),i=Math.ceil(i);const a=this.#a;if(!a||a.width===u&&a.height===i)return;a.width=u,a.height=i;const y=this.#u?this.#e:this.#g(u,i),f=a.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(y,0,0,y.width,y.height,0,0,u,i)}#c(u){if(u){if(this.#u){const y=this._uiManager.imageManager.getSvgUrl(this.#t);if(y)return y}const i=document.createElement("canvas");return{width:i.width,height:i.height}=this.#e,i.getContext("2d").drawImage(this.#e,0,0),i.toDataURL()}if(this.#u){const[i,a]=this.pageDimensions,y=Math.round(this.width*i*N.PixelsPerInch.PDF_TO_CSS_UNITS),f=Math.round(this.height*a*N.PixelsPerInch.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(y,f);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,y,f),o.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#s=new ResizeObserver(u=>{const i=u[0].contentRect;i.width&&i.height&&this.#v(i.width,i.height)}),this.#s.observe(this.div)}static deserialize(u,i,a){if(u instanceof D.StampAnnotationElement)return null;const y=super.deserialize(u,i,a),{rect:f,bitmapUrl:o,bitmapId:_,isSvg:x,accessibilityData:p}=u;_&&a.imageManager.isValidId(_)?y.#t=_:y.#r=o,y.#u=x;const[T,U]=y.pageDimensions;return y.width=(f[2]-f[0])/T,y.height=(f[3]-f[1])/U,p&&(y.altTextData=p),y}serialize(u=!1,i=null){if(this.isEmpty())return null;const a={annotationType:h.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(u)return a.bitmapUrl=this.#c(!0),a.accessibilityData=this.altTextData,a;const{decorative:y,altText:f}=this.altTextData;if(!y&&f&&(a.accessibilityData={type:"Figure",alt:f}),i===null)return a;i.stamps||=new Map;const o=this.#u?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!i.stamps.has(this.#t))i.stamps.set(this.#t,{area:o,serialized:a}),a.bitmap=this.#c(!1);else if(this.#u){const _=i.stamps.get(this.#t);o>_.area&&(_.area=o,_.serialized.bitmap.close(),_.serialized.bitmap=this.#c(!1))}return a}}l.StampEditor=H})],__webpack_module_cache__={};function __w_pdfjs_require__(M){var l=__webpack_module_cache__[M];if(l!==void 0)return l.exports;var S=__webpack_module_cache__[M]={exports:{}};return __webpack_modules__[M](S,S.exports,__w_pdfjs_require__),S.exports}var __webpack_exports__={};return(()=>{var M=__webpack_exports__;Object.defineProperty(M,"__esModule",{value:!0}),Object.defineProperty(M,"AbortException",{enumerable:!0,get:function(){return l.AbortException}}),Object.defineProperty(M,"AnnotationEditorLayer",{enumerable:!0,get:function(){return N.AnnotationEditorLayer}}),Object.defineProperty(M,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return l.AnnotationEditorParamsType}}),Object.defineProperty(M,"AnnotationEditorType",{enumerable:!0,get:function(){return l.AnnotationEditorType}}),Object.defineProperty(M,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return D.AnnotationEditorUIManager}}),Object.defineProperty(M,"AnnotationLayer",{enumerable:!0,get:function(){return H.AnnotationLayer}}),Object.defineProperty(M,"AnnotationMode",{enumerable:!0,get:function(){return l.AnnotationMode}}),Object.defineProperty(M,"CMapCompressionType",{enumerable:!0,get:function(){return l.CMapCompressionType}}),Object.defineProperty(M,"DOMSVGFactory",{enumerable:!0,get:function(){return h.DOMSVGFactory}}),Object.defineProperty(M,"FeatureTest",{enumerable:!0,get:function(){return l.FeatureTest}}),Object.defineProperty(M,"GlobalWorkerOptions",{enumerable:!0,get:function(){return W.GlobalWorkerOptions}}),Object.defineProperty(M,"ImageKind",{enumerable:!0,get:function(){return l.ImageKind}}),Object.defineProperty(M,"InvalidPDFException",{enumerable:!0,get:function(){return l.InvalidPDFException}}),Object.defineProperty(M,"MissingPDFException",{enumerable:!0,get:function(){return l.MissingPDFException}}),Object.defineProperty(M,"OPS",{enumerable:!0,get:function(){return l.OPS}}),Object.defineProperty(M,"PDFDataRangeTransport",{enumerable:!0,get:function(){return S.PDFDataRangeTransport}}),Object.defineProperty(M,"PDFDateString",{enumerable:!0,get:function(){return h.PDFDateString}}),Object.defineProperty(M,"PDFWorker",{enumerable:!0,get:function(){return S.PDFWorker}}),Object.defineProperty(M,"PasswordResponses",{enumerable:!0,get:function(){return l.PasswordResponses}}),Object.defineProperty(M,"PermissionFlag",{enumerable:!0,get:function(){return l.PermissionFlag}}),Object.defineProperty(M,"PixelsPerInch",{enumerable:!0,get:function(){return h.PixelsPerInch}}),Object.defineProperty(M,"PromiseCapability",{enumerable:!0,get:function(){return l.PromiseCapability}}),Object.defineProperty(M,"RenderingCancelledException",{enumerable:!0,get:function(){return h.RenderingCancelledException}}),Object.defineProperty(M,"SVGGraphics",{enumerable:!0,get:function(){return S.SVGGraphics}}),Object.defineProperty(M,"UnexpectedResponseException",{enumerable:!0,get:function(){return l.UnexpectedResponseException}}),Object.defineProperty(M,"Util",{enumerable:!0,get:function(){return l.Util}}),Object.defineProperty(M,"VerbosityLevel",{enumerable:!0,get:function(){return l.VerbosityLevel}}),Object.defineProperty(M,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(M,"build",{enumerable:!0,get:function(){return S.build}}),Object.defineProperty(M,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return l.createValidAbsoluteUrl}}),Object.defineProperty(M,"getDocument",{enumerable:!0,get:function(){return S.getDocument}}),Object.defineProperty(M,"getFilenameFromUrl",{enumerable:!0,get:function(){return h.getFilenameFromUrl}}),Object.defineProperty(M,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return h.getPdfFilenameFromUrl}}),Object.defineProperty(M,"getXfaPageViewport",{enumerable:!0,get:function(){return h.getXfaPageViewport}}),Object.defineProperty(M,"isDataScheme",{enumerable:!0,get:function(){return h.isDataScheme}}),Object.defineProperty(M,"isPdfFile",{enumerable:!0,get:function(){return h.isPdfFile}}),Object.defineProperty(M,"loadScript",{enumerable:!0,get:function(){return h.loadScript}}),Object.defineProperty(M,"noContextMenu",{enumerable:!0,get:function(){return h.noContextMenu}}),Object.defineProperty(M,"normalizeUnicode",{enumerable:!0,get:function(){return l.normalizeUnicode}}),Object.defineProperty(M,"renderTextLayer",{enumerable:!0,get:function(){return A.renderTextLayer}}),Object.defineProperty(M,"setLayerDimensions",{enumerable:!0,get:function(){return h.setLayerDimensions}}),Object.defineProperty(M,"shadow",{enumerable:!0,get:function(){return l.shadow}}),Object.defineProperty(M,"updateTextLayer",{enumerable:!0,get:function(){return A.updateTextLayer}}),Object.defineProperty(M,"version",{enumerable:!0,get:function(){return S.version}});var l=__w_pdfjs_require__(1),S=__w_pdfjs_require__(2),h=__w_pdfjs_require__(6),A=__w_pdfjs_require__(26),N=__w_pdfjs_require__(27),D=__w_pdfjs_require__(5),H=__w_pdfjs_require__(29),W=__w_pdfjs_require__(14),u=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1)),pdf$1.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdfjs=pdf;var prefix="Invariant failed";function invariant(M,l){if(!M)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var M=function(){};return warning_1=M,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports),isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(M){return typeof M<"u"}function isProvided(M){return isDefined(M)&&M!==null}function isString(M){return typeof M=="string"}function isArrayBuffer(M){return M instanceof ArrayBuffer}function isBlob(M){return invariant(isBrowser),M instanceof Blob}function isDataURI(M){return isString(M)&&/^data:/.test(M)}function dataURItoByteString(M){invariant(isDataURI(M));const[l="",S=""]=M.split(",");return l.split(";").indexOf("base64")!==-1?atob(S):unescape(S)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(M){M&&M.cancel&&M.cancel()}function makePageCallback(M,l){return Object.defineProperty(M,"width",{get(){return this.view[2]*l},configurable:!0}),Object.defineProperty(M,"height",{get(){return this.view[3]*l},configurable:!0}),Object.defineProperty(M,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(M,"originalHeight",{get(){return this.view[3]},configurable:!0}),M}function isCancelException(M){return M.name==="RenderingCancelledException"}function loadFromFile(M){return new Promise((l,S)=>{const h=new FileReader;h.onload=()=>{if(!h.result)return S(new Error("Error while reading a file."));l(h.result)},h.onerror=A=>{if(!A.target)return S(new Error("Error while reading a file."));const{error:N}=A.target;if(!N)return S(new Error("Error while reading a file."));switch(N.code){case N.NOT_FOUND_ERR:return S(new Error("Error while reading a file: File not found."));case N.SECURITY_ERR:return S(new Error("Error while reading a file: Security error."));case N.ABORT_ERR:return S(new Error("Error while reading a file: Aborted."));default:return S(new Error("Error while reading a file."))}},h.readAsArrayBuffer(M)})}displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";function Dropdown({label:M,icon:l,items:S,setActivePage:h,currentPage:A}){const[N,D]=reactExports.useState(!1),H=reactExports.useRef(null);let W=reactExports.useRef(null);const u=()=>{clearTimeout(W.current),D(!0)},i=()=>{W.current=setTimeout(()=>{D(!1)},150)},a=f=>{h(f),D(!1)};reactExports.useEffect(()=>()=>clearTimeout(W.current),[]);const y=S.some(f=>A===f.page||A.startsWith(f.page.split("-")[0]+"-"));return jsxRuntimeExports.jsxs("li",{className:"relative dropdown",ref:H,onMouseEnter:u,onMouseLeave:i,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>D(f=>!f),className:`dropdown-toggle flex items-center py-2 transition-colors duration-300 relative group after:absolute after:bottom-[-2px] after:left-0 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-full ${y?"text-primary dark:text-primary-dark":"text-white hover:text-primary dark:hover:text-primary-dark"} focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary dark:focus-visible:ring-primary-dark rounded-sm`,"aria-haspopup":"true","aria-expanded":N,children:[l&&jsxRuntimeExports.jsx("i",{className:`${l} mr-2`,"aria-hidden":"true"}),M]}),jsxRuntimeExports.jsx("ul",{className:`dropdown-menu absolute left-0 mt-0 pt-2 w-48 bg-black/95 dark:bg-gray-900/95 backdrop-blur-md rounded-md shadow-lg py-2 z-50 transition-all duration-150 ease-out origin-top ${N?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2 pointer-events-none"}`,role:"menu",children:S.map(f=>{const o=A===f.page;return jsxRuntimeExports.jsx("li",{role:"none",children:jsxRuntimeExports.jsx("a",{href:`#${f.page}`,onClick:_=>{_.preventDefault(),a(f.page)},className:`block px-4 py-2 text-sm transition-colors duration-200 ${o?"text-primary dark:text-primary-dark bg-white/10 dark:bg-white/5 border-l-2 border-primary dark:border-primary-dark font-semibold":"text-gray-300 hover:bg-white/10 dark:hover:bg-white/5 hover:text-primary dark:hover:text-primary-dark"}`,role:"menuitem","aria-current":o?"page":void 0,children:f.label})},f.page)})})]})}function Header({setActivePage:M,currentPage:l,isMobileMenuOpen:S,toggleMobileMenu:h,navLinks:A}){const[N,D]=reactExports.useState(!1),[H,W]=reactExports.useState(!0),u=reactExports.useRef(0),i=1024,a=reactExports.useCallback(()=>{const f=window.scrollY,o=window.innerWidth<i;D(f>50),o?f>u.current&&f>80?W(!1):(f<u.current||f<10)&&W(!0):W(!0),u.current=f},[]);reactExports.useEffect(()=>(window.addEventListener("scroll",a,{passive:!0}),a(),()=>window.removeEventListener("scroll",a)),[a]);const y=f=>{M(f)};return Array.isArray(A)?jsxRuntimeExports.jsx("header",{className:`fixed top-0 left-0 w-full z-[999] transition-transform duration-300 ease-in-out ${H?"translate-y-0":"-translate-y-full"}`,children:jsxRuntimeExports.jsxs("nav",{className:`flex items-center justify-between px-4 lg:px-8 bg-black/85 dark:bg-gray-950/85 backdrop-blur-md transition-all duration-300 ease-in-out shadow-md ${N?"py-2":"py-4"}`,children:[jsxRuntimeExports.jsx("a",{href:"#home",onClick:f=>{f.preventDefault(),y("home")},className:"text-xl lg:text-2xl font-extrabold cursor-pointer bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark bg-clip-text text-transparent",children:"ZeroMaths"}),jsxRuntimeExports.jsx("ul",{className:"hidden lg:flex items-center space-x-5 xl:space-x-6 text-sm",children:A.map(f=>f.isDropdown?jsxRuntimeExports.jsx(Dropdown,{label:f.label,icon:f.icon,items:f.items,setActivePage:M,currentPage:l},f.label):jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:f.href,onClick:o=>{f.onClick?f.onClick(o):(o.preventDefault(),y(f.page))},className:`relative flex items-center py-1 px-1 transition-colors duration-300 rounded-md ${l===f.page?"text-primary dark:text-primary-dark font-semibold":"text-white hover:text-primary dark:hover:text-primary-dark hover:bg-white/10"} after:absolute after:bottom-[-2px] after:left-0 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-full`,"aria-current":l===f.page?"page":void 0,children:f.label})},f.page))}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden z-[1001]",children:[" ",jsxRuntimeExports.jsxs("button",{onClick:h,className:`burger p-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary dark:focus-visible:ring-primary-dark rounded ${S?"open":""}`,"aria-label":S?"Fermer le menu":"Ouvrir le menu","aria-expanded":S,"aria-controls":"mobile-menu",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-0.5 bg-white rounded transition-all duration-300 ease-in-out"}),jsxRuntimeExports.jsx("div",{className:"w-6 h-0.5 bg-white rounded my-1.5 transition-all duration-300 ease-in-out"}),jsxRuntimeExports.jsx("div",{className:"w-6 h-0.5 bg-white rounded transition-all duration-300 ease-in-out"})]})]})]})}):(console.error("Header: navLinks prop is not an array!"),null)}function Footer({setActivePage:M}){const l=reactExports.useMemo(()=>[{label:"Accueil",page:"home"},{label:"A propos",page:"about"},{label:"Cours",page:"cours"},{label:"Révisions Brevet",page:"revision-brevet"},{label:"Espace Élève",page:"espace-eleve"},{label:"Espace Parents",page:"espace-parents"},{label:"Blog & Astuces",page:"blog"},{label:"Notre pédagogie",page:"pedagogie"},{label:"Tarifs",page:"tarifs"},{label:"Mentions légales",page:"mentions-legales"}],[]),S=(A,N)=>{A.preventDefault(),M(N)},h="relative after:absolute after:bottom-[-2px] after:left-0 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-full";return jsxRuntimeExports.jsxs("footer",{className:"bg-black text-gray-400 py-12 px-4",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("a",{href:"#home",onClick:A=>S(A,"home"),className:`inline-block text-lg font-bold text-white transition-colors ${h} hover:text-primary-light dark:hover:text-primary-dark-light`,children:"Maths Collège"}),jsxRuntimeExports.jsx("p",{children:"La réussite en maths, accessible à tous les collégiens."}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx("a",{href:"#","aria-label":"Facebook",className:"w-8 h-8 rounded-full bg-gray-800 hover:bg-primary dark:hover:bg-primary-dark-dark text-white flex items-center justify-center transition-colors duration-300",children:jsxRuntimeExports.jsx("i",{className:"fab fa-facebook-f"})}),jsxRuntimeExports.jsx("a",{href:"#","aria-label":"Twitter X",className:"w-8 h-8 rounded-full bg-gray-800 hover:bg-primary dark:hover:bg-primary-dark-dark text-white flex items-center justify-center transition-colors duration-300 font-bold text-lg fa-x-custom"}),jsxRuntimeExports.jsx("a",{href:"#","aria-label":"Instagram",className:"w-8 h-8 rounded-full bg-gray-800 hover:bg-primary dark:hover:bg-primary-dark-dark text-white flex items-center justify-center transition-colors duration-300",children:jsxRuntimeExports.jsx("i",{className:"fab fa-instagram"})}),jsxRuntimeExports.jsx("a",{href:"#","aria-label":"Youtube",className:"w-8 h-8 rounded-full bg-gray-800 hover:bg-primary dark:hover:bg-primary-dark-dark text-white flex items-center justify-center transition-colors duration-300",children:jsxRuntimeExports.jsx("i",{className:"fab fa-youtube"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white border-b-2 border-primary dark:border-primary-dark pb-1 inline-block",children:"Navigation"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:l.slice(0,Math.ceil(l.length/2)).map(A=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:`#${A.page}`,onClick:N=>S(N,A.page),className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${h}`,children:A.label})},A.page))})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("ul",{className:"space-y-2 lg:pt-10",children:[" ",l.slice(Math.ceil(l.length/2)).map(A=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:`#${A.page}`,onClick:N=>S(N,A.page),className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${h}`,children:A.label})},A.page)),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#contact",onClick:A=>S(A,"contact"),className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${h}`,children:"Contact"})})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white border-b-2 border-primary dark:border-primary-dark pb-1 inline-block",children:"Contact"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-envelope mr-2 text-primary-light dark:text-primary-dark-light"})," ",jsxRuntimeExports.jsx("a",{href:"mailto:contact@zeromaths.fr",className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${h}`,children:"contact@zeromaths.fr"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-phone mr-2 text-primary-light dark:text-primary-dark-light"})," ",jsxRuntimeExports.jsx("a",{href:"tel:+33612345678",className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${h}`,children:"+33 6 12 34 56 78"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-map-marker-alt mr-2 text-primary-light dark:text-primary-dark-light"})," Nice, France"]})," "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-10 pt-6 border-t border-gray-800 text-center text-gray-500 text-xs",children:["© ",new Date().getFullYear()," Zeromaths.fr – Tous droits réservés."]})]})}function DarkModeToggle({isDarkMode:M,toggleDarkMode:l}){return jsxRuntimeExports.jsx("button",{onClick:l,className:"material-icons fixed top-20 left-4 z-50 text-white bg-black bg-opacity-50 p-2 rounded-full cursor-pointer shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white","aria-label":M?"Activer le mode clair":"Activer le mode sombre","aria-pressed":M,children:M?"light_mode":"dark_mode"})}function BackToTopButton(){const[M,l]=reactExports.useState(!1),S=reactExports.useCallback(()=>{l(window.scrollY>300)},[]),h=()=>{window.scrollTo({top:0,behavior:"smooth"})};return reactExports.useEffect(()=>(window.addEventListener("scroll",S,{passive:!0}),S(),()=>window.removeEventListener("scroll",S)),[S]),jsxRuntimeExports.jsx("button",{id:"backToTop",onClick:h,className:`fixed bottom-8 right-8 w-14 h-14 rounded-full bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark text-white text-2xl cursor-pointer border-none flex items-center justify-center shadow-lg transition-all duration-300 ease-in-out z-[999] ${M?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"} hover:translate-y-[-3px] hover:scale-105 hover:shadow-xl focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary dark:focus-visible:ring-primary-dark`,"aria-label":"Remonter en haut de la page",tabIndex:M?0:-1,children:jsxRuntimeExports.jsxs("span",{className:"material-icons text-3xl","aria-hidden":"true",children:[" ","keyboard_arrow_up"]})})}function GlassTitle({title:M,subtitle:l,accentChar:S="´",accentIndex:h=1}){const[A,N]=reactExports.useState(!1),[D,H]=reactExports.useState(!1);reactExports.useEffect(()=>{const i=setTimeout(()=>N(!0),500),a=setTimeout(()=>H(!0),3e3);return()=>{clearTimeout(i),clearTimeout(a)}},[]);const W=M.substring(0,h),u=M.substring(h);return jsxRuntimeExports.jsxs("div",{className:`relative my-16 mx-auto max-w-3xl bg-white/15 dark:bg-black/30 backdrop-blur-xl p-10 md:p-16 rounded-2xl text-center text-gray-800 dark:text-gray-200 shadow-lg border border-white/20 transition-all duration-1000 ease-out ${A?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-4 inline-block relative",children:jsxRuntimeExports.jsxs("span",{className:"bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark bg-clip-text text-transparent",children:[W,jsxRuntimeExports.jsx("span",{className:`absolute transition-all duration-300 ease-out inline-block text-primary dark:text-primary-dark text-3xl md:text-5xl ${D?"opacity-100 -translate-y-1":"opacity-0 -translate-y-3"}`,style:{left:`${h*1.6}ch`,top:"0.1em"},children:S}),u]})}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl font-light text-gray-600 dark:text-gray-400 m-0",children:l})]})}function HomeBanner({title:M,text:l}){return jsxRuntimeExports.jsxs("section",{className:"text-center my-16 mx-auto max-w-3xl px-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl mb-6 font-bold text-gray-800 dark:text-gray-100",children:M}),jsxRuntimeExports.jsx("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 leading-relaxed",children:l})]})}function CardsSection({items:M,renderCard:l}){return Array.isArray(M)?typeof l!="function"?(console.error("CardsSection: La prop 'renderCard' doit être une fonction.",l),jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:"Erreur: Fonction de rendu de carte manquante."})):jsxRuntimeExports.jsx("section",{className:"my-16 mx-auto max-w-6xl px-4",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:M.map((S,h)=>l(S,h))})}):(console.error("CardsSection: La prop 'items' doit être un tableau.",M),jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:"Erreur: Données invalides pour la section de cartes."}))}function Card({icon:M,title:l,description:S,linkText:h,onClick:A,delay:N=0}){const D=reactExports.useRef(null),[H,W]=reactExports.useState(!1);reactExports.useEffect(()=>{const o=new IntersectionObserver(([x])=>{x.isIntersecting&&(W(!0),o.unobserve(x.target))},{threshold:.1}),_=D.current;return _&&o.observe(_),()=>{_&&o.unobserve(_)}},[]);const u=`bg-[#ebebfa] dark:bg-gray-800/50 rounded-xl p-6 md:p-8 shadow-lg transition-all duration-500 ease-out border border-gray-200 dark:border-gray-700 hover:translate-y-[-5px] hover:shadow-xl relative overflow-hidden group ${A?"cursor-pointer":""} ${H?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,i=o=>{A&&(o.preventDefault(),A())},a=A&&!h?"button":"div",y=a==="button"?i:void 0,f=a==="div"&&h&&A?i:void 0;return jsxRuntimeExports.jsxs(a,{ref:D,className:u,style:{transitionDelay:`${N}s`},onClick:y,role:a==="button"?"button":void 0,tabIndex:A&&!h?0:void 0,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/0 via-primary/0 to-primary/10 dark:from-primary-dark/0 dark:via-primary-dark/0 dark:to-primary-dark/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark transition-all duration-300 group-hover:h-2"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[M&&jsxRuntimeExports.jsx("div",{className:"text-4xl mb-6 text-primary dark:text-primary-dark",children:jsxRuntimeExports.jsx("i",{className:M})}),jsxRuntimeExports.jsxs("h3",{className:"text-xl md:text-2xl font-bold mb-3 text-gray-800 dark:text-gray-100 relative pb-2",children:[l,jsxRuntimeExports.jsx("span",{className:"absolute bottom-0 left-0 w-12 h-0.5 bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-6",children:S}),h&&jsxRuntimeExports.jsxs("a",{href:A?"#":h.startsWith("http")?h:"#",onClick:f,className:"text-primary dark:text-primary-dark font-medium inline-block mt-4 group-hover:underline focus:outline-none focus-visible:ring-2 focus-visible:ring-primary dark:focus-visible:ring-primary-dark rounded px-1",role:A?"button":void 0,tabIndex:A?0:void 0,children:[h," ",jsxRuntimeExports.jsx("i",{className:"fas fa-arrow-right ml-1 text-xs transform transition-transform duration-300 group-hover:translate-x-1"})]})]})]})}function Button({children:M,onClick:l,variant:S="primary",size:h="md",type:A="button",disabled:N=!1,className:D="",...H}){const W="inline-flex items-center justify-center font-semibold border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105";let u="";switch(h){case"sm":u="px-3 py-1.5 text-xs";break;case"lg":u="px-6 py-3 text-base";break;case"md":default:u="px-4 py-2 text-sm";break}let i="";switch(S){case"secondary":i="bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 focus:ring-gray-400";break;case"danger":i="bg-red-600 text-white hover:bg-red-700 focus:ring-red-500";break;case"primary":default:i="text-white bg-gradient-to-r from-primary to-secondary hover:from-primary hover:to-secondary dark:from-primary-dark dark:to-secondary-dark dark:hover:from-primary-dark-dark dark:hover:to-secondary-dark-dark focus:ring-primary dark:focus:ring-primary-dark";break}return jsxRuntimeExports.jsx("button",{type:A,onClick:l,disabled:N,className:`${W} ${u} ${i} ${D}`,...H,children:M})}function ContactForm(){const M=reactExports.useRef(null),[l,S]=reactExports.useState(!1);reactExports.useEffect(()=>{const N=new IntersectionObserver(([H])=>{H.isIntersecting&&(S(!0),N.unobserve(H.target))},{threshold:.1}),D=M.current;return D&&N.observe(D),()=>{D&&N.unobserve(D)}},[]);const h=N=>{N.preventDefault(),alert("Formulaire envoyé (simulation) !"),N.target.reset()},A=`bg-gray-900/80 dark:bg-black/60 backdrop-blur-lg p-8 md:p-12 rounded-2xl text-white shadow-2xl border border-white/10 transition-all duration-700 ease-out perspective-[1000px] transform-style-preserve-3d hover:shadow-[0_25px_50px_-12px_rgba(99,102,241,0.4)] dark:hover:shadow-[0_25px_50px_-12px_rgba(251,146,60,0.4)] ${l?"opacity-100 translate-y-0 rotate-x-0":"opacity-0 translate-y-10 rotate-x-[-10deg]"}`;return jsxRuntimeExports.jsx("section",{id:"contact",className:"my-24 mx-auto max-w-xl px-4 perspective-[1000px]",children:jsxRuntimeExports.jsxs("div",{ref:M,className:A,children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-8 text-center bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark bg-clip-text text-transparent",children:"Contact"}),jsxRuntimeExports.jsxs("form",{onSubmit:h,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1 text-gray-300",children:"Nom complet :"}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Votre nom",required:!0,"aria-required":"true",className:"w-full p-3 rounded-lg bg-white/10 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark transition duration-300 placeholder-gray-400"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1 text-gray-300",children:"Adresse e-mail :"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",placeholder:"votre@email.com",required:!0,"aria-required":"true",className:"w-full p-3 rounded-lg bg-white/10 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark transition duration-300 placeholder-gray-400"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"level",className:"block text-sm font-medium mb-1 text-gray-300",children:"Niveau actuel :"}),jsxRuntimeExports.jsxs("select",{id:"level",name:"level",required:!0,"aria-required":"true",className:"w-full p-3 rounded-lg bg-white/10 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark transition duration-300 appearance-none",style:{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24" width="24" height="24"><path d="M7 10l5 5 5-5z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.5em 1.5em"},children:[jsxRuntimeExports.jsx("option",{value:"",className:"text-black",children:"Sélectionnez niveau"}),jsxRuntimeExports.jsx("option",{value:"6eme",className:"text-black",children:"6ème"}),jsxRuntimeExports.jsx("option",{value:"5eme",className:"text-black",children:"5ème"}),jsxRuntimeExports.jsx("option",{value:"4eme",className:"text-black",children:"4ème"}),jsxRuntimeExports.jsx("option",{value:"3eme",className:"text-black",children:"3ème"})]})]}),jsxRuntimeExports.jsxs(Button,{type:"submit",size:"lg",variant:"primary",className:"w-full uppercase tracking-wider",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-rocket mr-2"})," Envoyer"]})]})]})})}function HomePage({setActivePage:M}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GlassTitle,{title:"Zeromaths",subtitle:"La réussite en maths, accessible à tous"}),jsxRuntimeExports.jsx(HomeBanner,{title:"Bienvenue sur Zeromaths",text:"Plateforme innovante pour découvrir et maîtriser les mathématiques de manière ludique et efficace. Notre approche unique transforme l'apprentissage des maths en une expérience engageante et accessible à tous les niveaux du collège."}),jsxRuntimeExports.jsx(CardsSection,{items:[{id:"progressif",icon:"fas fa-chart-line",title:"Apprentissage Progressif",description:"Nos cours sont conçus pour vous faire progresser étape par étape...",linkText:"Découvrir les cours →",page:"cours"},{id:"ludique",icon:"fas fa-gamepad",title:"Approche Ludique",description:"Nous transformons les mathématiques en jeu...",linkText:"Jouer et apprendre →",page:"games-6eme"},{id:"communaute",icon:"fas fa-users",title:"Communauté Active",description:"Rejoignez une communauté dynamique...",linkText:"Nous contacter →",page:"contact"}],renderCard:(l,S)=>jsxRuntimeExports.jsx(Card,{icon:l.icon,title:l.title,description:l.description,linkText:l.linkText,onClick:()=>{if(l.page==="contact"){const h=document.getElementById("contact");h&&h.scrollIntoView({behavior:"smooth"})}else M(l.page)},delay:S*.15},l.id)}),jsxRuntimeExports.jsx(ContactForm,{})]})}function PlaceholderComponent({title:M="Page en Construction"}){return jsxRuntimeExports.jsxs("div",{className:"text-center p-10 min-h-[60vh] flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-800 dark:text-gray-100",children:M}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Contenu bientôt disponible !"}),jsxRuntimeExports.jsxs("div",{className:"text-6xl mt-8 text-gray-300 dark:text-gray-600 animate-pulse",children:[" ",jsxRuntimeExports.jsx("i",{className:"fas fa-tools"})]})]})}const chapters6eme=[{id:"chapitre1",title:"Nombres et calculs",icon:"fas fa-calculator",description:"Découvrez les nombres entiers, les fractions et les nombres décimaux. Apprenez les opérations de base.",link:"lesson-chapitre1",pdfPath:"/lessons/6eme/chapitre1.pdf"},{id:"chapitre2",title:"Géométrie",icon:"fas fa-ruler-combined",description:"Explorez les figures géométriques planes, les angles, les symétries et les constructions.",link:"lesson-chapitre2",pdfPath:null},{id:"chapitre3",title:"Grandeurs et mesures",icon:"fas fa-chart-line",description:"Maîtrisez les différentes unités de mesure, les conversions et les calculs d'aires et de périmètres.",link:"lesson-chapitre3",pdfPath:null},{id:"chapitre4",title:"Organisation et gestion de données",icon:"fas fa-table",description:"Apprenez à lire et interpréter des tableaux, des graphiques et découvrez la proportionnalité.",link:"lesson-chapitre4",pdfPath:null},{id:"chapitre5",title:"Algorithmique et programmation",icon:"fas fa-puzzle-piece",description:"Initiez-vous à la logique algorithmique et aux bases de la programmation visuelle ou textuelle.",link:"lesson-chapitre5",pdfPath:null}],testLessonContent=`
    <h2>Test de Rendu MathJax</h2>
    <p>
        Ceci est un paragraphe de texte normal. Nous allons tester le rendu des formules
        mathématiques en ligne comme $a^2 + b^2 = c^2$ (théorème de Pythagore)
        ou la célèbre formule d'Euler $e^{i\\pi} + 1 = 0$.
    </p>
    <p>
        Nous pouvons aussi avoir des formules affichées en bloc (display mode) :
    </p>
    <div class="formula-box">
        $$ \\int_0^\\infty e^{-x^2} dx = \\frac{\\sqrt{\\pi}}{2} $$
    </div>
    <p>
        Ceci est un autre paragraphe après la formule en bloc. Assurons-nous que
        le texte continue normalement et que les styles sont appliqués.
        Une autre formule inline : $\\sum_{n=1}^{\\infty} \\frac{1}{n^2} = \\frac{\\pi^2}{6}$.
    </p>
    <h3>Sous-section avec Maths</h3>
    <p>
        On peut mélanger texte et formules : L'aire d'un disque est $A = \\pi r^2$,
        et son périmètre est $P = 2 \\pi r$.
    </p>
    <div class="example-box">
        <p>Exemple : Si $r=5$, alors $A = 25\\pi$ et $P = 10\\pi$.</p>
    </div>
    <p>Test d'une formule plus complexe en display :</p>
    $$ f(x) = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(a)}{n!} (x-a)^n $$
    <p>Fin du test.</p>
`,exercises6eme=[{id:1,title:"Exercice 1 : Écriture et lecture",difficulty:1,content:"<p>Écrivez en chiffres : Trois millions deux cent mille cinquante-quatre.</p>",solution:"<p>Solution : 3 200 054</p>"},{id:2,title:"Exercice 2 : Comparaison",difficulty:2,content:"<p>Comparez : 2345 ... 2354</p>",solution:"<p>Solution : 2345 < 2354</p>"},{id:3,title:"Exercice 3 : Fractions égales",difficulty:2,content:"<p>Complétez : $\\frac{3}{4} = \\frac{?}{12}$</p>",solution:"<p>Solution : $\\frac{3 \\times 3}{4 \\times 3} = \\frac{9}{12}$</p>"},{id:4,title:"Exercice 4 : Simplification",difficulty:3,content:"<p>Simplifiez : $\\frac{15}{25}$</p>",solution:"<p>Solution : $\\frac{15 \\div 5}{25 \\div 5} = \\frac{3}{5}$</p>"},{id:5,title:"Exercice 5 : Priorités",difficulty:3,content:"<p>Calculez : $7 + 3 \\times 4$</p>",solution:"<p>Solution : $7 + 12 = 19$</p>"}],games6eme=[{id:"calcul-mental",title:"Calcul Mental Express",description:"Testez votre rapidité en calcul mental avec additions, soustractions et multiplications.",difficulty:1,imageUrl:"https://placehold.co/400x200/8b5cf6/ffffff?text=Calcul+Mental",available:!0},{id:"fractions",title:"Maître des Fractions",description:"Devenez un expert des fractions en jouant à ce jeu de comparaison et de simplification.",difficulty:2,imageUrl:"https://placehold.co/400x200/7c3aed/ffffff?text=Fractions",available:!1},{id:"geometrie",title:"Géométrie en Action",description:"Explorez le monde de la géométrie en identifiant des figures et calculant des périmètres/aires.",difficulty:3,imageUrl:"https://placehold.co/400x200/3b82f6/ffffff?text=Géométrie",available:!1},{id:"problemes",title:"Résolveur de Problèmes",description:"Mettez vos compétences en résolution de problèmes à l'épreuve avec des situations concrètes.",difficulty:2,imageUrl:"https://placehold.co/400x200/60a5fa/ffffff?text=Problèmes",available:!1}],LessonsPage=reactExports.lazy(()=>__vitePreload(()=>import("./LessonsPage-SrxeEC1x.js"),[],import.meta.url)),LessonDetailPage=reactExports.lazy(()=>__vitePreload(()=>import("./LessonDetailPage-DuhwFZZY.js"),__vite__mapDeps([0,1]),import.meta.url)),ExercisesPage=reactExports.lazy(()=>__vitePreload(()=>import("./ExercisesPage-Bd3IRH6s.js"),__vite__mapDeps([2,1]),import.meta.url)),GamesPage=reactExports.lazy(()=>__vitePreload(()=>import("./GamesPage-2hXoOTv7.js"),[],import.meta.url)),AutomatismesPage=reactExports.lazy(()=>__vitePreload(()=>import("./AutomatismesPage-qKMnHGA-.js"),[],import.meta.url));pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;function App(){const[M,l]=reactExports.useState(!1),[S,h]=reactExports.useState("home"),[A,N]=reactExports.useState(!1),[D,H]=reactExports.useState(null),W=reactExports.useCallback(()=>{l(x=>{const p=!x;return p?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","enabled")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","disabled")),p})},[]);reactExports.useEffect(()=>{const x=localStorage.getItem("darkMode"),p=window.matchMedia("(prefers-color-scheme: dark)").matches,T=x==="enabled"||!x&&p;l(T),T?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const u=()=>{N(x=>!x),A&&H(null)},i=x=>{H(p=>p===x?null:x)},a=reactExports.useCallback(x=>{const p=["home","cours","revision-brevet","espace-eleve","espace-parents","blog","pedagogie","tarifs","mentions-legales","contact","about","lessons-6eme","exercises-6eme","automatismes-6eme","games-6eme","lesson-chapitre1","lessons-5eme","exercises-5eme","automatismes-5eme","games-5eme","lessons-4eme","exercises-4eme","automatismes-4eme","games-4eme","lessons-3eme","exercises-3eme","automatismes-3eme","games-3eme"];N(!1),H(null),x==="contact"?(h("home"),setTimeout(()=>{const T=document.getElementById("contact");T&&T.scrollIntoView({behavior:"smooth"})},100)):p.includes(x)?(h(x),window.scrollTo(0,0)):(console.warn(`Page invalide demandée: ${x}. Redirection vers l'accueil.`),h("home"),window.scrollTo(0,0))},[]),y=reactExports.useMemo(()=>[{label:"Accueil",page:"home",href:"#home"},{label:"A propos",page:"about",href:"#about"},{label:"6ème",key:"6eme",icon:"fas fa-book",isDropdown:!0,items:[{label:"Leçons",page:"lessons-6eme"},{label:"Exercices",page:"exercises-6eme"},{label:"Automatismes",page:"automatismes-6eme"},{label:"Jeux",page:"games-6eme"}]},{label:"5ème",key:"5eme",icon:"fas fa-book",isDropdown:!0,items:[{label:"Leçons",page:"lessons-5eme"},{label:"Exercices",page:"exercises-5eme"},{label:"Automatismes",page:"automatismes-5eme"},{label:"Jeux",page:"games-5eme"}]},{label:"4ème",key:"4eme",icon:"fas fa-book",isDropdown:!0,items:[{label:"Leçons",page:"lessons-4eme"},{label:"Exercices",page:"exercises-4eme"},{label:"Automatismes",page:"automatismes-4eme"},{label:"Jeux",page:"games-4eme"}]},{label:"3ème",key:"3eme",icon:"fas fa-book",isDropdown:!0,items:[{label:"Leçons",page:"lessons-3eme"},{label:"Exercices",page:"exercises-3eme"},{label:"Automatismes",page:"automatismes-3eme"},{label:"Jeux",page:"games-3eme"}]},{label:"Contact",page:"contact",href:"#contact",isContact:!0,onClick:p=>{p&&p.preventDefault(),a("contact")}}],[a]),f=(x,p)=>{p.isContact&&p.onClick?p.onClick(x):(x.preventDefault(),a(p.page))},o=()=>{const x=S.split("-")[1],p=x==="brevet"?"Brevet":x?`${x}ème`:"6ème";let T=chapters6eme,U=exercises6eme,O=games6eme;switch(S){case"home":return jsxRuntimeExports.jsx(HomePage,{setActivePage:a});case"about":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"A Propos"});case"cours":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Cours par Niveaux"});case"revision-brevet":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Révisions Brevet"});case"espace-eleve":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Espace Élève"});case"espace-parents":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Espace Parents"});case"blog":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Blog & Astuces"});case"pedagogie":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Notre Pédagogie"});case"tarifs":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Tarifs"});case"mentions-legales":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Mentions Légales"});case"lessons-6eme":return jsxRuntimeExports.jsx(LessonsPage,{level:"6ème",chapters:T,setActivePage:a});case"lesson-chapitre1":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(LessonDetailPage,{title:"Test Rendu LaTeX",subtitle:"Chapitre Test avec MathJax",contentHtml:testLessonContent,pdfPath:"/lessons/6eme/chapitre1.pdf"})," "]});case"exercises-6eme":return jsxRuntimeExports.jsx(ExercisesPage,{level:"6ème",chapterTitle:"Nombres et calculs",exercises:U});case"games-6eme":return jsxRuntimeExports.jsx(GamesPage,{level:"6ème",games:O});case"automatismes-6eme":return jsxRuntimeExports.jsx(AutomatismesPage,{level:"6ème"});case"lessons-5eme":case"lessons-4eme":case"lessons-3eme":return jsxRuntimeExports.jsx(LessonsPage,{level:p,chapters:chapters6eme,setActivePage:a});case"exercises-5eme":case"exercises-4eme":case"exercises-3eme":return jsxRuntimeExports.jsx(ExercisesPage,{level:p,chapterTitle:`Chapitre X ${p}`,exercises:exercises6eme});case"games-5eme":case"games-4eme":case"games-3eme":return jsxRuntimeExports.jsx(GamesPage,{level:p,games:games6eme});case"automatismes-5eme":case"automatismes-4eme":case"automatismes-3eme":return jsxRuntimeExports.jsx(AutomatismesPage,{level:p});default:return console.warn(`Page inconnue dans renderPage: ${S}. Affichage de l'accueil.`),jsxRuntimeExports.jsx(HomePage,{setActivePage:a})}},_={loader:{load:["[tex]/html"]},tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],packages:{"[+]":["html"]}},startup:{typeset:!1}};return jsxRuntimeExports.jsx(MathJaxContext,{config:_,children:jsxRuntimeExports.jsxs("div",{className:"bg-[#edecf9] dark:bg-gradient-to-br dark:from-gray-900 dark:to-black min-h-screen transition-colors duration-300 text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsx(Header,{setActivePage:a,currentPage:S,isMobileMenuOpen:A,toggleMobileMenu:u,navLinks:y}),jsxRuntimeExports.jsx(DarkModeToggle,{isDarkMode:M,toggleDarkMode:W}),jsxRuntimeExports.jsxs("div",{id:"mobile-menu",className:`lg:hidden fixed inset-0 bg-black/75 dark:bg-gray-950/75 backdrop-blur-md z-[1000] transition-transform duration-500 ease-in-out ${A?"translate-x-0":"translate-x-full"}`,"aria-hidden":!A,children:[jsxRuntimeExports.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-white text-3xl p-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-white rounded","aria-label":"Fermer le menu",children:"×"}),jsxRuntimeExports.jsx("ul",{className:"flex flex-col items-center justify-center h-full space-y-2 text-lg overflow-y-auto pb-16 pt-16 px-4",children:y.map(x=>jsxRuntimeExports.jsx("li",{className:"w-full text-center",children:x.isDropdown?jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("button",{onClick:()=>i(x.key),className:`relative w-full flex items-center justify-center py-3 px-4 rounded-md transition-colors duration-300 font-semibold ${S.startsWith(x.key)?"text-primary-light dark:text-primary-dark-light":"text-white hover:text-primary-light dark:hover:text-primary-dark-light hover:bg-white/10"} after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-1/4`,"aria-expanded":D===x.key,children:x.label}),jsxRuntimeExports.jsx("ul",{className:`pl-4 overflow-hidden transition-max-height duration-300 ease-in-out ${D===x.key?"max-h-96":"max-h-0"}`,children:x.items.map(p=>jsxRuntimeExports.jsx("li",{className:"mt-1",children:jsxRuntimeExports.jsx("a",{href:`#${p.page}`,onClick:T=>{T.preventDefault(),a(p.page)},className:`block py-2 px-4 rounded-md text-base transition-colors duration-300 ${S===p.page?"text-primary-light dark:text-primary-dark-light font-semibold bg-white/5":"text-gray-300 hover:text-primary-light dark:hover:text-primary-dark-light hover:bg-white/5"}`,"aria-current":S===p.page?"page":void 0,children:p.label})},p.page))})]}):jsxRuntimeExports.jsx("a",{href:x.href,onClick:p=>f(p,x),className:`relative flex items-center justify-center py-3 px-4 rounded-md transition-colors duration-300 ${S===x.page?"text-primary-light dark:text-primary-dark-light font-semibold":"text-white hover:text-primary-light dark:hover:text-primary-dark-light hover:bg-white/10"} after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-1/4`,"aria-current":S===x.page?"page":void 0,children:x.label})},x.page||x.label))})]}),jsxRuntimeExports.jsx("main",{className:"pt-[70px] lg:pt-[80px] min-h-[calc(100vh-150px)]",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"text-center p-8",children:"Chargement..."}),children:o()})},S),jsxRuntimeExports.jsx(Footer,{setActivePage:a}),jsxRuntimeExports.jsx(BackToTopButton,{})]})})}const rootElement=document.getElementById("root"),root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{CardsSection as C,GlassTitle as G,HomeBanner as H,MathJaxBaseContext as M,React as R,Card as a,isDataURI as b,displayCORSWarning as c,dataURItoByteString as d,isArrayBuffer as e,isBrowser as f,isBlob as g,cancelRunningTask as h,invariant as i,jsxRuntimeExports as j,getDevicePixelRatio as k,loadFromFile as l,makePageCallback as m,isCancelException as n,isProvided as o,pdfjs as p,reactExports as r,warning as w};
