import{r as s,j as c,i as E,w as _,a as Re,d as we,b as Te,c as Ze,e as en,f as nn,l as tn,p as ue,g as Q,h as rn,m as Ee,k as Oe,n as ne}from"./index-BRknsaSj.js";import{G as on}from"./GlassTitle-DwHngYEe.js";import{M as sn}from"./MathJax-ByOL6cTz.js";var k=function(n,e,r){if(r||arguments.length===2)for(var t=0,o=e.length,i;t<o;t++)(i||!(t in e))&&(i||(i=Array.prototype.slice.call(e,0,t)),i[t]=e[t]);return n.concat(i||Array.prototype.slice.call(e))},an=["onCopy","onCut","onPaste"],cn=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],un=["onFocus","onBlur"],ln=["onInput","onInvalid","onReset","onSubmit"],dn=["onLoad","onError"],fn=["onKeyDown","onKeyPress","onKeyUp"],pn=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],gn=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],hn=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],mn=["onSelect"],yn=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],En=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],vn=["onScroll"],xn=["onWheel"],Sn=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Pn=["onTransitionEnd"],Rn=["onToggle"],wn=["onChange"],Tn=k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k(k([],an,!0),cn,!0),un,!0),ln,!0),dn,!0),fn,!0),pn,!0),gn,!0),hn,!0),mn,!0),yn,!0),En,!0),vn,!0),xn,!0),Sn,!0),Pn,!0),wn,!0),Rn,!0);function _e(n,e){var r={};return Tn.forEach(function(t){var o=n[t];o&&(e?r[t]=(function(i){return o(i,e(t))}):r[t]=o)}),r}function le(n){var e=!1,r=new Promise(function(t,o){n.then(function(i){return!e&&t(i)}).catch(function(i){return!e&&o(i)})});return{promise:r,cancel:function(){e=!0}}}function Ne(n){var e,r,t="";if(typeof n=="string"||typeof n=="number")t+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(r=Ne(n[e]))&&(t&&(t+=" "),t+=r)}else for(r in n)n[r]&&(t&&(t+=" "),t+=r);return t}function ve(){for(var n,e,r=0,t="",o=arguments.length;r<o;r++)(n=arguments[r])&&(e=Ne(n))&&(t&&(t+=" "),t+=e);return t}var Le=Object.prototype.hasOwnProperty;function be(n,e,r){for(r of n.keys())if(ie(r,e))return r}function ie(n,e){var r,t,o;if(n===e)return!0;if(n&&e&&(r=n.constructor)===e.constructor){if(r===Date)return n.getTime()===e.getTime();if(r===RegExp)return n.toString()===e.toString();if(r===Array){if((t=n.length)===e.length)for(;t--&&ie(n[t],e[t]););return t===-1}if(r===Set){if(n.size!==e.size)return!1;for(t of n)if(o=t,o&&typeof o=="object"&&(o=be(e,o),!o)||!e.has(o))return!1;return!0}if(r===Map){if(n.size!==e.size)return!1;for(t of n)if(o=t[0],o&&typeof o=="object"&&(o=be(e,o),!o)||!ie(t[1],e.get(o)))return!1;return!0}if(r===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(r===DataView){if((t=n.byteLength)===e.byteLength)for(;t--&&n.getInt8(t)===e.getInt8(t););return t===-1}if(ArrayBuffer.isView(n)){if((t=n.byteLength)===e.byteLength)for(;t--&&n[t]===e[t];);return t===-1}if(!r||typeof n=="object"){t=0;for(r in n)if(Le.call(n,r)&&++t&&!Le.call(e,r)||!(r in e)||!ie(n[r],e[r]))return!1;return Object.keys(e).length===t}}return n!==n&&e!==e}const Me=s.createContext(null);function ce({children:n,type:e}){return c.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const Ln="noopener noreferrer nofollow";class bn{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return E(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){E(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(r=>{E(this.pdfDocument),E(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(r):Array.isArray(e)?r(e):e.then(r)}).then(r=>{E(Array.isArray(r));const t=r[0];new Promise(o=>{E(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then(i=>{o(i)}).catch(()=>{E(!1)}):typeof t=="number"?o(t):E(!1)}).then(o=>{const i=o+1;E(this.pdfViewer),E(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:r,pageIndex:o,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const r=e-1;E(this.pdfViewer),E(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:r,pageNumber:e})}addLinkAttributes(e,r,t){e.href=r,e.rel=this.externalLinkRel||Ln,e.target=t?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Ce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Cn(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function te(){return s.useReducer(Cn,{value:void 0,error:void 0})}var jn=function(n,e,r,t){function o(i){return i instanceof r?i:new r(function(u){u(i)})}return new(r||(r=Promise))(function(i,u){function x(g){try{l(t.next(g))}catch(y){u(y)}}function a(g){try{l(t.throw(g))}catch(y){u(y)}}function l(g){g.done?i(g.value):o(g.value).then(x,a)}l((t=t.apply(n,e||[])).next())})},je=function(n,e){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(r[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(r[t[o]]=n[t[o]]);return r};const{PDFDataRangeTransport:kn}=ue,Dn=(n,e)=>{switch(e){case Ce.NEED_PASSWORD:{const r=prompt("Enter the password to open this PDF file.");n(r);break}case Ce.INCORRECT_PASSWORD:{const r=prompt("Invalid password. Please try again.");n(r);break}}};function ke(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const An=s.forwardRef(function(e,r){var{children:t,className:o,error:i="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:x,file:a,inputRef:l,imageResourcesPath:g,loading:y="Loading PDFâ€¦",noData:m="No PDF file specified.",onItemClick:p,onLoadError:P,onLoadProgress:d,onLoadSuccess:S,onPassword:C=Dn,onSourceError:D,onSourceSuccess:L,options:R,renderMode:h,rotate:j}=e,$=je(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,N]=te(),{value:M,error:f}=W,[V,b]=te(),{value:w,error:I}=V,A=s.useRef(new bn),O=s.useRef([]),H=s.useRef(void 0),U=s.useRef(void 0);a&&a!==H.current&&ke(a)&&(_(!ie(a,H.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),H.current=a),R&&R!==U.current&&(_(!ie(R,U.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),U.current=R);const X=s.useRef({scrollPageIntoView:v=>{const{dest:F,pageNumber:B,pageIndex:K=B-1}=v;if(p){p({dest:F,pageIndex:K,pageNumber:B});return}const q=O.current[K];if(q){q.scrollIntoView();return}_(!1,`An internal link leading to page ${B} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});s.useImperativeHandle(r,()=>({linkService:A,pages:O,viewer:X}),[]);function re(){L&&L()}function Y(){f&&(_(!1,f.toString()),D&&D(f))}function de(){N({type:"RESET"})}s.useEffect(de,[a,N]);const Z=s.useCallback(()=>jn(this,void 0,void 0,function*(){if(!a)return null;if(typeof a=="string")return Re(a)?{data:we(a)}:(Te(),{url:a});if(a instanceof kn)return{range:a};if(Ze(a))return{data:a};if(en&&nn(a))return{data:yield tn(a)};if(E(typeof a=="object"),E(ke(a)),"url"in a&&typeof a.url=="string"){if(Re(a.url)){const{url:v}=a,F=je(a,["url"]),B=we(v);return Object.assign({data:B},F)}Te()}return a}),[a]);s.useEffect(()=>{const v=le(Z());return v.promise.then(F=>{N({type:"RESOLVE",value:F})}).catch(F=>{N({type:"REJECT",error:F})}),()=>{Q(v)}},[Z,N]),s.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){Y();return}re()}},[M]);function fe(){w&&(S&&S(w),O.current=new Array(w.numPages),A.current.setDocument(w))}function oe(){I&&(_(!1,I.toString()),P&&P(I))}function me(){b({type:"RESET"})}s.useEffect(me,[b,M]);function Se(){if(!M)return;const v=Object.assign(Object.assign({},R),{isEvalSupported:!1}),F=Object.assign(Object.assign({},M),v),B=ue.getDocument(F);d&&(B.onProgress=d),C&&(B.onPassword=C);const K=B;return K.promise.then(q=>{b({type:"RESOLVE",value:q})}).catch(q=>{K.destroyed||b({type:"REJECT",error:q})}),()=>{K.destroy()}}s.useEffect(Se,[R,b,M]),s.useEffect(()=>{if(!(typeof w>"u")){if(w===!1){oe();return}fe()}},[w]);function ee(){A.current.setViewer(X.current),A.current.setExternalLinkRel(u),A.current.setExternalLinkTarget(x)}s.useEffect(ee,[u,x]);function T(v,F){O.current[v]=F}function pe(v){delete O.current[v]}const ge=s.useMemo(()=>({imageResourcesPath:g,linkService:A.current,onItemClick:p,pdf:w,registerPage:T,renderMode:h,rotate:j,unregisterPage:pe}),[g,p,w,h,j]),G=s.useMemo(()=>_e($,()=>w),[$,w]);function J(){return c.jsx(Me.Provider,{value:ge,children:t})}function z(){return a?w==null?c.jsx(ce,{type:"loading",children:typeof y=="function"?y():y}):w===!1?c.jsx(ce,{type:"error",children:typeof i=="function"?i():i}):J():c.jsx(ce,{type:"no-data",children:typeof m=="function"?m():m})}return c.jsx("div",Object.assign({className:ve("react-pdf__Document",o),ref:l,style:{"--scale-factor":"1"}},G,{children:z()}))});function Ge(){return s.useContext(Me)}function Ve(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=n.filter(Boolean);if(r.length<=1){var t=r[0];return t||null}return function(i){r.forEach(function(u){typeof u=="function"?u(i):u&&(u.current=i)})}}const Ie=s.createContext(null),Fe={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},On=/^H(\d+)$/;function _n(n){return n in Fe}function xe(n){return"children"in n}function $e(n){return xe(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Nn(n){const e={};if(xe(n)){const{role:r}=n,t=r.match(On);if(t)e.role="heading",e["aria-level"]=Number(t[1]);else if(_n(r)){const o=Fe[r];o&&(e.role=o)}}return e}function Be(n){const e={};if(xe(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),$e(n)){const[r]=n.children;if(r){const t=Be(r);return Object.assign(Object.assign({},e),t)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function Mn(n){return n?Object.assign(Object.assign({},Nn(n)),Be(n)):null}function We({className:n,node:e}){const r=s.useMemo(()=>Mn(e),[e]),t=s.useMemo(()=>!xe(e)||$e(e)?null:e.children.map((o,i)=>c.jsx(We,{node:o},i)),[e]);return c.jsx("span",Object.assign({className:n},r,{children:t}))}function he(){return s.useContext(Ie)}function Gn(){const n=he();E(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:r}=n,[t,o]=te(),{value:i,error:u}=t,{customTextRenderer:x,page:a}=n;function l(){i&&r&&r(i)}function g(){u&&(_(!1,u.toString()),e&&e(u))}function y(){o({type:"RESET"})}s.useEffect(y,[o,a]);function m(){if(x||!a)return;const p=le(a.getStructTree()),P=p;return p.promise.then(d=>{o({type:"RESOLVE",value:d})}).catch(d=>{o({type:"REJECT",error:d})}),()=>Q(P)}return s.useEffect(m,[x,a,o]),s.useEffect(()=>{if(i!==void 0){if(i===!1){g();return}l()}},[i]),i?c.jsx(We,{className:"react-pdf__Page__structTree structTree",node:i}):null}const De=ue.AnnotationMode;function Vn(n){const e=he();E(e);const r=Object.assign(Object.assign({},e),n),{_className:t,canvasBackground:o,devicePixelRatio:i=rn(),onRenderError:u,onRenderSuccess:x,page:a,renderForms:l,renderTextLayer:g,rotate:y,scale:m}=r,{canvasRef:p}=n;E(a);const P=s.useRef(null);function d(){a&&x&&x(Ee(a,m))}function S(h){Oe(h)||(_(!1,h.toString()),u&&u(h))}const C=s.useMemo(()=>a.getViewport({scale:m*i,rotation:y}),[i,a,y,m]),D=s.useMemo(()=>a.getViewport({scale:m,rotation:y}),[a,y,m]);function L(){if(!a)return;a.cleanup();const{current:h}=P;if(!h)return;h.width=C.width,h.height=C.height,h.style.width=`${Math.floor(D.width)}px`,h.style.height=`${Math.floor(D.height)}px`,h.style.visibility="hidden";const j={annotationMode:l?De.ENABLE_FORMS:De.ENABLE,canvasContext:h.getContext("2d",{alpha:!1}),viewport:C};o&&(j.background=o);const $=a.render(j),W=$;return $.promise.then(()=>{h.style.visibility="",d()}).catch(S),()=>Q(W)}s.useEffect(L,[o,P,i,a,l,C,D]);const R=s.useCallback(()=>{const{current:h}=P;h&&(h.width=0,h.height=0)},[P]);return s.useEffect(()=>R,[R]),c.jsx("canvas",{className:`${t}__canvas`,dir:"ltr",ref:Ve(p,P),style:{display:"block",userSelect:"none"},children:g?c.jsx(Gn,{}):null})}function In(){const n=he();E(n);const{_className:e,onRenderSuccess:r,onRenderError:t,page:o,rotate:i,scale:u}=n;E(o);const[x,a]=te(),{value:l,error:g}=x;function y(){o&&r&&r(Ee(o,u))}function m(){g&&(Oe(g)||(_(!1,g.toString()),t&&t(g)))}const p=s.useMemo(()=>o.getViewport({scale:u,rotation:i}),[o,i,u]);function P(){a({type:"RESET"})}s.useEffect(P,[o,a,p]);function d(){if(!o)return;const L=le(o.getOperatorList());return L.promise.then(R=>{new ue.SVGGraphics(o.commonObjs,o.objs).getSVG(R,p).then(j=>{if(!(j instanceof SVGElement))throw new Error("getSVG returned unexpected result.");a({type:"RESOLVE",value:j})}).catch(j=>{a({type:"REJECT",error:j})})}).catch(R=>{a({type:"REJECT",error:R})}),()=>Q(L)}s.useEffect(d,[o,a,p]),s.useEffect(()=>{if(l!==void 0){if(l===!1){m();return}y()}},[l]);function S(L){if(!L||!l)return;L.firstElementChild||L.appendChild(l);const{width:R,height:h}=p;l.setAttribute("width",`${R}`),l.setAttribute("height",`${h}`)}const{width:C,height:D}=p;return c.jsx("div",{className:`${e}__svg`,ref:L=>S(L),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:C,height:D,userSelect:"none"}})}function Fn(n){return"str"in n}function $n(){const n=he();E(n);const{customTextRenderer:e,onGetTextError:r,onGetTextSuccess:t,onRenderTextLayerError:o,onRenderTextLayerSuccess:i,page:u,pageIndex:x,pageNumber:a,rotate:l,scale:g}=n;E(u);const[y,m]=te(),{value:p,error:P}=y,d=s.useRef(null),S=s.useRef(void 0);_(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){p&&t&&t(p)}function D(){P&&(_(!1,P.toString()),r&&r(P))}function L(){m({type:"RESET"})}s.useEffect(L,[u,m]);function R(){if(!u)return;const f=le(u.getTextContent()),V=f;return f.promise.then(b=>{m({type:"RESOLVE",value:b})}).catch(b=>{m({type:"REJECT",error:b})}),()=>Q(V)}s.useEffect(R,[u,m]),s.useEffect(()=>{if(p!==void 0){if(p===!1){D();return}C()}},[p]);const h=s.useCallback(()=>{i&&i()},[i]),j=s.useCallback(f=>{_(!1,f.toString()),o&&o(f)},[o]);function $(){const f=S.current;f&&f.classList.add("active")}function W(){const f=S.current;f&&f.classList.remove("active")}const N=s.useMemo(()=>u.getViewport({scale:g,rotation:l}),[u,l,g]);function M(){if(!u||!p)return;const{current:f}=d;if(!f)return;f.innerHTML="";const V=u.streamTextContent({includeMarkedContent:!0}),b={container:f,textContentSource:V,viewport:N},w=ue.renderTextLayer(b),I=w;return w.promise.then(()=>{const A=document.createElement("div");A.className="endOfContent",f.append(A),S.current=A;const O=f.querySelectorAll('[role="presentation"]');if(e){let H=0;p.items.forEach((U,X)=>{if(!Fn(U))return;const re=O[H];if(!re)return;const Y=e(Object.assign({pageIndex:x,pageNumber:a,itemIndex:X},U));re.innerHTML=Y,H+=U.str&&U.hasEOL?2:1})}h()}).catch(j),()=>Q(I)}return s.useLayoutEffect(M,[e,j,h,u,x,a,p,N]),c.jsx("div",{className:ve("react-pdf__Page__textContent","textLayer"),onMouseUp:W,onMouseDown:$,ref:d})}function Bn(){const n=Ge(),e=he();E(e);const r=Object.assign(Object.assign({},n),e),{imageResourcesPath:t,linkService:o,onGetAnnotationsError:i,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:x,onRenderAnnotationLayerSuccess:a,page:l,pdf:g,renderForms:y,rotate:m,scale:p=1}=r;E(g),E(l),E(o);const[P,d]=te(),{value:S,error:C}=P,D=s.useRef(null);_(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){S&&u&&u(S)}function R(){C&&(_(!1,C.toString()),i&&i(C))}function h(){d({type:"RESET"})}s.useEffect(h,[d,l]);function j(){if(!l)return;const f=le(l.getAnnotations()),V=f;return f.promise.then(b=>{d({type:"RESOLVE",value:b})}).catch(b=>{d({type:"REJECT",error:b})}),()=>{Q(V)}}s.useEffect(j,[d,l,y]),s.useEffect(()=>{if(S!==void 0){if(S===!1){R();return}L()}},[S]);function $(){a&&a()}function W(f){_(!1,`${f}`),x&&x(f)}const N=s.useMemo(()=>l.getViewport({scale:p,rotation:m}),[l,m,p]);function M(){if(!g||!l||!o||!S)return;const{current:f}=D;if(!f)return;const V=N.clone({dontFlip:!0}),b={accessibilityManager:null,annotationCanvasMap:null,div:f,l10n:null,page:l,viewport:V},w={annotations:S,annotationStorage:g.annotationStorage,div:f,downloadManager:null,imageResourcesPath:t,linkService:o,page:l,renderForms:y,viewport:V};f.innerHTML="";try{new ue.AnnotationLayer(b).render(w),$()}catch(I){W(I)}return()=>{}}return s.useEffect(M,[S,t,o,l,y,N]),c.jsx("div",{className:ve("react-pdf__Page__annotations","annotationLayer"),ref:D})}var Wn=function(n,e){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(r[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(r[t[o]]=n[t[o]]);return r};const Ae=1;function Hn(n){const e=Ge(),r=Object.assign(Object.assign({},e),n),{_className:t="react-pdf__Page",_enableRegisterUnregisterPage:o=!0,canvasBackground:i,canvasRef:u,children:x,className:a,customRenderer:l,customTextRenderer:g,devicePixelRatio:y,error:m="Failed to load the page.",height:p,inputRef:P,loading:d="Loading pageâ€¦",noData:S="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:D,onGetStructTreeError:L,onGetStructTreeSuccess:R,onGetTextError:h,onGetTextSuccess:j,onLoadError:$,onLoadSuccess:W,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:M,onRenderError:f,onRenderSuccess:V,onRenderTextLayerError:b,onRenderTextLayerSuccess:w,pageIndex:I,pageNumber:A,pdf:O,registerPage:H,renderAnnotationLayer:U=!0,renderForms:X=!1,renderMode:re="canvas",renderTextLayer:Y=!0,rotate:de,scale:Z=Ae,unregisterPage:fe,width:oe}=r,me=Wn(r,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Se,ee]=te(),{value:T,error:pe}=Se,ge=s.useRef(null);E(O);const G=ne(A)?A-1:I??null,J=A??(ne(I)?I+1:null),z=de??(T?T.rotate:null),v=s.useMemo(()=>{if(!T)return null;let se=1;const Pe=Z??Ae;if(oe||p){const ae=T.getViewport({scale:1,rotation:z});oe?se=oe/ae.width:p&&(se=p/ae.height)}return Pe*se},[p,T,z,Z,oe]);function F(){return()=>{ne(G)&&o&&fe&&fe(G)}}s.useEffect(F,[o,O,G,fe]);function B(){if(W){if(!T||!v)return;W(Ee(T,v))}if(o&&H){if(!ne(G)||!ge.current)return;H(G,ge.current)}}function K(){pe&&(_(!1,pe.toString()),$&&$(pe))}function q(){ee({type:"RESET"})}s.useEffect(q,[ee,O,G]);function He(){if(!O||!J)return;const se=le(O.getPage(J)),Pe=se;return se.promise.then(ae=>{ee({type:"RESOLVE",value:ae})}).catch(ae=>{ee({type:"REJECT",error:ae})}),()=>Q(Pe)}s.useEffect(He,[ee,O,G,J,H]),s.useEffect(()=>{if(T!==void 0){if(T===!1){K();return}B()}},[T,v]);const Ue=s.useMemo(()=>T&&ne(G)&&J&&ne(z)&&ne(v)?{_className:t,canvasBackground:i,customTextRenderer:g,devicePixelRatio:y,onGetAnnotationsError:C,onGetAnnotationsSuccess:D,onGetStructTreeError:L,onGetStructTreeSuccess:R,onGetTextError:h,onGetTextSuccess:j,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:M,onRenderError:f,onRenderSuccess:V,onRenderTextLayerError:b,onRenderTextLayerSuccess:w,page:T,pageIndex:G,pageNumber:J,renderForms:X,renderTextLayer:Y,rotate:z,scale:v}:null,[t,i,g,y,C,D,L,R,h,j,N,M,f,V,b,w,T,G,J,X,Y,z,v]),Je=s.useMemo(()=>_e(me,()=>T&&(v?Ee(T,v):void 0)),[me,T,v]),ye=`${G}@${v}/${z}`,ze=`${G}/${z}`;function Ke(){switch(re){case"custom":return E(l),c.jsx(l,{},`${ye}_custom`);case"none":return null;case"svg":return c.jsx(In,{},`${ze}_svg`);case"canvas":default:return c.jsx(Vn,{canvasRef:u},`${ye}_canvas`)}}function qe(){return Y?c.jsx($n,{},`${ye}_text`):null}function Qe(){return U?c.jsx(Bn,{},`${ye}_annotations`):null}function Xe(){return c.jsxs(Ie.Provider,{value:Ue,children:[Ke(),qe(),Qe(),x]})}function Ye(){return J?O===null||T===void 0||T===null?c.jsx(ce,{type:"loading",children:typeof d=="function"?d():d}):O===!1||T===!1?c.jsx(ce,{type:"error",children:typeof m=="function"?m():m}):Xe():c.jsx(ce,{type:"no-data",children:typeof S=="function"?S():S})}return c.jsx("div",Object.assign({className:ve(t,a),"data-page-number":J,ref:Ve(P,ge),style:{"--scale-factor":`${v}`,backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Je,{children:Ye()}))}function Un({fileUrl:n}){const[e,r]=s.useState(null),[t,o]=s.useState(1),[i,u]=s.useState(null),[x,a]=s.useState(null),l=s.useRef(null);s.useEffect(()=>{o(1),r(null),u(null)},[n]);function g({numPages:d}){r(d)}function y(d){console.error("Erreur chargement PDF:",d),u(`Erreur chargement PDF: ${d.message}. VÃ©rifiez le chemin.`)}function m(){o(d=>Math.max(d-1,1))}function p(){o(d=>Math.min(d+1,e))}const P=({pageNumber:d})=>{console.log("Clic sur item interne PDF, destination page:",d),o(d)};return s.useEffect(()=>{const d=()=>{l.current&&a(l.current.offsetWidth)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),c.jsxs("div",{ref:l,className:"pdf-viewer-container max-w-4xl mx-auto my-8 p-4 bg-white/20 dark:bg-black/30 backdrop-blur-lg rounded-lg shadow-xl border border-white/10",children:[i&&c.jsxs("div",{className:"text-center text-red-600 dark:text-red-400 p-4 bg-red-100 dark:bg-red-900/50 rounded mb-4",children:[c.jsx("p",{children:i}),c.jsxs("p",{children:["Chemin tentÃ© : ",c.jsx("code",{className:"text-sm bg-gray-300 dark:bg-gray-600 px-1 rounded",children:n})]})]}),c.jsx(An,{file:n,onLoadSuccess:g,onLoadError:y,onItemClick:P,loading:c.jsx("div",{className:"text-center p-4 text-gray-700 dark:text-gray-300",children:"Chargement du PDF..."}),error:c.jsx("div",{className:"text-center text-red-500 p-4",children:"Erreur chargement document."}),className:"flex justify-center pdf-document-wrapper min-h-[70vh]",children:c.jsx(Hn,{pageNumber:t,width:x?Math.min(x*.95,800):void 0,renderTextLayer:!0,renderAnnotationLayer:!0,loading:c.jsxs("div",{className:"text-center p-2 min-h-[70vh] flex items-center justify-center text-gray-500",children:["Chargement page ",t,"..."]}),className:"pdf-page-wrapper shadow-lg"},`page_${t}`)}),e&&c.jsxs("div",{className:"pagination-controls flex justify-center items-center mt-4 space-x-4",children:[c.jsx("button",{type:"button",disabled:t<=1,onClick:m,className:"px-3 py-1 rounded bg-primary dark:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-dark dark:hover:bg-primary-dark-dark transition-colors shadow-sm",children:"PrÃ©cÃ©dent"}),c.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 bg-white/30 dark:bg-black/20 px-3 py-1 rounded-md",children:["Page ",t," sur ",e]}),c.jsx("button",{type:"button",disabled:t>=e,onClick:p,className:"px-3 py-1 rounded bg-primary dark:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-dark dark:hover:bg-primary-dark-dark transition-colors shadow-sm",children:"Suivant"})]})]})}function qn({title:n,subtitle:e,contentHtml:r,pdfPath:t}){const o=`
        /* Styles spÃ©cifiques Ã  cette page si nÃ©cessaire, sinon vides ou Ã  supprimer */
    `;return c.jsxs(c.Fragment,{children:[o.trim()&&c.jsx("style",{children:o}),c.jsx(on,{title:n,subtitle:e}),c.jsx(sn,{dynamic:!0,hideUntilTypeset:"first",children:c.jsx("div",{className:"lesson-content max-w-3xl mx-auto p-6 md:p-8 bg-white dark:bg-gray-800/50 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:r||"<p>Contenu de la leÃ§on non disponible.</p>"}})}),t?c.jsx(Un,{fileUrl:t}):c.jsx("div",{className:"text-center p-4 mt-4 text-gray-500 dark:text-gray-400 italic",children:"(Version PDF non disponible pour cette leÃ§on)"})]})}export{qn as default};
