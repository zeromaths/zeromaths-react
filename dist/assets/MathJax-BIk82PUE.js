import{r as p,M as j,R as P}from"./index-hZ8wf67s.js";var a=function(){return(a=Object.assign||function(t){for(var r,s=1,o=arguments.length;s<o;s++)for(var e in r=arguments[s])Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}).apply(this,arguments)},C=function(t,r){var s={};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(s[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(t);o<e.length;o++)r.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(t,e[o])&&(s[e[o]]=t[e[o]]);return s},v=function(t){return"Typesetting failed: ".concat(t.message!==void 0?t.message:JSON.stringify(t))},_=function(t){function r(){var c;b==="every"&&w&&h==="post"&&i.current!==null&&(i.current.style.visibility=(c=(c=m.style)==null?void 0:c.visibility)!=null?c:"visible"),x.current||(b==="first"&&i.current!==null&&(i.current.style.visibility="visible"),e&&e(),x.current=!0),M&&M(),g.current=!1}var o=t.inline,s=o!==void 0&&o,o=t.hideUntilTypeset,e=t.onInitTypeset,M=t.onTypeset,f=t.text,E=t.dynamic,d=t.typesettingOptions,T=t.renderMode,R=t.children,m=C(t,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),J=p.useRef(""),i=p.useRef(null),u=p.useContext(j),b=o??u?.hideUntilTypeset,h=T??u?.renderMode,y=d??u?.typesettingOptions,w=E!==!1&&(E||!1),x=p.useRef(!1),g=p.useRef(!1);return!g.current&&i.current!==null&&w&&b==="every"&&h==="post"&&(i.current.style.visibility="hidden"),(typeof window<"u"?p.useLayoutEffect:p.useEffect)(function(){if((w||!x.current)&&i.current!==null){if(!u)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(h==="pre"){if(!(typeof(c=f)=="string"&&0<c.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(f,'"'));if(!d||!d.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(u.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}h!=="post"&&f===J.current||g.current||(g.current=!0,u.version===3?u.promise.then(function(n){var O;h==="pre"?(O=function(l){J.current=f,n.startup.document.clear(),n.startup.document.updateDocument(),i.current!==null&&(i.current.innerHTML=l.outerHTML),r()},d.fn.endsWith("Promise")?n.startup.promise.then(function(){return n[y.fn](f,a(a({},y?.options||{}),{display:!s}))}).then(O).catch(function(l){throw r(),Error(v(l))}):n.startup.promise.then(function(){var l=n[y.fn](f,a(a({},y?.options||{}),{display:!s}));O(l)}).catch(function(l){throw r(),Error(v(l))})):n.startup.promise.then(function(){return n.typesetClear([i.current]),n.typesetPromise([i.current])}).then(r).catch(function(l){throw r(),Error(v(l))})}).catch(function(n){throw r(),Error(v(n))}):u.promise.then(function(n){n.Hub.Queue(["Typeset",n.Hub,i.current]),n.Hub.Queue(r)}).catch(function(n){throw r(),Error(v(n))}))}var c}),P.createElement("span",a({},m,{style:a(a({display:s?"inline":"block"},m.style),{visibility:b?"hidden":(t=m.style)==null?void 0:t.visibility}),ref:i}),R)};export{_ as M};
