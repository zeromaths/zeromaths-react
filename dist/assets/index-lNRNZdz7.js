(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const D of f)if(D.type==="childList")for(const F of D.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&o(F)}).observe(document,{childList:!0,subtree:!0});function m(f){const D={};return f.integrity&&(D.integrity=f.integrity),f.referrerPolicy&&(D.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?D.credentials="include":f.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function o(f){if(f.ep)return;f.ep=!0;const D=m(f);fetch(f.href,D)}})();function getDefaultExportFromCjs(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}function getAugmentedNamespace(v){if(Object.prototype.hasOwnProperty.call(v,"__esModule"))return v;var s=v.default;if(typeof s=="function"){var m=function o(){var f=!1;try{f=this instanceof o}catch{}return f?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};m.prototype=s.prototype}else m={};return Object.defineProperty(m,"__esModule",{value:!0}),Object.keys(v).forEach(function(o){var f=Object.getOwnPropertyDescriptor(v,o);Object.defineProperty(m,o,f.get?f:{enumerable:!0,get:function(){return v[o]}})}),m}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var v=Symbol.for("react.element"),s=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),a=Symbol.for("react.lazy"),l=Symbol.iterator;function b(_){return _===null||typeof _!="object"?null:(_=l&&_[l]||_["@@iterator"],typeof _=="function"?_:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,x={};function S(_,L,U){this.props=_,this.context=L,this.refs=x,this.updater=U||h}S.prototype.isReactComponent={},S.prototype.setState=function(_,L){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,L,"setState")},S.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function y(){}y.prototype=S.prototype;function P(_,L,U){this.props=_,this.context=L,this.refs=x,this.updater=U||h}var I=P.prototype=new y;I.constructor=P,u(I,S.prototype),I.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,R={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function X(_,L,U){var W,N={},g=null,C=null;if(L!=null)for(W in L.ref!==void 0&&(C=L.ref),L.key!==void 0&&(g=""+L.key),L)w.call(L,W)&&!V.hasOwnProperty(W)&&(N[W]=L[W]);var T=arguments.length-2;if(T===1)N.children=U;else if(1<T){for(var B=Array(T),z=0;z<T;z++)B[z]=arguments[z+2];N.children=B}if(_&&_.defaultProps)for(W in T=_.defaultProps,T)N[W]===void 0&&(N[W]=T[W]);return{$$typeof:v,type:_,key:g,ref:C,props:N,_owner:R.current}}function G(_,L){return{$$typeof:v,type:_.type,key:L,ref:_.ref,props:_.props,_owner:_._owner}}function ee(_){return typeof _=="object"&&_!==null&&_.$$typeof===v}function Q(_){var L={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(U){return L[U]})}var pe=/\/+/g;function ce(_,L){return typeof _=="object"&&_!==null&&_.key!=null?Q(""+_.key):L.toString(36)}function fe(_,L,U,W,N){var g=typeof _;(g==="undefined"||g==="boolean")&&(_=null);var C=!1;if(_===null)C=!0;else switch(g){case"string":case"number":C=!0;break;case"object":switch(_.$$typeof){case v:case s:C=!0}}if(C)return C=_,N=N(C),_=W===""?"."+ce(C,0):W,j(N)?(U="",_!=null&&(U=_.replace(pe,"$&/")+"/"),fe(N,L,U,"",function(z){return z})):N!=null&&(ee(N)&&(N=G(N,U+(!N.key||C&&C.key===N.key?"":(""+N.key).replace(pe,"$&/")+"/")+_)),L.push(N)),1;if(C=0,W=W===""?".":W+":",j(_))for(var T=0;T<_.length;T++){g=_[T];var B=W+ce(g,T);C+=fe(g,L,U,B,N)}else if(B=b(_),typeof B=="function")for(_=B.call(_),T=0;!(g=_.next()).done;)g=g.value,B=W+ce(g,T++),C+=fe(g,L,U,B,N);else if(g==="object")throw L=String(_),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return C}function ge(_,L,U){if(_==null)return _;var W=[],N=0;return fe(_,W,"","",function(g){return L.call(U,g,N++)}),W}function le(_){if(_._status===-1){var L=_._result;L=L(),L.then(function(U){(_._status===0||_._status===-1)&&(_._status=1,_._result=U)},function(U){(_._status===0||_._status===-1)&&(_._status=2,_._result=U)}),_._status===-1&&(_._status=0,_._result=L)}if(_._status===1)return _._result.default;throw _._result}var H={current:null},k={transition:null},A={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:k,ReactCurrentOwner:R};function E(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ge,forEach:function(_,L,U){ge(_,function(){L.apply(this,arguments)},U)},count:function(_){var L=0;return ge(_,function(){L++}),L},toArray:function(_){return ge(_,function(L){return L})||[]},only:function(_){if(!ee(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},react_production_min.Component=S,react_production_min.Fragment=m,react_production_min.Profiler=f,react_production_min.PureComponent=P,react_production_min.StrictMode=o,react_production_min.Suspense=O,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,react_production_min.act=E,react_production_min.cloneElement=function(_,L,U){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var W=u({},_.props),N=_.key,g=_.ref,C=_._owner;if(L!=null){if(L.ref!==void 0&&(g=L.ref,C=R.current),L.key!==void 0&&(N=""+L.key),_.type&&_.type.defaultProps)var T=_.type.defaultProps;for(B in L)w.call(L,B)&&!V.hasOwnProperty(B)&&(W[B]=L[B]===void 0&&T!==void 0?T[B]:L[B])}var B=arguments.length-2;if(B===1)W.children=U;else if(1<B){T=Array(B);for(var z=0;z<B;z++)T[z]=arguments[z+2];W.children=T}return{$$typeof:v,type:_.type,key:N,ref:g,props:W,_owner:C}},react_production_min.createContext=function(_){return _={$$typeof:F,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:D,_context:_},_.Consumer=_},react_production_min.createElement=X,react_production_min.createFactory=function(_){var L=X.bind(null,_);return L.type=_,L},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(_){return{$$typeof:$,render:_}},react_production_min.isValidElement=ee,react_production_min.lazy=function(_){return{$$typeof:a,_payload:{_status:-1,_result:_},_init:le}},react_production_min.memo=function(_,L){return{$$typeof:d,type:_,compare:L===void 0?null:L}},react_production_min.startTransition=function(_){var L=k.transition;k.transition={};try{_()}finally{k.transition=L}},react_production_min.unstable_act=E,react_production_min.useCallback=function(_,L){return H.current.useCallback(_,L)},react_production_min.useContext=function(_){return H.current.useContext(_)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(_){return H.current.useDeferredValue(_)},react_production_min.useEffect=function(_,L){return H.current.useEffect(_,L)},react_production_min.useId=function(){return H.current.useId()},react_production_min.useImperativeHandle=function(_,L,U){return H.current.useImperativeHandle(_,L,U)},react_production_min.useInsertionEffect=function(_,L){return H.current.useInsertionEffect(_,L)},react_production_min.useLayoutEffect=function(_,L){return H.current.useLayoutEffect(_,L)},react_production_min.useMemo=function(_,L){return H.current.useMemo(_,L)},react_production_min.useReducer=function(_,L,U){return H.current.useReducer(_,L,U)},react_production_min.useRef=function(_){return H.current.useRef(_)},react_production_min.useState=function(_){return H.current.useState(_)},react_production_min.useSyncExternalStore=function(_,L,U){return H.current.useSyncExternalStore(_,L,U)},react_production_min.useTransition=function(){return H.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var v=requireReact(),s=Symbol.for("react.element"),m=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,f=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D={key:!0,ref:!0,__self:!0,__source:!0};function F($,O,d){var a,l={},b=null,h=null;d!==void 0&&(b=""+d),O.key!==void 0&&(b=""+O.key),O.ref!==void 0&&(h=O.ref);for(a in O)o.call(O,a)&&!D.hasOwnProperty(a)&&(l[a]=O[a]);if($&&$.defaultProps)for(a in O=$.defaultProps,O)l[a]===void 0&&(l[a]=O[a]);return{$$typeof:s,type:$,key:b,ref:h,props:l,_owner:f.current}}return reactJsxRuntime_production_min.Fragment=m,reactJsxRuntime_production_min.jsx=F,reactJsxRuntime_production_min.jsxs=F,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(v){function s(k,A){var E=k.length;k.push(A);e:for(;0<E;){var _=E-1>>>1,L=k[_];if(0<f(L,A))k[_]=A,k[E]=L,E=_;else break e}}function m(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var A=k[0],E=k.pop();if(E!==A){k[0]=E;e:for(var _=0,L=k.length,U=L>>>1;_<U;){var W=2*(_+1)-1,N=k[W],g=W+1,C=k[g];if(0>f(N,E))g<L&&0>f(C,N)?(k[_]=C,k[g]=E,_=g):(k[_]=N,k[W]=E,_=W);else if(g<L&&0>f(C,E))k[_]=C,k[g]=E,_=g;else break e}}return A}function f(k,A){var E=k.sortIndex-A.sortIndex;return E!==0?E:k.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var D=performance;v.unstable_now=function(){return D.now()}}else{var F=Date,$=F.now();v.unstable_now=function(){return F.now()-$}}var O=[],d=[],a=1,l=null,b=3,h=!1,u=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(k){for(var A=m(d);A!==null;){if(A.callback===null)o(d);else if(A.startTime<=k)o(d),A.sortIndex=A.expirationTime,s(O,A);else break;A=m(d)}}function j(k){if(x=!1,I(k),!u)if(m(O)!==null)u=!0,le(w);else{var A=m(d);A!==null&&H(j,A.startTime-k)}}function w(k,A){u=!1,x&&(x=!1,y(X),X=-1),h=!0;var E=b;try{for(I(A),l=m(O);l!==null&&(!(l.expirationTime>A)||k&&!Q());){var _=l.callback;if(typeof _=="function"){l.callback=null,b=l.priorityLevel;var L=_(l.expirationTime<=A);A=v.unstable_now(),typeof L=="function"?l.callback=L:l===m(O)&&o(O),I(A)}else o(O);l=m(O)}if(l!==null)var U=!0;else{var W=m(d);W!==null&&H(j,W.startTime-A),U=!1}return U}finally{l=null,b=E,h=!1}}var R=!1,V=null,X=-1,G=5,ee=-1;function Q(){return!(v.unstable_now()-ee<G)}function pe(){if(V!==null){var k=v.unstable_now();ee=k;var A=!0;try{A=V(!0,k)}finally{A?ce():(R=!1,V=null)}}else R=!1}var ce;if(typeof P=="function")ce=function(){P(pe)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ge=fe.port2;fe.port1.onmessage=pe,ce=function(){ge.postMessage(null)}}else ce=function(){S(pe,0)};function le(k){V=k,R||(R=!0,ce())}function H(k,A){X=S(function(){k(v.unstable_now())},A)}v.unstable_IdlePriority=5,v.unstable_ImmediatePriority=1,v.unstable_LowPriority=4,v.unstable_NormalPriority=3,v.unstable_Profiling=null,v.unstable_UserBlockingPriority=2,v.unstable_cancelCallback=function(k){k.callback=null},v.unstable_continueExecution=function(){u||h||(u=!0,le(w))},v.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<k?Math.floor(1e3/k):5},v.unstable_getCurrentPriorityLevel=function(){return b},v.unstable_getFirstCallbackNode=function(){return m(O)},v.unstable_next=function(k){switch(b){case 1:case 2:case 3:var A=3;break;default:A=b}var E=b;b=A;try{return k()}finally{b=E}},v.unstable_pauseExecution=function(){},v.unstable_requestPaint=function(){},v.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var E=b;b=k;try{return A()}finally{b=E}},v.unstable_scheduleCallback=function(k,A,E){var _=v.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?_+E:_):E=_,k){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=E+L,k={id:a++,callback:A,priorityLevel:k,startTime:E,expirationTime:L,sortIndex:-1},E>_?(k.sortIndex=E,s(d,k),m(O)===null&&k===m(d)&&(x?(y(X),X=-1):x=!0,H(j,E-_))):(k.sortIndex=L,s(O,k),u||h||(u=!0,le(w))),k},v.unstable_shouldYield=Q,v.unstable_wrapCallback=function(k){var A=b;return function(){var E=b;b=A;try{return k.apply(this,arguments)}finally{b=E}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var v=requireReact(),s=requireScheduler();function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,f={};function D(e,t){F(e,t),F(e+"Capture",t)}function F(e,t){for(f[e]=t,e=0;e<t.length;e++)o.add(t[e])}var $=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},l={};function b(e){return O.call(l,e)?!0:O.call(a,e)?!1:d.test(e)?l[e]=!0:(a[e]=!0,!1)}function h(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function u(e,t,n,i){if(t===null||typeof t>"u"||h(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function x(e,t,n,i,c,p,M){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=c,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=M}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,P);S[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,P);S[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,P);S[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,n,i){var c=S.hasOwnProperty(t)?S[t]:null;(c!==null?c.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u(t,n,c,i)&&(n=null),i||c===null?b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):c.mustUseProperty?e[c.propertyName]=n===null?c.type===3?!1:"":n:(t=c.attributeName,i=c.attributeNamespace,n===null?e.removeAttribute(t):(c=c.type,n=c===3||c===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var j=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),R=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),Q=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),k=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var E=Object.assign,_;function L(e){if(_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return`
`+_+e}var U=!1;function W(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ue){var i=ue}Reflect.construct(e,[],t)}else{try{t.call()}catch(ue){i=ue}e.call(t.prototype)}else{try{throw Error()}catch(ue){i=ue}e()}}catch(ue){if(ue&&i&&typeof ue.stack=="string"){for(var c=ue.stack.split(`
`),p=i.stack.split(`
`),M=c.length-1,q=p.length-1;1<=M&&0<=q&&c[M]!==p[q];)q--;for(;1<=M&&0<=q;M--,q--)if(c[M]!==p[q]){if(M!==1||q!==1)do if(M--,q--,0>q||c[M]!==p[q]){var J=`
`+c[M].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=M&&0<=q);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function N(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1),e;case 11:return e=W(e.type.render,!1),e;case 1:return e=W(e.type,!0),e;default:return""}}function g(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case R:return"Portal";case G:return"Profiler";case X:return"StrictMode";case ce:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Consumer";case ee:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ge:return t=e.displayName||null,t!==null?t:g(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return g(e(t))}catch{}}return null}function C(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g(t);case 8:return t===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function T(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z(e){var t=B(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,p=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(M){i=""+M,p.call(this,M)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(M){i=""+M},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Y(e){e._valueTracker||(e._valueTracker=z(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=B(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _e(e,t){var n=t.checked;return E({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ae(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=T(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function se(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function de(e,t){se(e,t);var n=T(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?me(e,t.type,n):t.hasOwnProperty("defaultValue")&&me(e,t.type,T(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function he(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function me(e,t,n){(t!=="number"||ne(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Se=Array.isArray;function ke(e,t,n,i){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&i&&(e[n].defaultSelected=!0)}else{for(n=""+T(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Me(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(m(91));return E({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function De(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(m(92));if(Se(n)){if(1<n.length)throw Error(m(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:T(n)}}function Ie(e,t){var n=T(t.value),i=T(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Be(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function at(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?at(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kt,tt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,c){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(e){Ln.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pt[t]=pt[e]})});function Bt(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pt.hasOwnProperty(e)&&pt[e]?(""+t).trim():t+"px"}function xe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,c=Bt(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,c):e[n]=c}}var ie=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function te(e,t){if(t){if(ie[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(m(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(m(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(m(61))}if(t.style!=null&&typeof t.style!="object")throw Error(m(62))}}function Ae(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oe=null;function Je(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qe=null,Ct=null,Rt=null;function Xt(e){if(e=Or(e)){if(typeof Qe!="function")throw Error(m(280));var t=e.stateNode;t&&(t=vi(t),Qe(e.stateNode,e.type,t))}}function dt(e){Ct?Rt?Rt.push(e):Rt=[e]:Ct=e}function nn(){if(Ct){var e=Ct,t=Rt;if(Rt=Ct=null,Xt(e),t)for(e=0;e<t.length;e++)Xt(t[e])}}function Ut(e,t){return e(t)}function Dn(){}var Xe=!1;function jn(e,t,n){if(Xe)return e(t,n);Xe=!0;try{return Ut(e,t,n)}finally{Xe=!1,(Ct!==null||Rt!==null)&&(Dn(),nn())}}function Yt(e,t){var n=e.stateNode;if(n===null)return null;var i=vi(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(m(231,t,typeof n));return n}var In=!1;if($)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){In=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{In=!1}function On(e,t,n,i,c,p,M,q,J){var ue=Array.prototype.slice.call(arguments,3);try{t.apply(n,ue)}catch(ve){this.onError(ve)}}var rt=!1,Kt=null,fn=!1,rs=null,gu={onError:function(e){rt=!0,Kt=e}};function yu(e,t,n,i,c,p,M,q,J){rt=!1,Kt=null,On.apply(gu,arguments)}function vu(e,t,n,i,c,p,M,q,J){if(yu.apply(this,arguments),rt){if(rt){var ue=Kt;rt=!1,Kt=null}else throw Error(m(198));fn||(fn=!0,rs=ue)}}function Nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Na(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ba(e){if(Nn(e)!==e)throw Error(m(188))}function xu(e){var t=e.alternate;if(!t){if(t=Nn(e),t===null)throw Error(m(188));return t!==e?null:e}for(var n=e,i=t;;){var c=n.return;if(c===null)break;var p=c.alternate;if(p===null){if(i=c.return,i!==null){n=i;continue}break}if(c.child===p.child){for(p=c.child;p;){if(p===n)return Ba(c),e;if(p===i)return Ba(c),t;p=p.sibling}throw Error(m(188))}if(n.return!==i.return)n=c,i=p;else{for(var M=!1,q=c.child;q;){if(q===n){M=!0,n=c,i=p;break}if(q===i){M=!0,i=c,n=p;break}q=q.sibling}if(!M){for(q=p.child;q;){if(q===n){M=!0,n=p,i=c;break}if(q===i){M=!0,i=p,n=c;break}q=q.sibling}if(!M)throw Error(m(189))}}if(n.alternate!==i)throw Error(m(190))}if(n.tag!==3)throw Error(m(188));return n.stateNode.current===n?e:t}function Ua(e){return e=xu(e),e!==null?za(e):null}function za(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=za(e);if(t!==null)return t;e=e.sibling}return null}var $a=s.unstable_scheduleCallback,Ha=s.unstable_cancelCallback,_u=s.unstable_shouldYield,Eu=s.unstable_requestPaint,Ze=s.unstable_now,bu=s.unstable_getCurrentPriorityLevel,is=s.unstable_ImmediatePriority,Wa=s.unstable_UserBlockingPriority,Qr=s.unstable_NormalPriority,Su=s.unstable_LowPriority,Va=s.unstable_IdlePriority,Zr=null,Jt=null;function Au(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Zr,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Cu,wu=Math.log,ku=Math.LN2;function Cu(e){return e>>>=0,e===0?32:31-(wu(e)/ku|0)|0}var ei=64,ti=4194304;function xr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,c=e.suspendedLanes,p=e.pingedLanes,M=n&268435455;if(M!==0){var q=M&~c;q!==0?i=xr(q):(p&=M,p!==0&&(i=xr(p)))}else M=n&~c,M!==0?i=xr(M):p!==0&&(i=xr(p));if(i===0)return 0;if(t!==0&&t!==i&&(t&c)===0&&(c=i&-i,p=t&-t,c>=p||c===16&&(p&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-zt(t),c=1<<n,i|=e[n],t&=~c;return i}function Ru(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,p=e.pendingLanes;0<p;){var M=31-zt(p),q=1<<M,J=c[M];J===-1?((q&n)===0||(q&i)!==0)&&(c[M]=Ru(q,t)):J<=t&&(e.expiredLanes|=q),p&=~q}}function ss(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),e}function as(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _r(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function Tu(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var c=31-zt(n),p=1<<c;t[c]=0,i[c]=-1,e[c]=-1,n&=~p}}function os(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-zt(n),c=1<<i;c&t|e[i]&t&&(e[i]|=t),n&=~c}}var ze=0;function qa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Xa,ls,Ya,Ka,Ja,us=!1,ri=[],pn=null,mn=null,gn=null,Er=new Map,br=new Map,yn=[],Mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(t.pointerId)}}function Sr(e,t,n,i,c,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:p,targetContainers:[c]},t!==null&&(t=Or(t),t!==null&&ls(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Fu(e,t,n,i,c){switch(t){case"focusin":return pn=Sr(pn,e,t,n,i,c),!0;case"dragenter":return mn=Sr(mn,e,t,n,i,c),!0;case"mouseover":return gn=Sr(gn,e,t,n,i,c),!0;case"pointerover":var p=c.pointerId;return Er.set(p,Sr(Er.get(p)||null,e,t,n,i,c)),!0;case"gotpointercapture":return p=c.pointerId,br.set(p,Sr(br.get(p)||null,e,t,n,i,c)),!0}return!1}function Za(e){var t=Bn(e.target);if(t!==null){var n=Nn(t);if(n!==null){if(t=n.tag,t===13){if(t=Na(n),t!==null){e.blockedOn=t,Ja(e.priority,function(){Ya(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ds(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Oe=i,n.target.dispatchEvent(i),Oe=null}else return t=Or(n),t!==null&&ls(t),e.blockedOn=n,!1;t.shift()}return!0}function eo(e,t,n){ii(e)&&n.delete(t)}function Lu(){us=!1,pn!==null&&ii(pn)&&(pn=null),mn!==null&&ii(mn)&&(mn=null),gn!==null&&ii(gn)&&(gn=null),Er.forEach(eo),br.forEach(eo)}function Ar(e,t){e.blockedOn===t&&(e.blockedOn=null,us||(us=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lu)))}function wr(e){function t(c){return Ar(c,e)}if(0<ri.length){Ar(ri[0],e);for(var n=1;n<ri.length;n++){var i=ri[n];i.blockedOn===e&&(i.blockedOn=null)}}for(pn!==null&&Ar(pn,e),mn!==null&&Ar(mn,e),gn!==null&&Ar(gn,e),Er.forEach(t),br.forEach(t),n=0;n<yn.length;n++)i=yn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<yn.length&&(n=yn[0],n.blockedOn===null);)Za(n),n.blockedOn===null&&yn.shift()}var Jn=j.ReactCurrentBatchConfig,si=!0;function Du(e,t,n,i){var c=ze,p=Jn.transition;Jn.transition=null;try{ze=1,cs(e,t,n,i)}finally{ze=c,Jn.transition=p}}function ju(e,t,n,i){var c=ze,p=Jn.transition;Jn.transition=null;try{ze=4,cs(e,t,n,i)}finally{ze=c,Jn.transition=p}}function cs(e,t,n,i){if(si){var c=ds(e,t,n,i);if(c===null)Rs(e,t,i,ai,n),Qa(e,i);else if(Fu(c,e,t,n,i))i.stopPropagation();else if(Qa(e,i),t&4&&-1<Mu.indexOf(e)){for(;c!==null;){var p=Or(c);if(p!==null&&Xa(p),p=ds(e,t,n,i),p===null&&Rs(e,t,i,ai,n),p===c)break;c=p}c!==null&&i.stopPropagation()}else Rs(e,t,i,null,n)}}var ai=null;function ds(e,t,n,i){if(ai=null,e=Je(i),e=Bn(e),e!==null)if(t=Nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Na(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function to(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bu()){case is:return 1;case Wa:return 4;case Qr:case Su:return 16;case Va:return 536870912;default:return 16}default:return 16}}var vn=null,hs=null,oi=null;function no(){if(oi)return oi;var e,t=hs,n=t.length,i,c="value"in vn?vn.value:vn.textContent,p=c.length;for(e=0;e<n&&t[e]===c[e];e++);var M=n-e;for(i=1;i<=M&&t[n-i]===c[p-i];i++);return oi=c.slice(e,1<i?1-i:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function ro(){return!1}function Pt(e){function t(n,i,c,p,M){this._reactName=n,this._targetInst=c,this.type=i,this.nativeEvent=p,this.target=M,this.currentTarget=null;for(var q in e)e.hasOwnProperty(q)&&(n=e[q],this[q]=n?n(p):p[q]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ui:ro,this.isPropagationStopped=ro,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Pt(Qn),kr=E({},Qn,{view:0,detail:0}),Iu=Pt(kr),ps,ms,Cr,ci=E({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(ps=e.screenX-Cr.screenX,ms=e.screenY-Cr.screenY):ms=ps=0,Cr=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),io=Pt(ci),Ou=E({},ci,{dataTransfer:0}),Nu=Pt(Ou),Bu=E({},kr,{relatedTarget:0}),gs=Pt(Bu),Uu=E({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Pt(Uu),$u=E({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hu=Pt($u),Wu=E({},Qn,{data:0}),so=Pt(Wu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qu[e])?!!t[e]:!1}function ys(){return Xu}var Yu=E({},kr,{key:function(e){if(e.key){var t=Vu[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ku=Pt(Yu),Ju=E({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=Pt(Ju),Qu=E({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Zu=Pt(Qu),ec=E({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tc=Pt(ec),nc=E({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rc=Pt(nc),ic=[9,13,27,32],vs=$&&"CompositionEvent"in window,Rr=null;$&&"documentMode"in document&&(Rr=document.documentMode);var sc=$&&"TextEvent"in window&&!Rr,oo=$&&(!vs||Rr&&8<Rr&&11>=Rr),lo=" ",uo=!1;function co(e,t){switch(e){case"keyup":return ic.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function ac(e,t){switch(e){case"compositionend":return ho(t);case"keypress":return t.which!==32?null:(uo=!0,lo);case"textInput":return e=t.data,e===lo&&uo?null:e;default:return null}}function oc(e,t){if(Zn)return e==="compositionend"||!vs&&co(e,t)?(e=no(),oi=hs=vn=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oo&&t.locale!=="ko"?null:t.data;default:return null}}var lc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lc[e.type]:t==="textarea"}function po(e,t,n,i){dt(i),t=mi(t,"onChange"),0<t.length&&(n=new fs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Pr=null,Tr=null;function uc(e){Fo(e,0)}function di(e){var t=ir(e);if(K(t))return e}function cc(e,t){if(e==="change")return t}var mo=!1;if($){var xs;if($){var _s="oninput"in document;if(!_s){var go=document.createElement("div");go.setAttribute("oninput","return;"),_s=typeof go.oninput=="function"}xs=_s}else xs=!1;mo=xs&&(!document.documentMode||9<document.documentMode)}function yo(){Pr&&(Pr.detachEvent("onpropertychange",vo),Tr=Pr=null)}function vo(e){if(e.propertyName==="value"&&di(Tr)){var t=[];po(t,Tr,e,Je(e)),jn(uc,t)}}function dc(e,t,n){e==="focusin"?(yo(),Pr=t,Tr=n,Pr.attachEvent("onpropertychange",vo)):e==="focusout"&&yo()}function hc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(Tr)}function fc(e,t){if(e==="click")return di(t)}function pc(e,t){if(e==="input"||e==="change")return di(t)}function mc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:mc;function Mr(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var c=n[i];if(!O.call(t,c)||!$t(e[c],t[c]))return!1}return!0}function xo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _o(e,t){var n=xo(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xo(n)}}function Eo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Eo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bo(){for(var e=window,t=ne();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ne(e.document)}return t}function Es(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gc(e){var t=bo(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Eo(n.ownerDocument.documentElement,n)){if(i!==null&&Es(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=n.textContent.length,p=Math.min(i.start,c);i=i.end===void 0?p:Math.min(i.end,c),!e.extend&&p>i&&(c=i,i=p,p=c),c=_o(n,p);var M=_o(n,i);c&&M&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==M.node||e.focusOffset!==M.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),p>i?(e.addRange(t),e.extend(M.node,M.offset)):(t.setEnd(M.node,M.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yc=$&&"documentMode"in document&&11>=document.documentMode,er=null,bs=null,Fr=null,Ss=!1;function So(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ss||er==null||er!==ne(i)||(i=er,"selectionStart"in i&&Es(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fr&&Mr(Fr,i)||(Fr=i,i=mi(bs,"onSelect"),0<i.length&&(t=new fs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=er)))}function hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},As={},Ao={};$&&(Ao=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function fi(e){if(As[e])return As[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ao)return As[e]=t[n];return e}var wo=fi("animationend"),ko=fi("animationiteration"),Co=fi("animationstart"),Ro=fi("transitionend"),Po=new Map,To="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Po.set(e,t),D(t,[e])}for(var ws=0;ws<To.length;ws++){var ks=To[ws],vc=ks.toLowerCase(),xc=ks[0].toUpperCase()+ks.slice(1);xn(vc,"on"+xc)}xn(wo,"onAnimationEnd"),xn(ko,"onAnimationIteration"),xn(Co,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Ro,"onTransitionEnd"),F("onMouseEnter",["mouseout","mouseover"]),F("onMouseLeave",["mouseout","mouseover"]),F("onPointerEnter",["pointerout","pointerover"]),F("onPointerLeave",["pointerout","pointerover"]),D("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),D("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),D("onBeforeInput",["compositionend","keypress","textInput","paste"]),D("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),D("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),D("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_c=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mo(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,vu(i,t,void 0,e),e.currentTarget=null}function Fo(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],c=i.event;i=i.listeners;e:{var p=void 0;if(t)for(var M=i.length-1;0<=M;M--){var q=i[M],J=q.instance,ue=q.currentTarget;if(q=q.listener,J!==p&&c.isPropagationStopped())break e;Mo(c,q,ue),p=J}else for(M=0;M<i.length;M++){if(q=i[M],J=q.instance,ue=q.currentTarget,q=q.listener,J!==p&&c.isPropagationStopped())break e;Mo(c,q,ue),p=J}}}if(fn)throw e=rs,fn=!1,rs=null,e}function He(e,t){var n=t[Ds];n===void 0&&(n=t[Ds]=new Set);var i=e+"__bubble";n.has(i)||(Lo(t,e,2,!1),n.add(i))}function Cs(e,t,n){var i=0;t&&(i|=4),Lo(n,e,i,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[pi]){e[pi]=!0,o.forEach(function(n){n!=="selectionchange"&&(_c.has(n)||Cs(n,!1,e),Cs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,Cs("selectionchange",!1,t))}}function Lo(e,t,n,i){switch(to(t)){case 1:var c=Du;break;case 4:c=ju;break;default:c=cs}n=c.bind(null,t,n,e),c=void 0,!In||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Rs(e,t,n,i,c){var p=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var M=i.tag;if(M===3||M===4){var q=i.stateNode.containerInfo;if(q===c||q.nodeType===8&&q.parentNode===c)break;if(M===4)for(M=i.return;M!==null;){var J=M.tag;if((J===3||J===4)&&(J=M.stateNode.containerInfo,J===c||J.nodeType===8&&J.parentNode===c))return;M=M.return}for(;q!==null;){if(M=Bn(q),M===null)return;if(J=M.tag,J===5||J===6){i=p=M;continue e}q=q.parentNode}}i=i.return}jn(function(){var ue=p,ve=Je(n),Ee=[];e:{var ye=Po.get(e);if(ye!==void 0){var we=fs,Re=e;switch(e){case"keypress":if(li(n)===0)break e;case"keydown":case"keyup":we=Ku;break;case"focusin":Re="focus",we=gs;break;case"focusout":Re="blur",we=gs;break;case"beforeblur":case"afterblur":we=gs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Zu;break;case wo:case ko:case Co:we=zu;break;case Ro:we=tc;break;case"scroll":we=Iu;break;case"wheel":we=rc;break;case"copy":case"cut":case"paste":we=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=ao}var Pe=(t&4)!==0,et=!Pe&&e==="scroll",re=Pe?ye!==null?ye+"Capture":null:ye;Pe=[];for(var Z=ue,oe;Z!==null;){oe=Z;var be=oe.stateNode;if(oe.tag===5&&be!==null&&(oe=be,re!==null&&(be=Yt(Z,re),be!=null&&Pe.push(jr(Z,be,oe)))),et)break;Z=Z.return}0<Pe.length&&(ye=new we(ye,Re,null,n,ve),Ee.push({event:ye,listeners:Pe}))}}if((t&7)===0){e:{if(ye=e==="mouseover"||e==="pointerover",we=e==="mouseout"||e==="pointerout",ye&&n!==Oe&&(Re=n.relatedTarget||n.fromElement)&&(Bn(Re)||Re[sn]))break e;if((we||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,we?(Re=n.relatedTarget||n.toElement,we=ue,Re=Re?Bn(Re):null,Re!==null&&(et=Nn(Re),Re!==et||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(we=null,Re=ue),we!==Re)){if(Pe=io,be="onMouseLeave",re="onMouseEnter",Z="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=ao,be="onPointerLeave",re="onPointerEnter",Z="pointer"),et=we==null?ye:ir(we),oe=Re==null?ye:ir(Re),ye=new Pe(be,Z+"leave",we,n,ve),ye.target=et,ye.relatedTarget=oe,be=null,Bn(ve)===ue&&(Pe=new Pe(re,Z+"enter",Re,n,ve),Pe.target=oe,Pe.relatedTarget=et,be=Pe),et=be,we&&Re)t:{for(Pe=we,re=Re,Z=0,oe=Pe;oe;oe=nr(oe))Z++;for(oe=0,be=re;be;be=nr(be))oe++;for(;0<Z-oe;)Pe=nr(Pe),Z--;for(;0<oe-Z;)re=nr(re),oe--;for(;Z--;){if(Pe===re||re!==null&&Pe===re.alternate)break t;Pe=nr(Pe),re=nr(re)}Pe=null}else Pe=null;we!==null&&Do(Ee,ye,we,Pe,!1),Re!==null&&et!==null&&Do(Ee,et,Re,Pe,!0)}}e:{if(ye=ue?ir(ue):window,we=ye.nodeName&&ye.nodeName.toLowerCase(),we==="select"||we==="input"&&ye.type==="file")var Te=cc;else if(fo(ye))if(mo)Te=pc;else{Te=hc;var Fe=dc}else(we=ye.nodeName)&&we.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Te=fc);if(Te&&(Te=Te(e,ue))){po(Ee,Te,n,ve);break e}Fe&&Fe(e,ye,ue),e==="focusout"&&(Fe=ye._wrapperState)&&Fe.controlled&&ye.type==="number"&&me(ye,"number",ye.value)}switch(Fe=ue?ir(ue):window,e){case"focusin":(fo(Fe)||Fe.contentEditable==="true")&&(er=Fe,bs=ue,Fr=null);break;case"focusout":Fr=bs=er=null;break;case"mousedown":Ss=!0;break;case"contextmenu":case"mouseup":case"dragend":Ss=!1,So(Ee,n,ve);break;case"selectionchange":if(yc)break;case"keydown":case"keyup":So(Ee,n,ve)}var Le;if(vs)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Zn?co(e,n)&&(je="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(je="onCompositionStart");je&&(oo&&n.locale!=="ko"&&(Zn||je!=="onCompositionStart"?je==="onCompositionEnd"&&Zn&&(Le=no()):(vn=ve,hs="value"in vn?vn.value:vn.textContent,Zn=!0)),Fe=mi(ue,je),0<Fe.length&&(je=new so(je,e,null,n,ve),Ee.push({event:je,listeners:Fe}),Le?je.data=Le:(Le=ho(n),Le!==null&&(je.data=Le)))),(Le=sc?ac(e,n):oc(e,n))&&(ue=mi(ue,"onBeforeInput"),0<ue.length&&(ve=new so("onBeforeInput","beforeinput",null,n,ve),Ee.push({event:ve,listeners:ue}),ve.data=Le))}Fo(Ee,t)})}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mi(e,t){for(var n=t+"Capture",i=[];e!==null;){var c=e,p=c.stateNode;c.tag===5&&p!==null&&(c=p,p=Yt(e,n),p!=null&&i.unshift(jr(e,p,c)),p=Yt(e,t),p!=null&&i.push(jr(e,p,c))),e=e.return}return i}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Do(e,t,n,i,c){for(var p=t._reactName,M=[];n!==null&&n!==i;){var q=n,J=q.alternate,ue=q.stateNode;if(J!==null&&J===i)break;q.tag===5&&ue!==null&&(q=ue,c?(J=Yt(n,p),J!=null&&M.unshift(jr(n,J,q))):c||(J=Yt(n,p),J!=null&&M.push(jr(n,J,q)))),n=n.return}M.length!==0&&e.push({event:t,listeners:M})}var Ec=/\r\n?/g,bc=/\u0000|\uFFFD/g;function jo(e){return(typeof e=="string"?e:""+e).replace(Ec,`
`).replace(bc,"")}function gi(e,t,n){if(t=jo(t),jo(e)!==t&&n)throw Error(m(425))}function yi(){}var Ps=null,Ts=null;function Ms(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fs=typeof setTimeout=="function"?setTimeout:void 0,Sc=typeof clearTimeout=="function"?clearTimeout:void 0,Io=typeof Promise=="function"?Promise:void 0,Ac=typeof queueMicrotask=="function"?queueMicrotask:typeof Io<"u"?function(e){return Io.resolve(null).then(e).catch(wc)}:Fs;function wc(e){setTimeout(function(){throw e})}function Ls(e,t){var n=t,i=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(i===0){e.removeChild(c),wr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=c}while(n);wr(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+rr,Ir="__reactProps$"+rr,sn="__reactContainer$"+rr,Ds="__reactEvents$"+rr,kc="__reactListeners$"+rr,Cc="__reactHandles$"+rr;function Bn(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oo(e);e!==null;){if(n=e[Qt])return n;e=Oo(e)}return t}e=n,n=e.parentNode}return null}function Or(e){return e=e[Qt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(m(33))}function vi(e){return e[Ir]||null}var js=[],sr=-1;function En(e){return{current:e}}function We(e){0>sr||(e.current=js[sr],js[sr]=null,sr--)}function $e(e,t){sr++,js[sr]=e.current,e.current=t}var bn={},mt=En(bn),Et=En(!1),Un=bn;function ar(e,t){var n=e.type.contextTypes;if(!n)return bn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var c={},p;for(p in n)c[p]=t[p];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function bt(e){return e=e.childContextTypes,e!=null}function xi(){We(Et),We(mt)}function No(e,t,n){if(mt.current!==bn)throw Error(m(168));$e(mt,t),$e(Et,n)}function Bo(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var c in i)if(!(c in t))throw Error(m(108,C(e)||"Unknown",c));return E({},n,i)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Un=mt.current,$e(mt,e),$e(Et,Et.current),!0}function Uo(e,t,n){var i=e.stateNode;if(!i)throw Error(m(169));n?(e=Bo(e,t,Un),i.__reactInternalMemoizedMergedChildContext=e,We(Et),We(mt),$e(mt,e)):We(Et),$e(Et,n)}var an=null,Ei=!1,Is=!1;function zo(e){an===null?an=[e]:an.push(e)}function Rc(e){Ei=!0,zo(e)}function Sn(){if(!Is&&an!==null){Is=!0;var e=0,t=ze;try{var n=an;for(ze=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}an=null,Ei=!1}catch(c){throw an!==null&&(an=an.slice(e+1)),$a(is,Sn),c}finally{ze=t,Is=!1}}return null}var or=[],lr=0,bi=null,Si=0,Lt=[],Dt=0,zn=null,on=1,ln="";function $n(e,t){or[lr++]=Si,or[lr++]=bi,bi=e,Si=t}function $o(e,t,n){Lt[Dt++]=on,Lt[Dt++]=ln,Lt[Dt++]=zn,zn=e;var i=on;e=ln;var c=32-zt(i)-1;i&=~(1<<c),n+=1;var p=32-zt(t)+c;if(30<p){var M=c-c%5;p=(i&(1<<M)-1).toString(32),i>>=M,c-=M,on=1<<32-zt(t)+c|n<<c|i,ln=p+e}else on=1<<p|n<<c|i,ln=e}function Os(e){e.return!==null&&($n(e,1),$o(e,1,0))}function Ns(e){for(;e===bi;)bi=or[--lr],or[lr]=null,Si=or[--lr],or[lr]=null;for(;e===zn;)zn=Lt[--Dt],Lt[Dt]=null,ln=Lt[--Dt],Lt[Dt]=null,on=Lt[--Dt],Lt[Dt]=null}var Tt=null,Mt=null,Ve=!1,Ht=null;function Ho(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Mt=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:on,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Mt=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if(Ve){var t=Mt;if(t){var n=t;if(!Wo(e,t)){if(Bs(e))throw Error(m(418));t=_n(n.nextSibling);var i=Tt;t&&Wo(e,t)?Ho(i,n):(e.flags=e.flags&-4097|2,Ve=!1,Tt=e)}}else{if(Bs(e))throw Error(m(418));e.flags=e.flags&-4097|2,Ve=!1,Tt=e}}}function Vo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Ai(e){if(e!==Tt)return!1;if(!Ve)return Vo(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ms(e.type,e.memoizedProps)),t&&(t=Mt)){if(Bs(e))throw Go(),Error(m(418));for(;t;)Ho(e,t),t=_n(t.nextSibling)}if(Vo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mt=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Tt?_n(e.stateNode.nextSibling):null;return!0}function Go(){for(var e=Mt;e;)e=_n(e.nextSibling)}function ur(){Mt=Tt=null,Ve=!1}function zs(e){Ht===null?Ht=[e]:Ht.push(e)}var Pc=j.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(m(309));var i=n.stateNode}if(!i)throw Error(m(147,e));var c=i,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(M){var q=c.refs;M===null?delete q[p]:q[p]=M},t._stringRef=p,t)}if(typeof e!="string")throw Error(m(284));if(!n._owner)throw Error(m(290,e))}return e}function wi(e,t){throw e=Object.prototype.toString.call(t),Error(m(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qo(e){var t=e._init;return t(e._payload)}function Xo(e){function t(re,Z){if(e){var oe=re.deletions;oe===null?(re.deletions=[Z],re.flags|=16):oe.push(Z)}}function n(re,Z){if(!e)return null;for(;Z!==null;)t(re,Z),Z=Z.sibling;return null}function i(re,Z){for(re=new Map;Z!==null;)Z.key!==null?re.set(Z.key,Z):re.set(Z.index,Z),Z=Z.sibling;return re}function c(re,Z){return re=Mn(re,Z),re.index=0,re.sibling=null,re}function p(re,Z,oe){return re.index=oe,e?(oe=re.alternate,oe!==null?(oe=oe.index,oe<Z?(re.flags|=2,Z):oe):(re.flags|=2,Z)):(re.flags|=1048576,Z)}function M(re){return e&&re.alternate===null&&(re.flags|=2),re}function q(re,Z,oe,be){return Z===null||Z.tag!==6?(Z=Fa(oe,re.mode,be),Z.return=re,Z):(Z=c(Z,oe),Z.return=re,Z)}function J(re,Z,oe,be){var Te=oe.type;return Te===V?ve(re,Z,oe.props.children,be,oe.key):Z!==null&&(Z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===le&&qo(Te)===Z.type)?(be=c(Z,oe.props),be.ref=Nr(re,Z,oe),be.return=re,be):(be=Yi(oe.type,oe.key,oe.props,null,re.mode,be),be.ref=Nr(re,Z,oe),be.return=re,be)}function ue(re,Z,oe,be){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=La(oe,re.mode,be),Z.return=re,Z):(Z=c(Z,oe.children||[]),Z.return=re,Z)}function ve(re,Z,oe,be,Te){return Z===null||Z.tag!==7?(Z=Kn(oe,re.mode,be,Te),Z.return=re,Z):(Z=c(Z,oe),Z.return=re,Z)}function Ee(re,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Fa(""+Z,re.mode,oe),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return oe=Yi(Z.type,Z.key,Z.props,null,re.mode,oe),oe.ref=Nr(re,null,Z),oe.return=re,oe;case R:return Z=La(Z,re.mode,oe),Z.return=re,Z;case le:var be=Z._init;return Ee(re,be(Z._payload),oe)}if(Se(Z)||A(Z))return Z=Kn(Z,re.mode,oe,null),Z.return=re,Z;wi(re,Z)}return null}function ye(re,Z,oe,be){var Te=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Te!==null?null:q(re,Z,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return oe.key===Te?J(re,Z,oe,be):null;case R:return oe.key===Te?ue(re,Z,oe,be):null;case le:return Te=oe._init,ye(re,Z,Te(oe._payload),be)}if(Se(oe)||A(oe))return Te!==null?null:ve(re,Z,oe,be,null);wi(re,oe)}return null}function we(re,Z,oe,be,Te){if(typeof be=="string"&&be!==""||typeof be=="number")return re=re.get(oe)||null,q(Z,re,""+be,Te);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return re=re.get(be.key===null?oe:be.key)||null,J(Z,re,be,Te);case R:return re=re.get(be.key===null?oe:be.key)||null,ue(Z,re,be,Te);case le:var Fe=be._init;return we(re,Z,oe,Fe(be._payload),Te)}if(Se(be)||A(be))return re=re.get(oe)||null,ve(Z,re,be,Te,null);wi(Z,be)}return null}function Re(re,Z,oe,be){for(var Te=null,Fe=null,Le=Z,je=Z=0,ut=null;Le!==null&&je<oe.length;je++){Le.index>je?(ut=Le,Le=null):ut=Le.sibling;var Ue=ye(re,Le,oe[je],be);if(Ue===null){Le===null&&(Le=ut);break}e&&Le&&Ue.alternate===null&&t(re,Le),Z=p(Ue,Z,je),Fe===null?Te=Ue:Fe.sibling=Ue,Fe=Ue,Le=ut}if(je===oe.length)return n(re,Le),Ve&&$n(re,je),Te;if(Le===null){for(;je<oe.length;je++)Le=Ee(re,oe[je],be),Le!==null&&(Z=p(Le,Z,je),Fe===null?Te=Le:Fe.sibling=Le,Fe=Le);return Ve&&$n(re,je),Te}for(Le=i(re,Le);je<oe.length;je++)ut=we(Le,re,je,oe[je],be),ut!==null&&(e&&ut.alternate!==null&&Le.delete(ut.key===null?je:ut.key),Z=p(ut,Z,je),Fe===null?Te=ut:Fe.sibling=ut,Fe=ut);return e&&Le.forEach(function(Fn){return t(re,Fn)}),Ve&&$n(re,je),Te}function Pe(re,Z,oe,be){var Te=A(oe);if(typeof Te!="function")throw Error(m(150));if(oe=Te.call(oe),oe==null)throw Error(m(151));for(var Fe=Te=null,Le=Z,je=Z=0,ut=null,Ue=oe.next();Le!==null&&!Ue.done;je++,Ue=oe.next()){Le.index>je?(ut=Le,Le=null):ut=Le.sibling;var Fn=ye(re,Le,Ue.value,be);if(Fn===null){Le===null&&(Le=ut);break}e&&Le&&Fn.alternate===null&&t(re,Le),Z=p(Fn,Z,je),Fe===null?Te=Fn:Fe.sibling=Fn,Fe=Fn,Le=ut}if(Ue.done)return n(re,Le),Ve&&$n(re,je),Te;if(Le===null){for(;!Ue.done;je++,Ue=oe.next())Ue=Ee(re,Ue.value,be),Ue!==null&&(Z=p(Ue,Z,je),Fe===null?Te=Ue:Fe.sibling=Ue,Fe=Ue);return Ve&&$n(re,je),Te}for(Le=i(re,Le);!Ue.done;je++,Ue=oe.next())Ue=we(Le,re,je,Ue.value,be),Ue!==null&&(e&&Ue.alternate!==null&&Le.delete(Ue.key===null?je:Ue.key),Z=p(Ue,Z,je),Fe===null?Te=Ue:Fe.sibling=Ue,Fe=Ue);return e&&Le.forEach(function(ld){return t(re,ld)}),Ve&&$n(re,je),Te}function et(re,Z,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===V&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:e:{for(var Te=oe.key,Fe=Z;Fe!==null;){if(Fe.key===Te){if(Te=oe.type,Te===V){if(Fe.tag===7){n(re,Fe.sibling),Z=c(Fe,oe.props.children),Z.return=re,re=Z;break e}}else if(Fe.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===le&&qo(Te)===Fe.type){n(re,Fe.sibling),Z=c(Fe,oe.props),Z.ref=Nr(re,Fe,oe),Z.return=re,re=Z;break e}n(re,Fe);break}else t(re,Fe);Fe=Fe.sibling}oe.type===V?(Z=Kn(oe.props.children,re.mode,be,oe.key),Z.return=re,re=Z):(be=Yi(oe.type,oe.key,oe.props,null,re.mode,be),be.ref=Nr(re,Z,oe),be.return=re,re=be)}return M(re);case R:e:{for(Fe=oe.key;Z!==null;){if(Z.key===Fe)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){n(re,Z.sibling),Z=c(Z,oe.children||[]),Z.return=re,re=Z;break e}else{n(re,Z);break}else t(re,Z);Z=Z.sibling}Z=La(oe,re.mode,be),Z.return=re,re=Z}return M(re);case le:return Fe=oe._init,et(re,Z,Fe(oe._payload),be)}if(Se(oe))return Re(re,Z,oe,be);if(A(oe))return Pe(re,Z,oe,be);wi(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Z!==null&&Z.tag===6?(n(re,Z.sibling),Z=c(Z,oe),Z.return=re,re=Z):(n(re,Z),Z=Fa(oe,re.mode,be),Z.return=re,re=Z),M(re)):n(re,Z)}return et}var cr=Xo(!0),Yo=Xo(!1),ki=En(null),Ci=null,dr=null,$s=null;function Hs(){$s=dr=Ci=null}function Ws(e){var t=ki.current;We(ki),e._currentValue=t}function Vs(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function hr(e,t){Ci=e,$s=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(St=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if($s!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(Ci===null)throw Error(m(308));dr=e,Ci.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Hn=null;function Gs(e){Hn===null?Hn=[e]:Hn.push(e)}function Ko(e,t,n,i){var c=t.interleaved;return c===null?(n.next=n,Gs(t)):(n.next=c.next,c.next=n),t.interleaved=n,un(e,i)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function qs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ne&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,un(e,n)}return c=i.interleaved,c===null?(t.next=t,Gs(i)):(t.next=c.next,c.next=t),i.interleaved=t,un(e,n)}function Ri(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,os(e,n)}}function Qo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var c=null,p=null;if(n=n.firstBaseUpdate,n!==null){do{var M={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};p===null?c=p=M:p=p.next=M,n=n.next}while(n!==null);p===null?c=p=t:p=p.next=t}else c=p=t;n={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:p,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pi(e,t,n,i){var c=e.updateQueue;An=!1;var p=c.firstBaseUpdate,M=c.lastBaseUpdate,q=c.shared.pending;if(q!==null){c.shared.pending=null;var J=q,ue=J.next;J.next=null,M===null?p=ue:M.next=ue,M=J;var ve=e.alternate;ve!==null&&(ve=ve.updateQueue,q=ve.lastBaseUpdate,q!==M&&(q===null?ve.firstBaseUpdate=ue:q.next=ue,ve.lastBaseUpdate=J))}if(p!==null){var Ee=c.baseState;M=0,ve=ue=J=null,q=p;do{var ye=q.lane,we=q.eventTime;if((i&ye)===ye){ve!==null&&(ve=ve.next={eventTime:we,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Re=e,Pe=q;switch(ye=t,we=n,Pe.tag){case 1:if(Re=Pe.payload,typeof Re=="function"){Ee=Re.call(we,Ee,ye);break e}Ee=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Pe.payload,ye=typeof Re=="function"?Re.call(we,Ee,ye):Re,ye==null)break e;Ee=E({},Ee,ye);break e;case 2:An=!0}}q.callback!==null&&q.lane!==0&&(e.flags|=64,ye=c.effects,ye===null?c.effects=[q]:ye.push(q))}else we={eventTime:we,lane:ye,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ve===null?(ue=ve=we,J=Ee):ve=ve.next=we,M|=ye;if(q=q.next,q===null){if(q=c.shared.pending,q===null)break;ye=q,q=ye.next,ye.next=null,c.lastBaseUpdate=ye,c.shared.pending=null}}while(!0);if(ve===null&&(J=Ee),c.baseState=J,c.firstBaseUpdate=ue,c.lastBaseUpdate=ve,t=c.shared.interleaved,t!==null){c=t;do M|=c.lane,c=c.next;while(c!==t)}else p===null&&(c.shared.lanes=0);Gn|=M,e.lanes=M,e.memoizedState=Ee}}function Zo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],c=i.callback;if(c!==null){if(i.callback=null,i=n,typeof c!="function")throw Error(m(191,c));c.call(i)}}}var Br={},Zt=En(Br),Ur=En(Br),zr=En(Br);function Wn(e){if(e===Br)throw Error(m(174));return e}function Xs(e,t){switch($e(zr,t),$e(Ur,e),$e(Zt,Br),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ke(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ke(t,e)}We(Zt),$e(Zt,t)}function fr(){We(Zt),We(Ur),We(zr)}function el(e){Wn(zr.current);var t=Wn(Zt.current),n=Ke(t,e.type);t!==n&&($e(Ur,e),$e(Zt,n))}function Ys(e){Ur.current===e&&(We(Zt),We(Ur))}var Ge=En(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ks=[];function Js(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var Mi=j.ReactCurrentDispatcher,Qs=j.ReactCurrentBatchConfig,Vn=0,qe=null,it=null,ot=null,Fi=!1,$r=!1,Hr=0,Tc=0;function gt(){throw Error(m(321))}function Zs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function ea(e,t,n,i,c,p){if(Vn=p,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mi.current=e===null||e.memoizedState===null?Dc:jc,e=n(i,c),$r){p=0;do{if($r=!1,Hr=0,25<=p)throw Error(m(301));p+=1,ot=it=null,t.updateQueue=null,Mi.current=Ic,e=n(i,c)}while($r)}if(Mi.current=ji,t=it!==null&&it.next!==null,Vn=0,ot=it=qe=null,Fi=!1,t)throw Error(m(300));return e}function ta(){var e=Hr!==0;return Hr=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?qe.memoizedState=ot=e:ot=ot.next=e,ot}function It(){if(it===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ot===null?qe.memoizedState:ot.next;if(t!==null)ot=t,it=e;else{if(e===null)throw Error(m(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ot===null?qe.memoizedState=ot=e:ot=ot.next=e}return ot}function Wr(e,t){return typeof t=="function"?t(e):t}function na(e){var t=It(),n=t.queue;if(n===null)throw Error(m(311));n.lastRenderedReducer=e;var i=it,c=i.baseQueue,p=n.pending;if(p!==null){if(c!==null){var M=c.next;c.next=p.next,p.next=M}i.baseQueue=c=p,n.pending=null}if(c!==null){p=c.next,i=i.baseState;var q=M=null,J=null,ue=p;do{var ve=ue.lane;if((Vn&ve)===ve)J!==null&&(J=J.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),i=ue.hasEagerState?ue.eagerState:e(i,ue.action);else{var Ee={lane:ve,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};J===null?(q=J=Ee,M=i):J=J.next=Ee,qe.lanes|=ve,Gn|=ve}ue=ue.next}while(ue!==null&&ue!==p);J===null?M=i:J.next=q,$t(i,t.memoizedState)||(St=!0),t.memoizedState=i,t.baseState=M,t.baseQueue=J,n.lastRenderedState=i}if(e=n.interleaved,e!==null){c=e;do p=c.lane,qe.lanes|=p,Gn|=p,c=c.next;while(c!==e)}else c===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ra(e){var t=It(),n=t.queue;if(n===null)throw Error(m(311));n.lastRenderedReducer=e;var i=n.dispatch,c=n.pending,p=t.memoizedState;if(c!==null){n.pending=null;var M=c=c.next;do p=e(p,M.action),M=M.next;while(M!==c);$t(p,t.memoizedState)||(St=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),n.lastRenderedState=p}return[p,i]}function tl(){}function nl(e,t){var n=qe,i=It(),c=t(),p=!$t(i.memoizedState,c);if(p&&(i.memoizedState=c,St=!0),i=i.queue,ia(sl.bind(null,n,i,e),[e]),i.getSnapshot!==t||p||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Vr(9,il.bind(null,n,i,c,t),void 0,null),lt===null)throw Error(m(349));(Vn&30)!==0||rl(n,t,c)}return c}function rl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function il(e,t,n,i){t.value=n,t.getSnapshot=i,al(t)&&ol(e)}function sl(e,t,n){return n(function(){al(t)&&ol(e)})}function al(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function ol(e){var t=un(e,1);t!==null&&qt(t,e,1,-1)}function ll(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},t.queue=e,e=e.dispatch=Lc.bind(null,qe,e),[t.memoizedState,e]}function Vr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function ul(){return It().memoizedState}function Li(e,t,n,i){var c=en();qe.flags|=e,c.memoizedState=Vr(1|t,n,void 0,i===void 0?null:i)}function Di(e,t,n,i){var c=It();i=i===void 0?null:i;var p=void 0;if(it!==null){var M=it.memoizedState;if(p=M.destroy,i!==null&&Zs(i,M.deps)){c.memoizedState=Vr(t,n,p,i);return}}qe.flags|=e,c.memoizedState=Vr(1|t,n,p,i)}function cl(e,t){return Li(8390656,8,e,t)}function ia(e,t){return Di(2048,8,e,t)}function dl(e,t){return Di(4,2,e,t)}function hl(e,t){return Di(4,4,e,t)}function fl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pl(e,t,n){return n=n!=null?n.concat([e]):null,Di(4,4,fl.bind(null,t,e),n)}function sa(){}function ml(e,t){var n=It();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Zs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function gl(e,t){var n=It();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Zs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function yl(e,t,n){return(Vn&21)===0?(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=n):($t(n,t)||(n=Ga(),qe.lanes|=n,Gn|=n,e.baseState=!0),t)}function Mc(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var i=Qs.transition;Qs.transition={};try{e(!1),t()}finally{ze=n,Qs.transition=i}}function vl(){return It().memoizedState}function Fc(e,t,n){var i=Pn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},xl(e))_l(t,n);else if(n=Ko(e,t,n,i),n!==null){var c=_t();qt(n,e,i,c),El(n,t,i)}}function Lc(e,t,n){var i=Pn(e),c={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(xl(e))_l(t,c);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var M=t.lastRenderedState,q=p(M,n);if(c.hasEagerState=!0,c.eagerState=q,$t(q,M)){var J=t.interleaved;J===null?(c.next=c,Gs(t)):(c.next=J.next,J.next=c),t.interleaved=c;return}}catch{}finally{}n=Ko(e,t,c,i),n!==null&&(c=_t(),qt(n,e,i,c),El(n,t,i))}}function xl(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function _l(e,t){$r=Fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function El(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,os(e,n)}}var ji={readContext:jt,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Dc={readContext:jt,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:cl,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Li(4194308,4,fl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=en();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=en();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Fc.bind(null,qe,e),[i.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:ll,useDebugValue:sa,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=ll(!1),t=e[0];return e=Mc.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=qe,c=en();if(Ve){if(n===void 0)throw Error(m(407));n=n()}else{if(n=t(),lt===null)throw Error(m(349));(Vn&30)!==0||rl(i,t,n)}c.memoizedState=n;var p={value:n,getSnapshot:t};return c.queue=p,cl(sl.bind(null,i,p,e),[e]),i.flags|=2048,Vr(9,il.bind(null,i,p,n,t),void 0,null),n},useId:function(){var e=en(),t=lt.identifierPrefix;if(Ve){var n=ln,i=on;n=(i&~(1<<32-zt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tc++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jc={readContext:jt,useCallback:ml,useContext:jt,useEffect:ia,useImperativeHandle:pl,useInsertionEffect:dl,useLayoutEffect:hl,useMemo:gl,useReducer:na,useRef:ul,useState:function(){return na(Wr)},useDebugValue:sa,useDeferredValue:function(e){var t=It();return yl(t,it.memoizedState,e)},useTransition:function(){var e=na(Wr)[0],t=It().memoizedState;return[e,t]},useMutableSource:tl,useSyncExternalStore:nl,useId:vl,unstable_isNewReconciler:!1},Ic={readContext:jt,useCallback:ml,useContext:jt,useEffect:ia,useImperativeHandle:pl,useInsertionEffect:dl,useLayoutEffect:hl,useMemo:gl,useReducer:ra,useRef:ul,useState:function(){return ra(Wr)},useDebugValue:sa,useDeferredValue:function(e){var t=It();return it===null?t.memoizedState=e:yl(t,it.memoizedState,e)},useTransition:function(){var e=ra(Wr)[0],t=It().memoizedState;return[e,t]},useMutableSource:tl,useSyncExternalStore:nl,useId:vl,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=E({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function aa(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:E({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ii={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=_t(),c=Pn(e),p=cn(i,c);p.payload=t,n!=null&&(p.callback=n),t=wn(e,p,c),t!==null&&(qt(t,e,c,i),Ri(t,e,c))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=_t(),c=Pn(e),p=cn(i,c);p.tag=1,p.payload=t,n!=null&&(p.callback=n),t=wn(e,p,c),t!==null&&(qt(t,e,c,i),Ri(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),i=Pn(e),c=cn(n,i);c.tag=2,t!=null&&(c.callback=t),t=wn(e,c,i),t!==null&&(qt(t,e,i,n),Ri(t,e,i))}};function bl(e,t,n,i,c,p,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,p,M):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,i)||!Mr(c,p):!0}function Sl(e,t,n){var i=!1,c=bn,p=t.contextType;return typeof p=="object"&&p!==null?p=jt(p):(c=bt(t)?Un:mt.current,i=t.contextTypes,p=(i=i!=null)?ar(e,c):bn),t=new t(n,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ii,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=p),t}function Al(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function oa(e,t,n,i){var c=e.stateNode;c.props=n,c.state=e.memoizedState,c.refs={},qs(e);var p=t.contextType;typeof p=="object"&&p!==null?c.context=jt(p):(p=bt(t)?Un:mt.current,c.context=ar(e,p)),c.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(aa(e,t,p,n),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Ii.enqueueReplaceState(c,c.state,null),Pi(e,n,c,i),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var n="",i=t;do n+=N(i),i=i.return;while(i);var c=n}catch(p){c=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:c,digest:null}}function la(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Oc=typeof WeakMap=="function"?WeakMap:Map;function wl(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Hi||(Hi=!0,Aa=i),ua(e,t)},n}function kl(e,t,n){n=cn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var c=t.value;n.payload=function(){return i(c)},n.callback=function(){ua(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(n.callback=function(){ua(e,t),typeof i!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var M=t.stack;this.componentDidCatch(t.value,{componentStack:M!==null?M:""})}),n}function Cl(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Oc;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(n)||(c.add(n),e=Jc.bind(null,e,t,n),t.then(e,e))}function Rl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pl(e,t,n,i,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Nc=j.ReactCurrentOwner,St=!1;function xt(e,t,n,i){t.child=e===null?Yo(t,null,n,i):cr(t,e.child,n,i)}function Tl(e,t,n,i,c){n=n.render;var p=t.ref;return hr(t,c),i=ea(e,t,n,i,p,c),n=ta(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,dn(e,t,c)):(Ve&&n&&Os(t),t.flags|=1,xt(e,t,i,c),t.child)}function Ml(e,t,n,i,c){if(e===null){var p=n.type;return typeof p=="function"&&!Ma(p)&&p.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=p,Fl(e,t,p,i,c)):(e=Yi(n.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&c)===0){var M=p.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(M,i)&&e.ref===t.ref)return dn(e,t,c)}return t.flags|=1,e=Mn(p,i),e.ref=t.ref,e.return=t,t.child=e}function Fl(e,t,n,i,c){if(e!==null){var p=e.memoizedProps;if(Mr(p,i)&&e.ref===t.ref)if(St=!1,t.pendingProps=i=p,(e.lanes&c)!==0)(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,dn(e,t,c)}return ca(e,t,n,i,c)}function Ll(e,t,n){var i=t.pendingProps,c=i.children,p=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(gr,Ft),Ft|=n;else{if((n&1073741824)===0)return e=p!==null?p.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(gr,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=p!==null?p.baseLanes:n,$e(gr,Ft),Ft|=i}else p!==null?(i=p.baseLanes|n,t.memoizedState=null):i=n,$e(gr,Ft),Ft|=i;return xt(e,t,c,n),t.child}function Dl(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ca(e,t,n,i,c){var p=bt(n)?Un:mt.current;return p=ar(t,p),hr(t,c),n=ea(e,t,n,i,p,c),i=ta(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,dn(e,t,c)):(Ve&&i&&Os(t),t.flags|=1,xt(e,t,n,c),t.child)}function jl(e,t,n,i,c){if(bt(n)){var p=!0;_i(t)}else p=!1;if(hr(t,c),t.stateNode===null)Ni(e,t),Sl(t,n,i),oa(t,n,i,c),i=!0;else if(e===null){var M=t.stateNode,q=t.memoizedProps;M.props=q;var J=M.context,ue=n.contextType;typeof ue=="object"&&ue!==null?ue=jt(ue):(ue=bt(n)?Un:mt.current,ue=ar(t,ue));var ve=n.getDerivedStateFromProps,Ee=typeof ve=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ee||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(q!==i||J!==ue)&&Al(t,M,i,ue),An=!1;var ye=t.memoizedState;M.state=ye,Pi(t,i,M,c),J=t.memoizedState,q!==i||ye!==J||Et.current||An?(typeof ve=="function"&&(aa(t,n,ve,i),J=t.memoizedState),(q=An||bl(t,n,q,i,ye,J,ue))?(Ee||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(t.flags|=4194308)):(typeof M.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=J),M.props=i,M.state=J,M.context=ue,i=q):(typeof M.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{M=t.stateNode,Jo(e,t),q=t.memoizedProps,ue=t.type===t.elementType?q:Wt(t.type,q),M.props=ue,Ee=t.pendingProps,ye=M.context,J=n.contextType,typeof J=="object"&&J!==null?J=jt(J):(J=bt(n)?Un:mt.current,J=ar(t,J));var we=n.getDerivedStateFromProps;(ve=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(q!==Ee||ye!==J)&&Al(t,M,i,J),An=!1,ye=t.memoizedState,M.state=ye,Pi(t,i,M,c);var Re=t.memoizedState;q!==Ee||ye!==Re||Et.current||An?(typeof we=="function"&&(aa(t,n,we,i),Re=t.memoizedState),(ue=An||bl(t,n,ue,i,ye,Re,J)||!1)?(ve||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(i,Re,J),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(i,Re,J)),typeof M.componentDidUpdate=="function"&&(t.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof M.componentDidUpdate!="function"||q===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||q===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Re),M.props=i,M.state=Re,M.context=J,i=ue):(typeof M.componentDidUpdate!="function"||q===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||q===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),i=!1)}return da(e,t,n,i,p,c)}function da(e,t,n,i,c,p){Dl(e,t);var M=(t.flags&128)!==0;if(!i&&!M)return c&&Uo(t,n,!1),dn(e,t,p);i=t.stateNode,Nc.current=t;var q=M&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&M?(t.child=cr(t,e.child,null,p),t.child=cr(t,null,q,p)):xt(e,t,q,p),t.memoizedState=i.state,c&&Uo(t,n,!0),t.child}function Il(e){var t=e.stateNode;t.pendingContext?No(e,t.pendingContext,t.pendingContext!==t.context):t.context&&No(e,t.context,!1),Xs(e,t.containerInfo)}function Ol(e,t,n,i,c){return ur(),zs(c),t.flags|=256,xt(e,t,n,i),t.child}var ha={dehydrated:null,treeContext:null,retryLane:0};function fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nl(e,t,n){var i=t.pendingProps,c=Ge.current,p=!1,M=(t.flags&128)!==0,q;if((q=M)||(q=e!==null&&e.memoizedState===null?!1:(c&2)!==0),q?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),$e(Ge,c&1),e===null)return Us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(M=i.children,e=i.fallback,p?(i=t.mode,p=t.child,M={mode:"hidden",children:M},(i&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=M):p=Ki(M,i,0,null),e=Kn(e,i,n,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=fa(n),t.memoizedState=ha,e):pa(t,M));if(c=e.memoizedState,c!==null&&(q=c.dehydrated,q!==null))return Bc(e,t,M,i,q,c,n);if(p){p=i.fallback,M=t.mode,c=e.child,q=c.sibling;var J={mode:"hidden",children:i.children};return(M&1)===0&&t.child!==c?(i=t.child,i.childLanes=0,i.pendingProps=J,t.deletions=null):(i=Mn(c,J),i.subtreeFlags=c.subtreeFlags&14680064),q!==null?p=Mn(q,p):(p=Kn(p,M,n,null),p.flags|=2),p.return=t,i.return=t,i.sibling=p,t.child=i,i=p,p=t.child,M=e.child.memoizedState,M=M===null?fa(n):{baseLanes:M.baseLanes|n,cachePool:null,transitions:M.transitions},p.memoizedState=M,p.childLanes=e.childLanes&~n,t.memoizedState=ha,i}return p=e.child,e=p.sibling,i=Mn(p,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function pa(e,t){return t=Ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oi(e,t,n,i){return i!==null&&zs(i),cr(t,e.child,null,n),e=pa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bc(e,t,n,i,c,p,M){if(n)return t.flags&256?(t.flags&=-257,i=la(Error(m(422))),Oi(e,t,M,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=i.fallback,c=t.mode,i=Ki({mode:"visible",children:i.children},c,0,null),p=Kn(p,c,M,null),p.flags|=2,i.return=t,p.return=t,i.sibling=p,t.child=i,(t.mode&1)!==0&&cr(t,e.child,null,M),t.child.memoizedState=fa(M),t.memoizedState=ha,p);if((t.mode&1)===0)return Oi(e,t,M,null);if(c.data==="$!"){if(i=c.nextSibling&&c.nextSibling.dataset,i)var q=i.dgst;return i=q,p=Error(m(419)),i=la(p,i,void 0),Oi(e,t,M,i)}if(q=(M&e.childLanes)!==0,St||q){if(i=lt,i!==null){switch(M&-M){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(i.suspendedLanes|M))!==0?0:c,c!==0&&c!==p.retryLane&&(p.retryLane=c,un(e,c),qt(i,e,c,-1))}return Ta(),i=la(Error(m(421))),Oi(e,t,M,i)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Qc.bind(null,e),c._reactRetry=t,null):(e=p.treeContext,Mt=_n(c.nextSibling),Tt=t,Ve=!0,Ht=null,e!==null&&(Lt[Dt++]=on,Lt[Dt++]=ln,Lt[Dt++]=zn,on=e.id,ln=e.overflow,zn=t),t=pa(t,i.children),t.flags|=4096,t)}function Bl(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Vs(e.return,t,n)}function ma(e,t,n,i,c){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:c}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=i,p.tail=n,p.tailMode=c)}function Ul(e,t,n){var i=t.pendingProps,c=i.revealOrder,p=i.tail;if(xt(e,t,i.children,n),i=Ge.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,n,t);else if(e.tag===19)Bl(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if($e(Ge,i),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Ti(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),ma(t,!1,c,n,p);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ti(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}ma(t,!0,n,null,p);break;case"together":ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ni(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(m(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uc(e,t,n){switch(t.tag){case 3:Il(t),ur();break;case 5:el(t);break;case 1:bt(t.type)&&_i(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,c=t.memoizedProps.value;$e(ki,i._currentValue),i._currentValue=c;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?($e(Ge,Ge.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Nl(e,t,n):($e(Ge,Ge.current&1),e=dn(e,t,n),e!==null?e.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Ul(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$e(Ge,Ge.current),i)break;return null;case 22:case 23:return t.lanes=0,Ll(e,t,n)}return dn(e,t,n)}var zl,ga,$l,Hl;zl=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ga=function(){},$l=function(e,t,n,i){var c=e.memoizedProps;if(c!==i){e=t.stateNode,Wn(Zt.current);var p=null;switch(n){case"input":c=_e(e,c),i=_e(e,i),p=[];break;case"select":c=E({},c,{value:void 0}),i=E({},i,{value:void 0}),p=[];break;case"textarea":c=Me(e,c),i=Me(e,i),p=[];break;default:typeof c.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=yi)}te(n,i);var M;n=null;for(ue in c)if(!i.hasOwnProperty(ue)&&c.hasOwnProperty(ue)&&c[ue]!=null)if(ue==="style"){var q=c[ue];for(M in q)q.hasOwnProperty(M)&&(n||(n={}),n[M]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(f.hasOwnProperty(ue)?p||(p=[]):(p=p||[]).push(ue,null));for(ue in i){var J=i[ue];if(q=c?.[ue],i.hasOwnProperty(ue)&&J!==q&&(J!=null||q!=null))if(ue==="style")if(q){for(M in q)!q.hasOwnProperty(M)||J&&J.hasOwnProperty(M)||(n||(n={}),n[M]="");for(M in J)J.hasOwnProperty(M)&&q[M]!==J[M]&&(n||(n={}),n[M]=J[M])}else n||(p||(p=[]),p.push(ue,n)),n=J;else ue==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,q=q?q.__html:void 0,J!=null&&q!==J&&(p=p||[]).push(ue,J)):ue==="children"?typeof J!="string"&&typeof J!="number"||(p=p||[]).push(ue,""+J):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(f.hasOwnProperty(ue)?(J!=null&&ue==="onScroll"&&He("scroll",e),p||q===J||(p=[])):(p=p||[]).push(ue,J))}n&&(p=p||[]).push("style",n);var ue=p;(t.updateQueue=ue)&&(t.flags|=4)}},Hl=function(e,t,n,i){n!==i&&(t.flags|=4)};function Gr(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags&14680064,i|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function zc(e,t,n){var i=t.pendingProps;switch(Ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return bt(t.type)&&xi(),yt(t),null;case 3:return i=t.stateNode,fr(),We(Et),We(mt),Js(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ht!==null&&(Ca(Ht),Ht=null))),ga(e,t),yt(t),null;case 5:Ys(t);var c=Wn(zr.current);if(n=t.type,e!==null&&t.stateNode!=null)$l(e,t,n,i,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(m(166));return yt(t),null}if(e=Wn(Zt.current),Ai(t)){i=t.stateNode,n=t.type;var p=t.memoizedProps;switch(i[Qt]=t,i[Ir]=p,e=(t.mode&1)!==0,n){case"dialog":He("cancel",i),He("close",i);break;case"iframe":case"object":case"embed":He("load",i);break;case"video":case"audio":for(c=0;c<Lr.length;c++)He(Lr[c],i);break;case"source":He("error",i);break;case"img":case"image":case"link":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"input":ae(i,p),He("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!p.multiple},He("invalid",i);break;case"textarea":De(i,p),He("invalid",i)}te(n,p),c=null;for(var M in p)if(p.hasOwnProperty(M)){var q=p[M];M==="children"?typeof q=="string"?i.textContent!==q&&(p.suppressHydrationWarning!==!0&&gi(i.textContent,q,e),c=["children",q]):typeof q=="number"&&i.textContent!==""+q&&(p.suppressHydrationWarning!==!0&&gi(i.textContent,q,e),c=["children",""+q]):f.hasOwnProperty(M)&&q!=null&&M==="onScroll"&&He("scroll",i)}switch(n){case"input":Y(i),he(i,p,!0);break;case"textarea":Y(i),Be(i);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(i.onclick=yi)}i=c,t.updateQueue=i,i!==null&&(t.flags|=4)}else{M=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=at(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=M.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=M.createElement(n,{is:i.is}):(e=M.createElement(n),n==="select"&&(M=e,i.multiple?M.multiple=!0:i.size&&(M.size=i.size))):e=M.createElementNS(e,n),e[Qt]=t,e[Ir]=i,zl(e,t,!1,!1),t.stateNode=e;e:{switch(M=Ae(n,i),n){case"dialog":He("cancel",e),He("close",e),c=i;break;case"iframe":case"object":case"embed":He("load",e),c=i;break;case"video":case"audio":for(c=0;c<Lr.length;c++)He(Lr[c],e);c=i;break;case"source":He("error",e),c=i;break;case"img":case"image":case"link":He("error",e),He("load",e),c=i;break;case"details":He("toggle",e),c=i;break;case"input":ae(e,i),c=_e(e,i),He("invalid",e);break;case"option":c=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=E({},i,{value:void 0}),He("invalid",e);break;case"textarea":De(e,i),c=Me(e,i),He("invalid",e);break;default:c=i}te(n,c),q=c;for(p in q)if(q.hasOwnProperty(p)){var J=q[p];p==="style"?xe(e,J):p==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&tt(e,J)):p==="children"?typeof J=="string"?(n!=="textarea"||J!=="")&&ct(e,J):typeof J=="number"&&ct(e,""+J):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(f.hasOwnProperty(p)?J!=null&&p==="onScroll"&&He("scroll",e):J!=null&&I(e,p,J,M))}switch(n){case"input":Y(e),he(e,i,!1);break;case"textarea":Y(e),Be(e);break;case"option":i.value!=null&&e.setAttribute("value",""+T(i.value));break;case"select":e.multiple=!!i.multiple,p=i.value,p!=null?ke(e,!!i.multiple,p,!1):i.defaultValue!=null&&ke(e,!!i.multiple,i.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=yi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Hl(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(m(166));if(n=Wn(zr.current),Wn(Zt.current),Ai(t)){if(i=t.stateNode,n=t.memoizedProps,i[Qt]=t,(p=i.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:gi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gi(i.nodeValue,n,(e.mode&1)!==0)}p&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Qt]=t,t.stateNode=i}return yt(t),null;case 13:if(We(Ge),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Go(),ur(),t.flags|=98560,p=!1;else if(p=Ai(t),i!==null&&i.dehydrated!==null){if(e===null){if(!p)throw Error(m(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(m(317));p[Qt]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),p=!1}else Ht!==null&&(Ca(Ht),Ht=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ge.current&1)!==0?st===0&&(st=3):Ta())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return fr(),ga(e,t),e===null&&Dr(t.stateNode.containerInfo),yt(t),null;case 10:return Ws(t.type._context),yt(t),null;case 17:return bt(t.type)&&xi(),yt(t),null;case 19:if(We(Ge),p=t.memoizedState,p===null)return yt(t),null;if(i=(t.flags&128)!==0,M=p.rendering,M===null)if(i)Gr(p,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(M=Ti(e),M!==null){for(t.flags|=128,Gr(p,!1),i=M.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)p=n,e=i,p.flags&=14680066,M=p.alternate,M===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=M.childLanes,p.lanes=M.lanes,p.child=M.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=M.memoizedProps,p.memoizedState=M.memoizedState,p.updateQueue=M.updateQueue,p.type=M.type,e=M.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Ge,Ge.current&1|2),t.child}e=e.sibling}p.tail!==null&&Ze()>yr&&(t.flags|=128,i=!0,Gr(p,!1),t.lanes=4194304)}else{if(!i)if(e=Ti(M),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gr(p,!0),p.tail===null&&p.tailMode==="hidden"&&!M.alternate&&!Ve)return yt(t),null}else 2*Ze()-p.renderingStartTime>yr&&n!==1073741824&&(t.flags|=128,i=!0,Gr(p,!1),t.lanes=4194304);p.isBackwards?(M.sibling=t.child,t.child=M):(n=p.last,n!==null?n.sibling=M:t.child=M,p.last=M)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=Ze(),t.sibling=null,n=Ge.current,$e(Ge,i?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return Pa(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(Ft&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(m(156,t.tag))}function $c(e,t){switch(Ns(t),t.tag){case 1:return bt(t.type)&&xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),We(Et),We(mt),Js(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ys(t),null;case 13:if(We(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(m(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ge),null;case 4:return fr(),null;case 10:return Ws(t.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var Bi=!1,vt=!1,Hc=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ye(e,t,i)}else n.current=null}function ya(e,t,n){try{n()}catch(i){Ye(e,t,i)}}var Wl=!1;function Wc(e,t){if(Ps=si,e=bo(),Es(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var c=i.anchorOffset,p=i.focusNode;i=i.focusOffset;try{n.nodeType,p.nodeType}catch{n=null;break e}var M=0,q=-1,J=-1,ue=0,ve=0,Ee=e,ye=null;t:for(;;){for(var we;Ee!==n||c!==0&&Ee.nodeType!==3||(q=M+c),Ee!==p||i!==0&&Ee.nodeType!==3||(J=M+i),Ee.nodeType===3&&(M+=Ee.nodeValue.length),(we=Ee.firstChild)!==null;)ye=Ee,Ee=we;for(;;){if(Ee===e)break t;if(ye===n&&++ue===c&&(q=M),ye===p&&++ve===i&&(J=M),(we=Ee.nextSibling)!==null)break;Ee=ye,ye=Ee.parentNode}Ee=we}n=q===-1||J===-1?null:{start:q,end:J}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ts={focusedElem:e,selectionRange:n},si=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var Re=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Pe=Re.memoizedProps,et=Re.memoizedState,re=t.stateNode,Z=re.getSnapshotBeforeUpdate(t.elementType===t.type?Pe:Wt(t.type,Pe),et);re.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var oe=t.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(m(163))}}catch(be){Ye(t,t.return,be)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return Re=Wl,Wl=!1,Re}function qr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&e)===e){var p=c.destroy;c.destroy=void 0,p!==void 0&&ya(t,n,p)}c=c.next}while(c!==i)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vl(e){var t=e.alternate;t!==null&&(e.alternate=null,Vl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Ir],delete t[Ds],delete t[kc],delete t[Cc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gl(e){return e.tag===5||e.tag===3||e.tag===4}function ql(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xa(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yi));else if(i!==4&&(e=e.child,e!==null))for(xa(e,t,n),e=e.sibling;e!==null;)xa(e,t,n),e=e.sibling}function _a(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(_a(e,t,n),e=e.sibling;e!==null;)_a(e,t,n),e=e.sibling}var ht=null,Vt=!1;function kn(e,t,n){for(n=n.child;n!==null;)Xl(e,t,n),n=n.sibling}function Xl(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Zr,n)}catch{}switch(n.tag){case 5:vt||mr(n,t);case 6:var i=ht,c=Vt;ht=null,kn(e,t,n),ht=i,Vt=c,ht!==null&&(Vt?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Vt?(e=ht,n=n.stateNode,e.nodeType===8?Ls(e.parentNode,n):e.nodeType===1&&Ls(e,n),wr(e)):Ls(ht,n.stateNode));break;case 4:i=ht,c=Vt,ht=n.stateNode.containerInfo,Vt=!0,kn(e,t,n),ht=i,Vt=c;break;case 0:case 11:case 14:case 15:if(!vt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){c=i=i.next;do{var p=c,M=p.destroy;p=p.tag,M!==void 0&&((p&2)!==0||(p&4)!==0)&&ya(n,t,M),c=c.next}while(c!==i)}kn(e,t,n);break;case 1:if(!vt&&(mr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(q){Ye(n,t,q)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(vt=(i=vt)||n.memoizedState!==null,kn(e,t,n),vt=i):kn(e,t,n);break;default:kn(e,t,n)}}function Yl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hc),t.forEach(function(i){var c=Zc.bind(null,e,i);n.has(i)||(n.add(i),i.then(c,c))})}}function Gt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];try{var p=e,M=t,q=M;e:for(;q!==null;){switch(q.tag){case 5:ht=q.stateNode,Vt=!1;break e;case 3:ht=q.stateNode.containerInfo,Vt=!0;break e;case 4:ht=q.stateNode.containerInfo,Vt=!0;break e}q=q.return}if(ht===null)throw Error(m(160));Xl(p,M,c),ht=null,Vt=!1;var J=c.alternate;J!==null&&(J.return=null),c.return=null}catch(ue){Ye(c,t,ue)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kl(t,e),t=t.sibling}function Kl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),tn(e),i&4){try{qr(3,e,e.return),Ui(3,e)}catch(Pe){Ye(e,e.return,Pe)}try{qr(5,e,e.return)}catch(Pe){Ye(e,e.return,Pe)}}break;case 1:Gt(t,e),tn(e),i&512&&n!==null&&mr(n,n.return);break;case 5:if(Gt(t,e),tn(e),i&512&&n!==null&&mr(n,n.return),e.flags&32){var c=e.stateNode;try{ct(c,"")}catch(Pe){Ye(e,e.return,Pe)}}if(i&4&&(c=e.stateNode,c!=null)){var p=e.memoizedProps,M=n!==null?n.memoizedProps:p,q=e.type,J=e.updateQueue;if(e.updateQueue=null,J!==null)try{q==="input"&&p.type==="radio"&&p.name!=null&&se(c,p),Ae(q,M);var ue=Ae(q,p);for(M=0;M<J.length;M+=2){var ve=J[M],Ee=J[M+1];ve==="style"?xe(c,Ee):ve==="dangerouslySetInnerHTML"?tt(c,Ee):ve==="children"?ct(c,Ee):I(c,ve,Ee,ue)}switch(q){case"input":de(c,p);break;case"textarea":Ie(c,p);break;case"select":var ye=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!p.multiple;var we=p.value;we!=null?ke(c,!!p.multiple,we,!1):ye!==!!p.multiple&&(p.defaultValue!=null?ke(c,!!p.multiple,p.defaultValue,!0):ke(c,!!p.multiple,p.multiple?[]:"",!1))}c[Ir]=p}catch(Pe){Ye(e,e.return,Pe)}}break;case 6:if(Gt(t,e),tn(e),i&4){if(e.stateNode===null)throw Error(m(162));c=e.stateNode,p=e.memoizedProps;try{c.nodeValue=p}catch(Pe){Ye(e,e.return,Pe)}}break;case 3:if(Gt(t,e),tn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(t.containerInfo)}catch(Pe){Ye(e,e.return,Pe)}break;case 4:Gt(t,e),tn(e);break;case 13:Gt(t,e),tn(e),c=e.child,c.flags&8192&&(p=c.memoizedState!==null,c.stateNode.isHidden=p,!p||c.alternate!==null&&c.alternate.memoizedState!==null||(Sa=Ze())),i&4&&Yl(e);break;case 22:if(ve=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(ue=vt)||ve,Gt(t,e),vt=ue):Gt(t,e),tn(e),i&8192){if(ue=e.memoizedState!==null,(e.stateNode.isHidden=ue)&&!ve&&(e.mode&1)!==0)for(Ce=e,ve=e.child;ve!==null;){for(Ee=Ce=ve;Ce!==null;){switch(ye=Ce,we=ye.child,ye.tag){case 0:case 11:case 14:case 15:qr(4,ye,ye.return);break;case 1:mr(ye,ye.return);var Re=ye.stateNode;if(typeof Re.componentWillUnmount=="function"){i=ye,n=ye.return;try{t=i,Re.props=t.memoizedProps,Re.state=t.memoizedState,Re.componentWillUnmount()}catch(Pe){Ye(i,n,Pe)}}break;case 5:mr(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Zl(Ee);continue}}we!==null?(we.return=ye,Ce=we):Zl(Ee)}ve=ve.sibling}e:for(ve=null,Ee=e;;){if(Ee.tag===5){if(ve===null){ve=Ee;try{c=Ee.stateNode,ue?(p=c.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(q=Ee.stateNode,J=Ee.memoizedProps.style,M=J!=null&&J.hasOwnProperty("display")?J.display:null,q.style.display=Bt("display",M))}catch(Pe){Ye(e,e.return,Pe)}}}else if(Ee.tag===6){if(ve===null)try{Ee.stateNode.nodeValue=ue?"":Ee.memoizedProps}catch(Pe){Ye(e,e.return,Pe)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===e)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===e)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===e)break e;ve===Ee&&(ve=null),Ee=Ee.return}ve===Ee&&(ve=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Gt(t,e),tn(e),i&4&&Yl(e);break;case 21:break;default:Gt(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gl(n)){var i=n;break e}n=n.return}throw Error(m(160))}switch(i.tag){case 5:var c=i.stateNode;i.flags&32&&(ct(c,""),i.flags&=-33);var p=ql(e);_a(e,p,c);break;case 3:case 4:var M=i.stateNode.containerInfo,q=ql(e);xa(e,q,M);break;default:throw Error(m(161))}}catch(J){Ye(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vc(e,t,n){Ce=e,Jl(e)}function Jl(e,t,n){for(var i=(e.mode&1)!==0;Ce!==null;){var c=Ce,p=c.child;if(c.tag===22&&i){var M=c.memoizedState!==null||Bi;if(!M){var q=c.alternate,J=q!==null&&q.memoizedState!==null||vt;q=Bi;var ue=vt;if(Bi=M,(vt=J)&&!ue)for(Ce=c;Ce!==null;)M=Ce,J=M.child,M.tag===22&&M.memoizedState!==null?eu(c):J!==null?(J.return=M,Ce=J):eu(c);for(;p!==null;)Ce=p,Jl(p),p=p.sibling;Ce=c,Bi=q,vt=ue}Ql(e)}else(c.subtreeFlags&8772)!==0&&p!==null?(p.return=c,Ce=p):Ql(e)}}function Ql(e){for(;Ce!==null;){var t=Ce;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||Ui(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!vt)if(n===null)i.componentDidMount();else{var c=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);i.componentDidUpdate(c,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&Zo(t,p,i);break;case 3:var M=t.updateQueue;if(M!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zo(t,M,n)}break;case 5:var q=t.stateNode;if(n===null&&t.flags&4){n=q;var J=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&n.focus();break;case"img":J.src&&(n.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ue=t.alternate;if(ue!==null){var ve=ue.memoizedState;if(ve!==null){var Ee=ve.dehydrated;Ee!==null&&wr(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(m(163))}vt||t.flags&512&&va(t)}catch(ye){Ye(t,t.return,ye)}}if(t===e){Ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function Zl(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function eu(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ui(4,t)}catch(J){Ye(t,n,J)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var c=t.return;try{i.componentDidMount()}catch(J){Ye(t,c,J)}}var p=t.return;try{va(t)}catch(J){Ye(t,p,J)}break;case 5:var M=t.return;try{va(t)}catch(J){Ye(t,M,J)}}}catch(J){Ye(t,t.return,J)}if(t===e){Ce=null;break}var q=t.sibling;if(q!==null){q.return=t.return,Ce=q;break}Ce=t.return}}var Gc=Math.ceil,zi=j.ReactCurrentDispatcher,Ea=j.ReactCurrentOwner,Ot=j.ReactCurrentBatchConfig,Ne=0,lt=null,nt=null,ft=0,Ft=0,gr=En(0),st=0,Xr=null,Gn=0,$i=0,ba=0,Yr=null,At=null,Sa=0,yr=1/0,hn=null,Hi=!1,Aa=null,Cn=null,Wi=!1,Rn=null,Vi=0,Kr=0,wa=null,Gi=-1,qi=0;function _t(){return(Ne&6)!==0?Ze():Gi!==-1?Gi:Gi=Ze()}function Pn(e){return(e.mode&1)===0?1:(Ne&2)!==0&&ft!==0?ft&-ft:Pc.transition!==null?(qi===0&&(qi=Ga()),qi):(e=ze,e!==0||(e=window.event,e=e===void 0?16:to(e.type)),e)}function qt(e,t,n,i){if(50<Kr)throw Kr=0,wa=null,Error(m(185));_r(e,n,i),((Ne&2)===0||e!==lt)&&(e===lt&&((Ne&2)===0&&($i|=n),st===4&&Tn(e,ft)),wt(e,i),n===1&&Ne===0&&(t.mode&1)===0&&(yr=Ze()+500,Ei&&Sn()))}function wt(e,t){var n=e.callbackNode;Pu(e,t);var i=ni(e,e===lt?ft:0);if(i===0)n!==null&&Ha(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Ha(n),t===1)e.tag===0?Rc(nu.bind(null,e)):zo(nu.bind(null,e)),Ac(function(){(Ne&6)===0&&Sn()}),n=null;else{switch(qa(i)){case 1:n=is;break;case 4:n=Wa;break;case 16:n=Qr;break;case 536870912:n=Va;break;default:n=Qr}n=cu(n,tu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tu(e,t){if(Gi=-1,qi=0,(Ne&6)!==0)throw Error(m(327));var n=e.callbackNode;if(vr()&&e.callbackNode!==n)return null;var i=ni(e,e===lt?ft:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Xi(e,i);else{t=i;var c=Ne;Ne|=2;var p=iu();(lt!==e||ft!==t)&&(hn=null,yr=Ze()+500,Xn(e,t));do try{Yc();break}catch(q){ru(e,q)}while(!0);Hs(),zi.current=p,Ne=c,nt!==null?t=0:(lt=null,ft=0,t=st)}if(t!==0){if(t===2&&(c=ss(e),c!==0&&(i=c,t=ka(e,c))),t===1)throw n=Xr,Xn(e,0),Tn(e,i),wt(e,Ze()),n;if(t===6)Tn(e,i);else{if(c=e.current.alternate,(i&30)===0&&!qc(c)&&(t=Xi(e,i),t===2&&(p=ss(e),p!==0&&(i=p,t=ka(e,p))),t===1))throw n=Xr,Xn(e,0),Tn(e,i),wt(e,Ze()),n;switch(e.finishedWork=c,e.finishedLanes=i,t){case 0:case 1:throw Error(m(345));case 2:Yn(e,At,hn);break;case 3:if(Tn(e,i),(i&130023424)===i&&(t=Sa+500-Ze(),10<t)){if(ni(e,0)!==0)break;if(c=e.suspendedLanes,(c&i)!==i){_t(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Fs(Yn.bind(null,e,At,hn),t);break}Yn(e,At,hn);break;case 4:if(Tn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,c=-1;0<i;){var M=31-zt(i);p=1<<M,M=t[M],M>c&&(c=M),i&=~p}if(i=c,i=Ze()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Gc(i/1960))-i,10<i){e.timeoutHandle=Fs(Yn.bind(null,e,At,hn),i);break}Yn(e,At,hn);break;case 5:Yn(e,At,hn);break;default:throw Error(m(329))}}}return wt(e,Ze()),e.callbackNode===n?tu.bind(null,e):null}function ka(e,t){var n=Yr;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=Xi(e,t),e!==2&&(t=At,At=n,t!==null&&Ca(t)),e}function Ca(e){At===null?At=e:At.push.apply(At,e)}function qc(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var c=n[i],p=c.getSnapshot;c=c.value;try{if(!$t(p(),c))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~ba,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),i=1<<n;e[n]=-1,t&=~i}}function nu(e){if((Ne&6)!==0)throw Error(m(327));vr();var t=ni(e,0);if((t&1)===0)return wt(e,Ze()),null;var n=Xi(e,t);if(e.tag!==0&&n===2){var i=ss(e);i!==0&&(t=i,n=ka(e,i))}if(n===1)throw n=Xr,Xn(e,0),Tn(e,t),wt(e,Ze()),n;if(n===6)throw Error(m(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,At,hn),wt(e,Ze()),null}function Ra(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(yr=Ze()+500,Ei&&Sn())}}function qn(e){Rn!==null&&Rn.tag===0&&(Ne&6)===0&&vr();var t=Ne;Ne|=1;var n=Ot.transition,i=ze;try{if(Ot.transition=null,ze=1,e)return e()}finally{ze=i,Ot.transition=n,Ne=t,(Ne&6)===0&&Sn()}}function Pa(){Ft=gr.current,We(gr)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sc(n)),nt!==null)for(n=nt.return;n!==null;){var i=n;switch(Ns(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xi();break;case 3:fr(),We(Et),We(mt),Js();break;case 5:Ys(i);break;case 4:fr();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:Ws(i.type._context);break;case 22:case 23:Pa()}n=n.return}if(lt=e,nt=e=Mn(e.current,null),ft=Ft=t,st=0,Xr=null,ba=$i=Gn=0,At=Yr=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],i=n.interleaved,i!==null){n.interleaved=null;var c=i.next,p=n.pending;if(p!==null){var M=p.next;p.next=c,i.next=M}n.pending=i}Hn=null}return e}function ru(e,t){do{var n=nt;try{if(Hs(),Mi.current=ji,Fi){for(var i=qe.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}Fi=!1}if(Vn=0,ot=it=qe=null,$r=!1,Hr=0,Ea.current=null,n===null||n.return===null){st=1,Xr=t,nt=null;break}e:{var p=e,M=n.return,q=n,J=t;if(t=ft,q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ue=J,ve=q,Ee=ve.tag;if((ve.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var we=Rl(M);if(we!==null){we.flags&=-257,Pl(we,M,q,p,t),we.mode&1&&Cl(p,ue,t),t=we,J=ue;var Re=t.updateQueue;if(Re===null){var Pe=new Set;Pe.add(J),t.updateQueue=Pe}else Re.add(J);break e}else{if((t&1)===0){Cl(p,ue,t),Ta();break e}J=Error(m(426))}}else if(Ve&&q.mode&1){var et=Rl(M);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Pl(et,M,q,p,t),zs(pr(J,q));break e}}p=J=pr(J,q),st!==4&&(st=2),Yr===null?Yr=[p]:Yr.push(p),p=M;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var re=wl(p,J,t);Qo(p,re);break e;case 1:q=J;var Z=p.type,oe=p.stateNode;if((p.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Cn===null||!Cn.has(oe)))){p.flags|=65536,t&=-t,p.lanes|=t;var be=kl(p,q,t);Qo(p,be);break e}}p=p.return}while(p!==null)}au(n)}catch(Te){t=Te,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function iu(){var e=zi.current;return zi.current=ji,e===null?ji:e}function Ta(){(st===0||st===3||st===2)&&(st=4),lt===null||(Gn&268435455)===0&&($i&268435455)===0||Tn(lt,ft)}function Xi(e,t){var n=Ne;Ne|=2;var i=iu();(lt!==e||ft!==t)&&(hn=null,Xn(e,t));do try{Xc();break}catch(c){ru(e,c)}while(!0);if(Hs(),Ne=n,zi.current=i,nt!==null)throw Error(m(261));return lt=null,ft=0,st}function Xc(){for(;nt!==null;)su(nt)}function Yc(){for(;nt!==null&&!_u();)su(nt)}function su(e){var t=uu(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?au(e):nt=t,Ea.current=null}function au(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zc(n,t,Ft),n!==null){nt=n;return}}else{if(n=$c(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,nt=null;return}}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);st===0&&(st=5)}function Yn(e,t,n){var i=ze,c=Ot.transition;try{Ot.transition=null,ze=1,Kc(e,t,n,i)}finally{Ot.transition=c,ze=i}return null}function Kc(e,t,n,i){do vr();while(Rn!==null);if((Ne&6)!==0)throw Error(m(327));n=e.finishedWork;var c=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(m(177));e.callbackNode=null,e.callbackPriority=0;var p=n.lanes|n.childLanes;if(Tu(e,p),e===lt&&(nt=lt=null,ft=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Wi||(Wi=!0,cu(Qr,function(){return vr(),null})),p=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||p){p=Ot.transition,Ot.transition=null;var M=ze;ze=1;var q=Ne;Ne|=4,Ea.current=null,Wc(e,n),Kl(n,e),gc(Ts),si=!!Ps,Ts=Ps=null,e.current=n,Vc(n),Eu(),Ne=q,ze=M,Ot.transition=p}else e.current=n;if(Wi&&(Wi=!1,Rn=e,Vi=c),p=e.pendingLanes,p===0&&(Cn=null),Au(n.stateNode),wt(e,Ze()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)c=t[n],i(c.value,{componentStack:c.stack,digest:c.digest});if(Hi)throw Hi=!1,e=Aa,Aa=null,e;return(Vi&1)!==0&&e.tag!==0&&vr(),p=e.pendingLanes,(p&1)!==0?e===wa?Kr++:(Kr=0,wa=e):Kr=0,Sn(),null}function vr(){if(Rn!==null){var e=qa(Vi),t=Ot.transition,n=ze;try{if(Ot.transition=null,ze=16>e?16:e,Rn===null)var i=!1;else{if(e=Rn,Rn=null,Vi=0,(Ne&6)!==0)throw Error(m(331));var c=Ne;for(Ne|=4,Ce=e.current;Ce!==null;){var p=Ce,M=p.child;if((Ce.flags&16)!==0){var q=p.deletions;if(q!==null){for(var J=0;J<q.length;J++){var ue=q[J];for(Ce=ue;Ce!==null;){var ve=Ce;switch(ve.tag){case 0:case 11:case 15:qr(8,ve,p)}var Ee=ve.child;if(Ee!==null)Ee.return=ve,Ce=Ee;else for(;Ce!==null;){ve=Ce;var ye=ve.sibling,we=ve.return;if(Vl(ve),ve===ue){Ce=null;break}if(ye!==null){ye.return=we,Ce=ye;break}Ce=we}}}var Re=p.alternate;if(Re!==null){var Pe=Re.child;if(Pe!==null){Re.child=null;do{var et=Pe.sibling;Pe.sibling=null,Pe=et}while(Pe!==null)}}Ce=p}}if((p.subtreeFlags&2064)!==0&&M!==null)M.return=p,Ce=M;else e:for(;Ce!==null;){if(p=Ce,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:qr(9,p,p.return)}var re=p.sibling;if(re!==null){re.return=p.return,Ce=re;break e}Ce=p.return}}var Z=e.current;for(Ce=Z;Ce!==null;){M=Ce;var oe=M.child;if((M.subtreeFlags&2064)!==0&&oe!==null)oe.return=M,Ce=oe;else e:for(M=Z;Ce!==null;){if(q=Ce,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Ui(9,q)}}catch(Te){Ye(q,q.return,Te)}if(q===M){Ce=null;break e}var be=q.sibling;if(be!==null){be.return=q.return,Ce=be;break e}Ce=q.return}}if(Ne=c,Sn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Zr,e)}catch{}i=!0}return i}finally{ze=n,Ot.transition=t}}return!1}function ou(e,t,n){t=pr(n,t),t=wl(e,t,1),e=wn(e,t,1),t=_t(),e!==null&&(_r(e,1,t),wt(e,t))}function Ye(e,t,n){if(e.tag===3)ou(e,e,n);else for(;t!==null;){if(t.tag===3){ou(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cn===null||!Cn.has(i))){e=pr(n,e),e=kl(t,e,1),t=wn(t,e,1),e=_t(),t!==null&&(_r(t,1,e),wt(t,e));break}}t=t.return}}function Jc(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(ft&n)===n&&(st===4||st===3&&(ft&130023424)===ft&&500>Ze()-Sa?Xn(e,0):ba|=n),wt(e,t)}function lu(e,t){t===0&&((e.mode&1)===0?t=1:(t=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var n=_t();e=un(e,t),e!==null&&(_r(e,t,n),wt(e,n))}function Qc(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lu(e,n)}function Zc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(m(314))}i!==null&&i.delete(t),lu(e,n)}var uu;uu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)St=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return St=!1,Uc(e,t,n);St=(e.flags&131072)!==0}else St=!1,Ve&&(t.flags&1048576)!==0&&$o(t,Si,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ni(e,t),e=t.pendingProps;var c=ar(t,mt.current);hr(t,n),c=ea(null,t,i,e,c,n);var p=ta();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(i)?(p=!0,_i(t)):p=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,qs(t),c.updater=Ii,t.stateNode=c,c._reactInternals=t,oa(t,i,e,n),t=da(null,t,i,!0,p,n)):(t.tag=0,Ve&&p&&Os(t),xt(null,t,c,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ni(e,t),e=t.pendingProps,c=i._init,i=c(i._payload),t.type=i,c=t.tag=td(i),e=Wt(i,e),c){case 0:t=ca(null,t,i,e,n);break e;case 1:t=jl(null,t,i,e,n);break e;case 11:t=Tl(null,t,i,e,n);break e;case 14:t=Ml(null,t,i,Wt(i.type,e),n);break e}throw Error(m(306,i,""))}return t;case 0:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Wt(i,c),ca(e,t,i,c,n);case 1:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Wt(i,c),jl(e,t,i,c,n);case 3:e:{if(Il(t),e===null)throw Error(m(387));i=t.pendingProps,p=t.memoizedState,c=p.element,Jo(e,t),Pi(t,i,null,n);var M=t.memoizedState;if(i=M.element,p.isDehydrated)if(p={element:i,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){c=pr(Error(m(423)),t),t=Ol(e,t,i,n,c);break e}else if(i!==c){c=pr(Error(m(424)),t),t=Ol(e,t,i,n,c);break e}else for(Mt=_n(t.stateNode.containerInfo.firstChild),Tt=t,Ve=!0,Ht=null,n=Yo(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),i===c){t=dn(e,t,n);break e}xt(e,t,i,n)}t=t.child}return t;case 5:return el(t),e===null&&Us(t),i=t.type,c=t.pendingProps,p=e!==null?e.memoizedProps:null,M=c.children,Ms(i,c)?M=null:p!==null&&Ms(i,p)&&(t.flags|=32),Dl(e,t),xt(e,t,M,n),t.child;case 6:return e===null&&Us(t),null;case 13:return Nl(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=cr(t,null,i,n):xt(e,t,i,n),t.child;case 11:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Wt(i,c),Tl(e,t,i,c,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,c=t.pendingProps,p=t.memoizedProps,M=c.value,$e(ki,i._currentValue),i._currentValue=M,p!==null)if($t(p.value,M)){if(p.children===c.children&&!Et.current){t=dn(e,t,n);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var q=p.dependencies;if(q!==null){M=p.child;for(var J=q.firstContext;J!==null;){if(J.context===i){if(p.tag===1){J=cn(-1,n&-n),J.tag=2;var ue=p.updateQueue;if(ue!==null){ue=ue.shared;var ve=ue.pending;ve===null?J.next=J:(J.next=ve.next,ve.next=J),ue.pending=J}}p.lanes|=n,J=p.alternate,J!==null&&(J.lanes|=n),Vs(p.return,n,t),q.lanes|=n;break}J=J.next}}else if(p.tag===10)M=p.type===t.type?null:p.child;else if(p.tag===18){if(M=p.return,M===null)throw Error(m(341));M.lanes|=n,q=M.alternate,q!==null&&(q.lanes|=n),Vs(M,n,t),M=p.sibling}else M=p.child;if(M!==null)M.return=p;else for(M=p;M!==null;){if(M===t){M=null;break}if(p=M.sibling,p!==null){p.return=M.return,M=p;break}M=M.return}p=M}xt(e,t,c.children,n),t=t.child}return t;case 9:return c=t.type,i=t.pendingProps.children,hr(t,n),c=jt(c),i=i(c),t.flags|=1,xt(e,t,i,n),t.child;case 14:return i=t.type,c=Wt(i,t.pendingProps),c=Wt(i.type,c),Ml(e,t,i,c,n);case 15:return Fl(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Wt(i,c),Ni(e,t),t.tag=1,bt(i)?(e=!0,_i(t)):e=!1,hr(t,n),Sl(t,i,c),oa(t,i,c,n),da(null,t,i,!0,e,n);case 19:return Ul(e,t,n);case 22:return Ll(e,t,n)}throw Error(m(156,t.tag))};function cu(e,t){return $a(e,t)}function ed(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,i){return new ed(e,t,n,i)}function Ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function td(e){if(typeof e=="function")return Ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pe)return 11;if(e===ge)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yi(e,t,n,i,c,p){var M=2;if(i=e,typeof e=="function")Ma(e)&&(M=1);else if(typeof e=="string")M=5;else e:switch(e){case V:return Kn(n.children,c,p,t);case X:M=8,c|=8;break;case G:return e=Nt(12,n,t,c|2),e.elementType=G,e.lanes=p,e;case ce:return e=Nt(13,n,t,c),e.elementType=ce,e.lanes=p,e;case fe:return e=Nt(19,n,t,c),e.elementType=fe,e.lanes=p,e;case H:return Ki(n,c,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:M=10;break e;case Q:M=9;break e;case pe:M=11;break e;case ge:M=14;break e;case le:M=16,i=null;break e}throw Error(m(130,e==null?e:typeof e,""))}return t=Nt(M,n,t,c),t.elementType=e,t.type=i,t.lanes=p,t}function Kn(e,t,n,i){return e=Nt(7,e,i,t),e.lanes=n,e}function Ki(e,t,n,i){return e=Nt(22,e,i,t),e.elementType=H,e.lanes=n,e.stateNode={isHidden:!1},e}function Fa(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function La(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nd(e,t,n,i,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=i,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Da(e,t,n,i,c,p,M,q,J){return e=new nd(e,t,n,q,J),t===1?(t=1,p===!0&&(t|=8)):t=0,p=Nt(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qs(p),e}function rd(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function du(e){if(!e)return bn;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(m(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(m(171))}if(e.tag===1){var n=e.type;if(bt(n))return Bo(e,n,t)}return t}function hu(e,t,n,i,c,p,M,q,J){return e=Da(n,i,!0,e,c,p,M,q,J),e.context=du(null),n=e.current,i=_t(),c=Pn(n),p=cn(i,c),p.callback=t??null,wn(n,p,c),e.current.lanes=c,_r(e,c,i),wt(e,i),e}function Ji(e,t,n,i){var c=t.current,p=_t(),M=Pn(c);return n=du(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(p,M),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=wn(c,t,M),e!==null&&(qt(e,c,M,p),Ri(e,c,M)),M}function Qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ja(e,t){fu(e,t),(e=e.alternate)&&fu(e,t)}function id(){return null}var pu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ia(e){this._internalRoot=e}Zi.prototype.render=Ia.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(m(409));Ji(e,t,null,null)},Zi.prototype.unmount=Ia.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){Ji(null,e,null,null)}),t[sn]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ka();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yn.length&&t!==0&&t<yn[n].priority;n++);yn.splice(n,0,e),n===0&&Za(e)}};function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function es(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mu(){}function sd(e,t,n,i,c){if(c){if(typeof i=="function"){var p=i;i=function(){var ue=Qi(M);p.call(ue)}}var M=hu(t,i,e,0,null,!1,!1,"",mu);return e._reactRootContainer=M,e[sn]=M.current,Dr(e.nodeType===8?e.parentNode:e),qn(),M}for(;c=e.lastChild;)e.removeChild(c);if(typeof i=="function"){var q=i;i=function(){var ue=Qi(J);q.call(ue)}}var J=Da(e,0,!1,null,null,!1,!1,"",mu);return e._reactRootContainer=J,e[sn]=J.current,Dr(e.nodeType===8?e.parentNode:e),qn(function(){Ji(t,J,n,i)}),J}function ts(e,t,n,i,c){var p=n._reactRootContainer;if(p){var M=p;if(typeof c=="function"){var q=c;c=function(){var J=Qi(M);q.call(J)}}Ji(t,M,e,c)}else M=sd(n,t,e,c,i);return Qi(M)}Xa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xr(t.pendingLanes);n!==0&&(os(t,n|1),wt(t,Ze()),(Ne&6)===0&&(yr=Ze()+500,Sn()))}break;case 13:qn(function(){var i=un(e,1);if(i!==null){var c=_t();qt(i,e,1,c)}}),ja(e,1)}},ls=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=_t();qt(t,e,134217728,n)}ja(e,134217728)}},Ya=function(e){if(e.tag===13){var t=Pn(e),n=un(e,t);if(n!==null){var i=_t();qt(n,e,t,i)}ja(e,t)}},Ka=function(){return ze},Ja=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}},Qe=function(e,t,n){switch(t){case"input":if(de(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var c=vi(i);if(!c)throw Error(m(90));K(i),de(i,c)}}}break;case"textarea":Ie(e,n);break;case"select":t=n.value,t!=null&&ke(e,!!n.multiple,t,!1)}},Ut=Ra,Dn=qn;var ad={usingClientEntryPoint:!1,Events:[Or,ir,vi,dt,nn,Ra]},Jr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},od={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ua(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||id,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{Zr=ns.inject(od),Jt=ns}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ad,reactDom_production_min.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oa(t))throw Error(m(200));return rd(e,t,null,n)},reactDom_production_min.createRoot=function(e,t){if(!Oa(e))throw Error(m(299));var n=!1,i="",c=pu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Da(e,1,!1,null,null,n,!1,i,c),e[sn]=t.current,Dr(e.nodeType===8?e.parentNode:e),new Ia(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(m(188)):(e=Object.keys(e).join(","),Error(m(268,e)));return e=Ua(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return qn(e)},reactDom_production_min.hydrate=function(e,t,n){if(!es(t))throw Error(m(200));return ts(null,e,t,!0,n)},reactDom_production_min.hydrateRoot=function(e,t,n){if(!Oa(e))throw Error(m(405));var i=n!=null&&n.hydratedSources||null,c=!1,p="",M=pu;if(n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(p=n.identifierPrefix),n.onRecoverableError!==void 0&&(M=n.onRecoverableError)),t=hu(t,null,e,1,n??null,c,!1,p,M),e[sn]=t.current,Dr(e),i)for(e=0;e<i.length;e++)n=i[e],c=n._getVersion,c=c(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,c]:t.mutableSourceEagerHydrationData.push(n,c);return new Zi(t)},reactDom_production_min.render=function(e,t,n){if(!es(t))throw Error(m(200));return ts(null,e,t,!1,n)},reactDom_production_min.unmountComponentAtNode=function(e){if(!es(e))throw Error(m(40));return e._reactRootContainer?(qn(function(){ts(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Ra,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!es(n))throw Error(m(200));if(e==null||e._reactInternals===void 0)throw Error(m(38));return ts(e,t,n,!1,i)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(s){console.error(s)}}return v(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var v=requireReactDom();return client.createRoot=v.createRoot,client.hydrateRoot=v.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var __assign$1=function(){return(__assign$1=Object.assign||function(v){for(var s,m=1,o=arguments.length;m<o;m++)for(var f in s=arguments[m])Object.prototype.hasOwnProperty.call(s,f)&&(v[f]=s[f]);return v}).apply(this,arguments)},v2Promise,v3Promise,MathJaxBaseContext=reactExports.createContext(void 0),DEFAULT_V2_SRC="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",DEFAULT_V3_SRC="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",MathJaxContext=function(l){var s=l.config,m=l.version,m=m===void 0?3:m,o=l.src,o=o===void 0?m===2?DEFAULT_V2_SRC:DEFAULT_V3_SRC:o,f=l.onStartup,D=l.onLoad,O=l.asyncLoad,F=O!==void 0&&O,$=l.onError,O=l.typesettingOptions,d=l.renderMode,d=d===void 0?"post":d,a=l.hideUntilTypeset,l=l.children,h=reactExports.useContext(MathJaxBaseContext);if(h?.version!==void 0&&h?.version!==m)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(m===2&&v3Promise!==void 0||m===3&&v2Promise!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var b=reactExports.useRef(h),h=reactExports.useRef(h?.version||null);if(h.current===null)h.current=m;else if(h.current!==m)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var u=o||(m===2?DEFAULT_V2_SRC:DEFAULT_V3_SRC);function x(S,y){s&&(window.MathJax=s);var P=document.createElement("script");P.type="text/javascript",P.src=u,P.async=F,P.addEventListener("load",function(){var I=window.MathJax;f&&f(I),S(I),D&&D()}),P.addEventListener("error",function(I){return y(I)}),document.getElementsByTagName("head")[0].appendChild(P)}return b.current===void 0&&(h={typesettingOptions:O,renderMode:d,hideUntilTypeset:a},m===2?v2Promise===void 0&&(typeof window<"u"?(v2Promise=new Promise(x)).catch(function(S){if(!$)throw Error("Failed to download MathJax version 2 from '".concat(u,"' due to: ").concat(JSON.stringify(S)));$(S)}):(v2Promise=Promise.reject()).catch(function(S){})):v3Promise===void 0&&(typeof window<"u"?(v3Promise=new Promise(x)).catch(function(S){if(!$)throw Error("Failed to download MathJax version 3 from '".concat(u,"' due to: ").concat(S));$(S)}):(v3Promise=Promise.reject()).catch(function(S){})),b.current=__assign$1(__assign$1({},h),m===2?{version:2,promise:v2Promise}:{version:3,promise:v3Promise})),React.createElement(MathJaxBaseContext.Provider,{value:b.current},l)},__assign=function(){return(__assign=Object.assign||function(v){for(var s,m=1,o=arguments.length;m<o;m++)for(var f in s=arguments[m])Object.prototype.hasOwnProperty.call(s,f)&&(v[f]=s[f]);return v}).apply(this,arguments)},__rest$2=function(v,s){var m={};for(f in v)Object.prototype.hasOwnProperty.call(v,f)&&s.indexOf(f)<0&&(m[f]=v[f]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,f=Object.getOwnPropertySymbols(v);o<f.length;o++)s.indexOf(f[o])<0&&Object.prototype.propertyIsEnumerable.call(v,f[o])&&(m[f[o]]=v[f[o]]);return m},typesettingFailed=function(v){return"Typesetting failed: ".concat(v.message!==void 0?v.message:JSON.stringify(v))},MathJax=function(v){function s(){var w;x==="every"&&P&&S==="post"&&h.current!==null&&(h.current.style.visibility=(w=(w=l.style)==null?void 0:w.visibility)!=null?w:"visible"),I.current||(x==="first"&&h.current!==null&&(h.current.style.visibility="visible"),f&&f(),I.current=!0),D&&D(),j.current=!1}var o=v.inline,m=o!==void 0&&o,o=v.hideUntilTypeset,f=v.onInitTypeset,D=v.onTypeset,F=v.text,$=v.dynamic,O=v.typesettingOptions,d=v.renderMode,a=v.children,l=__rest$2(v,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),b=reactExports.useRef(""),h=reactExports.useRef(null),u=reactExports.useContext(MathJaxBaseContext),x=o??u?.hideUntilTypeset,S=d??u?.renderMode,y=O??u?.typesettingOptions,P=$!==!1&&($||!1),I=reactExports.useRef(!1),j=reactExports.useRef(!1);return!j.current&&h.current!==null&&P&&x==="every"&&S==="post"&&(h.current.style.visibility="hidden"),(typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect)(function(){if((P||!I.current)&&h.current!==null){if(!u)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(S==="pre"){if(!(typeof(w=F)=="string"&&0<w.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(F,'"'));if(!O||!O.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(u.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}S!=="post"&&F===b.current||j.current||(j.current=!0,u.version===3?u.promise.then(function(R){var V;S==="pre"?(V=function(X){b.current=F,R.startup.document.clear(),R.startup.document.updateDocument(),h.current!==null&&(h.current.innerHTML=X.outerHTML),s()},O.fn.endsWith("Promise")?R.startup.promise.then(function(){return R[y.fn](F,__assign(__assign({},y?.options||{}),{display:!m}))}).then(V).catch(function(X){throw s(),Error(typesettingFailed(X))}):R.startup.promise.then(function(){var X=R[y.fn](F,__assign(__assign({},y?.options||{}),{display:!m}));V(X)}).catch(function(X){throw s(),Error(typesettingFailed(X))})):R.startup.promise.then(function(){return R.typesetClear([h.current]),R.typesetPromise([h.current])}).then(s).catch(function(X){throw s(),Error(typesettingFailed(X))})}).catch(function(R){throw s(),Error(typesettingFailed(R))}):u.promise.then(function(R){R.Hub.Queue(["Typeset",R.Hub,h.current]),R.Hub.Queue(s)}).catch(function(R){throw s(),Error(typesettingFailed(R))}))}var w}),React.createElement("span",__assign({},l,{style:__assign(__assign({display:m?"inline":"block"},l.style),{visibility:x?"hidden":(v=l.style)==null?void 0:v.visibility}),ref:h}),a)};function commonjsRequire(v){throw new Error('Could not dynamically require "'+v+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(s,m){module.exports=s.pdfjsLib=m()})(globalThis,()=>(()=>{var __webpack_modules__=[,((v,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=A,s.bytesToString=Y,s.createValidAbsoluteUrl=_,s.getModificationDate=Ke,s.getUuid=Ln,s.getVerbosityLevel=ge,s.info=le,s.isArrayBuffer=Be,s.isArrayEqual=at,s.isNodeJS=void 0,s.normalizeUnicode=pt,s.objectFromMap=ae,s.objectSize=_e,s.setVerbosityLevel=fe,s.shadow=L,s.string32=ne,s.stringToBytes=K,s.stringToPDFString=Me,s.stringToUTF8String=De,s.unreachable=k,s.utf8StringToString=Ie,s.warn=H;const m=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=m;const o=[1,0,0,1,0,0];s.IDENTITY_MATRIX=o;const f=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=f;const D=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=D;const F=1.35;s.LINE_FACTOR=F;const $=.35;s.LINE_DESCENT_FACTOR=$;const O=$/F;s.BASELINE_FACTOR=O;const d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=d;const a={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=a;const l="pdfjs_internal_editor_";s.AnnotationEditorPrefix=l;const b={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=b;const h={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=h;const u={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=u;const x={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=x;const S={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=S;const y={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=y;const P={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=P;const I={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=I;const j={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=j;const w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=w;const R={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=R;const V={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=V;const X={O:"PageOpen",C:"PageClose"};s.PageActionEventType=X;const G={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=G;const ee={NONE:0,BINARY:1};s.CMapCompressionType=ee;const Q={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=Q;const pe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=pe;let ce=G.WARNINGS;function fe(xe){Number.isInteger(xe)&&(ce=xe)}function ge(){return ce}function le(xe){ce>=G.INFOS&&console.log(`Info: ${xe}`)}function H(xe){ce>=G.WARNINGS&&console.log(`Warning: ${xe}`)}function k(xe){throw new Error(xe)}function A(xe,ie){xe||k(ie)}function E(xe){switch(xe?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _(xe,ie=null,te=null){if(!xe)return null;try{if(te&&typeof xe=="string"&&(te.addDefaultProtocol&&xe.startsWith("www.")&&xe.match(/\./g)?.length>=2&&(xe=`http://${xe}`),te.tryConvertEncoding))try{xe=De(xe)}catch{}const Ae=ie?new URL(xe,ie):new URL(xe);if(E(Ae))return Ae}catch{}return null}function L(xe,ie,te,Ae=!1){return Object.defineProperty(xe,ie,{value:te,enumerable:!Ae,configurable:!0,writable:!1}),te}const U=(function(){function ie(te,Ae){this.constructor===ie&&k("Cannot initialize BaseException."),this.message=te,this.name=Ae}return ie.prototype=new Error,ie.constructor=ie,ie})();s.BaseException=U;class W extends U{constructor(ie,te){super(ie,"PasswordException"),this.code=te}}s.PasswordException=W;class N extends U{constructor(ie,te){super(ie,"UnknownErrorException"),this.details=te}}s.UnknownErrorException=N;class g extends U{constructor(ie){super(ie,"InvalidPDFException")}}s.InvalidPDFException=g;class C extends U{constructor(ie){super(ie,"MissingPDFException")}}s.MissingPDFException=C;class T extends U{constructor(ie,te){super(ie,"UnexpectedResponseException"),this.status=te}}s.UnexpectedResponseException=T;class B extends U{constructor(ie){super(ie,"FormatError")}}s.FormatError=B;class z extends U{constructor(ie){super(ie,"AbortException")}}s.AbortException=z;function Y(xe){(typeof xe!="object"||xe?.length===void 0)&&k("Invalid argument for bytesToString");const ie=xe.length,te=8192;if(ie<te)return String.fromCharCode.apply(null,xe);const Ae=[];for(let Oe=0;Oe<ie;Oe+=te){const Je=Math.min(Oe+te,ie),Qe=xe.subarray(Oe,Je);Ae.push(String.fromCharCode.apply(null,Qe))}return Ae.join("")}function K(xe){typeof xe!="string"&&k("Invalid argument for stringToBytes");const ie=xe.length,te=new Uint8Array(ie);for(let Ae=0;Ae<ie;++Ae)te[Ae]=xe.charCodeAt(Ae)&255;return te}function ne(xe){return String.fromCharCode(xe>>24&255,xe>>16&255,xe>>8&255,xe&255)}function _e(xe){return Object.keys(xe).length}function ae(xe){const ie=Object.create(null);for(const[te,Ae]of xe)ie[te]=Ae;return ie}function se(){const xe=new Uint8Array(4);return xe[0]=1,new Uint32Array(xe.buffer,0,1)[0]===1}function de(){try{return new Function(""),!0}catch{return!1}}class he{static get isLittleEndian(){return L(this,"isLittleEndian",se())}static get isEvalSupported(){return L(this,"isEvalSupported",de())}static get isOffscreenCanvasSupported(){return L(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?L(this,"platform",{isWin:!1,isMac:!1}):L(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return L(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}s.FeatureTest=he;const me=[...Array(256).keys()].map(xe=>xe.toString(16).padStart(2,"0"));class Se{static makeHexColor(ie,te,Ae){return`#${me[ie]}${me[te]}${me[Ae]}`}static scaleMinMax(ie,te){let Ae;ie[0]?(ie[0]<0&&(Ae=te[0],te[0]=te[1],te[1]=Ae),te[0]*=ie[0],te[1]*=ie[0],ie[3]<0&&(Ae=te[2],te[2]=te[3],te[3]=Ae),te[2]*=ie[3],te[3]*=ie[3]):(Ae=te[0],te[0]=te[2],te[2]=Ae,Ae=te[1],te[1]=te[3],te[3]=Ae,ie[1]<0&&(Ae=te[2],te[2]=te[3],te[3]=Ae),te[2]*=ie[1],te[3]*=ie[1],ie[2]<0&&(Ae=te[0],te[0]=te[1],te[1]=Ae),te[0]*=ie[2],te[1]*=ie[2]),te[0]+=ie[4],te[1]+=ie[4],te[2]+=ie[5],te[3]+=ie[5]}static transform(ie,te){return[ie[0]*te[0]+ie[2]*te[1],ie[1]*te[0]+ie[3]*te[1],ie[0]*te[2]+ie[2]*te[3],ie[1]*te[2]+ie[3]*te[3],ie[0]*te[4]+ie[2]*te[5]+ie[4],ie[1]*te[4]+ie[3]*te[5]+ie[5]]}static applyTransform(ie,te){const Ae=ie[0]*te[0]+ie[1]*te[2]+te[4],Oe=ie[0]*te[1]+ie[1]*te[3]+te[5];return[Ae,Oe]}static applyInverseTransform(ie,te){const Ae=te[0]*te[3]-te[1]*te[2],Oe=(ie[0]*te[3]-ie[1]*te[2]+te[2]*te[5]-te[4]*te[3])/Ae,Je=(-ie[0]*te[1]+ie[1]*te[0]+te[4]*te[1]-te[5]*te[0])/Ae;return[Oe,Je]}static getAxialAlignedBoundingBox(ie,te){const Ae=this.applyTransform(ie,te),Oe=this.applyTransform(ie.slice(2,4),te),Je=this.applyTransform([ie[0],ie[3]],te),Qe=this.applyTransform([ie[2],ie[1]],te);return[Math.min(Ae[0],Oe[0],Je[0],Qe[0]),Math.min(Ae[1],Oe[1],Je[1],Qe[1]),Math.max(Ae[0],Oe[0],Je[0],Qe[0]),Math.max(Ae[1],Oe[1],Je[1],Qe[1])]}static inverseTransform(ie){const te=ie[0]*ie[3]-ie[1]*ie[2];return[ie[3]/te,-ie[1]/te,-ie[2]/te,ie[0]/te,(ie[2]*ie[5]-ie[4]*ie[3])/te,(ie[4]*ie[1]-ie[5]*ie[0])/te]}static singularValueDecompose2dScale(ie){const te=[ie[0],ie[2],ie[1],ie[3]],Ae=ie[0]*te[0]+ie[1]*te[2],Oe=ie[0]*te[1]+ie[1]*te[3],Je=ie[2]*te[0]+ie[3]*te[2],Qe=ie[2]*te[1]+ie[3]*te[3],Ct=(Ae+Qe)/2,Rt=Math.sqrt((Ae+Qe)**2-4*(Ae*Qe-Je*Oe))/2,Xt=Ct+Rt||1,dt=Ct-Rt||1;return[Math.sqrt(Xt),Math.sqrt(dt)]}static normalizeRect(ie){const te=ie.slice(0);return ie[0]>ie[2]&&(te[0]=ie[2],te[2]=ie[0]),ie[1]>ie[3]&&(te[1]=ie[3],te[3]=ie[1]),te}static intersect(ie,te){const Ae=Math.max(Math.min(ie[0],ie[2]),Math.min(te[0],te[2])),Oe=Math.min(Math.max(ie[0],ie[2]),Math.max(te[0],te[2]));if(Ae>Oe)return null;const Je=Math.max(Math.min(ie[1],ie[3]),Math.min(te[1],te[3])),Qe=Math.min(Math.max(ie[1],ie[3]),Math.max(te[1],te[3]));return Je>Qe?null:[Ae,Je,Oe,Qe]}static bezierBoundingBox(ie,te,Ae,Oe,Je,Qe,Ct,Rt){const Xt=[],dt=[[],[]];let nn,Ut,Dn,Xe,jn,Yt,In,rn;for(let fn=0;fn<2;++fn){if(fn===0?(Ut=6*ie-12*Ae+6*Je,nn=-3*ie+9*Ae-9*Je+3*Ct,Dn=3*Ae-3*ie):(Ut=6*te-12*Oe+6*Qe,nn=-3*te+9*Oe-9*Qe+3*Rt,Dn=3*Oe-3*te),Math.abs(nn)<1e-12){if(Math.abs(Ut)<1e-12)continue;Xe=-Dn/Ut,0<Xe&&Xe<1&&Xt.push(Xe);continue}In=Ut*Ut-4*Dn*nn,rn=Math.sqrt(In),!(In<0)&&(jn=(-Ut+rn)/(2*nn),0<jn&&jn<1&&Xt.push(jn),Yt=(-Ut-rn)/(2*nn),0<Yt&&Yt<1&&Xt.push(Yt))}let On=Xt.length,rt;const Kt=On;for(;On--;)Xe=Xt[On],rt=1-Xe,dt[0][On]=rt*rt*rt*ie+3*rt*rt*Xe*Ae+3*rt*Xe*Xe*Je+Xe*Xe*Xe*Ct,dt[1][On]=rt*rt*rt*te+3*rt*rt*Xe*Oe+3*rt*Xe*Xe*Qe+Xe*Xe*Xe*Rt;return dt[0][Kt]=ie,dt[1][Kt]=te,dt[0][Kt+1]=Ct,dt[1][Kt+1]=Rt,dt[0].length=dt[1].length=Kt+2,[Math.min(...dt[0]),Math.min(...dt[1]),Math.max(...dt[0]),Math.max(...dt[1])]}}s.Util=Se;const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Me(xe){if(xe[0]>="ï"){let te;if(xe[0]==="þ"&&xe[1]==="ÿ"?te="utf-16be":xe[0]==="ÿ"&&xe[1]==="þ"?te="utf-16le":xe[0]==="ï"&&xe[1]==="»"&&xe[2]==="¿"&&(te="utf-8"),te)try{const Ae=new TextDecoder(te,{fatal:!0}),Oe=K(xe);return Ae.decode(Oe)}catch(Ae){H(`stringToPDFString: "${Ae}".`)}}const ie=[];for(let te=0,Ae=xe.length;te<Ae;te++){const Oe=ke[xe.charCodeAt(te)];ie.push(Oe?String.fromCharCode(Oe):xe.charAt(te))}return ie.join("")}function De(xe){return decodeURIComponent(escape(xe))}function Ie(xe){return unescape(encodeURIComponent(xe))}function Be(xe){return typeof xe=="object"&&xe?.byteLength!==void 0}function at(xe,ie){if(xe.length!==ie.length)return!1;for(let te=0,Ae=xe.length;te<Ae;te++)if(xe[te]!==ie[te])return!1;return!0}function Ke(xe=new Date){return[xe.getUTCFullYear().toString(),(xe.getUTCMonth()+1).toString().padStart(2,"0"),xe.getUTCDate().toString().padStart(2,"0"),xe.getUTCHours().toString().padStart(2,"0"),xe.getUTCMinutes().toString().padStart(2,"0"),xe.getUTCSeconds().toString().padStart(2,"0")].join("")}class kt{#e=!1;constructor(){this.promise=new Promise((ie,te)=>{this.resolve=Ae=>{this.#e=!0,ie(Ae)},this.reject=Ae=>{this.#e=!0,te(Ae)}})}get settled(){return this.#e}}s.PromiseCapability=kt;let tt=null,ct=null;function pt(xe){return tt||(tt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ct=new Map([["ﬅ","ſt"]])),xe.replaceAll(tt,(ie,te,Ae)=>te?te.normalize("NFKC"):ct.get(Ae))}function Ln(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const xe=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(xe);else for(let ie=0;ie<32;ie++)xe[ie]=Math.floor(Math.random()*255);return Y(xe)}const Bt="pdfjs_internal_id_";s.AnnotationPrefix=Bt}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(v){if(typeof v=="string"||v instanceof URL?v={url:v}:(0,_util.isArrayBuffer)(v)&&(v={data:v}),typeof v!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!v.url&&!v.data&&!v.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const s=new PDFDocumentLoadingTask,{docId:m}=s,o=v.url?getUrlProp(v.url):null,f=v.data?getDataProp(v.data):null,D=v.httpHeaders||null,F=v.withCredentials===!0,$=v.password??null,O=v.range instanceof PDFDataRangeTransport?v.range:null,d=Number.isInteger(v.rangeChunkSize)&&v.rangeChunkSize>0?v.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let a=v.worker instanceof PDFWorker?v.worker:null;const l=v.verbosity,b=typeof v.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(v.docBaseUrl)?v.docBaseUrl:null,h=typeof v.cMapUrl=="string"?v.cMapUrl:null,u=v.cMapPacked!==!1,x=v.CMapReaderFactory||DefaultCMapReaderFactory,S=typeof v.standardFontDataUrl=="string"?v.standardFontDataUrl:null,y=v.StandardFontDataFactory||DefaultStandardFontDataFactory,P=v.stopAtErrors!==!0,I=Number.isInteger(v.maxImageSize)&&v.maxImageSize>-1?v.maxImageSize:-1,j=v.isEvalSupported!==!1,w=typeof v.isOffscreenCanvasSupported=="boolean"?v.isOffscreenCanvasSupported:!_util.isNodeJS,R=Number.isInteger(v.canvasMaxAreaInBytes)?v.canvasMaxAreaInBytes:-1,V=typeof v.disableFontFace=="boolean"?v.disableFontFace:_util.isNodeJS,X=v.fontExtraProperties===!0,G=v.enableXfa===!0,ee=v.ownerDocument||globalThis.document,Q=v.disableRange===!0,pe=v.disableStream===!0,ce=v.disableAutoFetch===!0,fe=v.pdfBug===!0,ge=O?O.length:v.length??NaN,le=typeof v.useSystemFonts=="boolean"?v.useSystemFonts:!_util.isNodeJS&&!V,H=typeof v.useWorkerFetch=="boolean"?v.useWorkerFetch:x===_display_utils.DOMCMapReaderFactory&&y===_display_utils.DOMStandardFontDataFactory&&h&&S&&(0,_display_utils.isValidFetchUrl)(h,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(S,document.baseURI),k=v.canvasFactory||new DefaultCanvasFactory({ownerDocument:ee}),A=v.filterFactory||new DefaultFilterFactory({docId:m,ownerDocument:ee}),E=null;(0,_util.setVerbosityLevel)(l);const _={canvasFactory:k,filterFactory:A};if(H||(_.cMapReaderFactory=new x({baseUrl:h,isCompressed:u}),_.standardFontDataFactory=new y({baseUrl:S})),!a){const W={verbosity:l,port:_worker_options.GlobalWorkerOptions.workerPort};a=W.port?PDFWorker.fromPort(W):new PDFWorker(W),s._worker=a}const L={docId:m,apiVersion:"3.11.174",data:f,password:$,disableAutoFetch:ce,rangeChunkSize:d,length:ge,docBaseUrl:b,enableXfa:G,evaluatorOptions:{maxImageSize:I,disableFontFace:V,ignoreErrors:P,isEvalSupported:j,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:R,fontExtraProperties:X,useSystemFonts:le,cMapUrl:H?h:null,standardFontDataUrl:H?S:null}},U={ignoreErrors:P,isEvalSupported:j,disableFontFace:V,fontExtraProperties:X,enableXfa:G,ownerDocument:ee,disableAutoFetch:ce,pdfBug:fe,styleElement:E};return a.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const W=_fetchDocument(a,L),N=new Promise(function(g){let C;O?C=new _transport_stream.PDFDataTransportStream({length:ge,initialData:O.initialData,progressiveDone:O.progressiveDone,contentDispositionFilename:O.contentDispositionFilename,disableRange:Q,disableStream:pe},O):f||(C=(B=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(B):(0,_display_utils.isValidFetchUrl)(B.url)?new _displayFetch_stream.PDFFetchStream(B):new _displayNetwork.PDFNetworkStream(B))({url:o,length:ge,httpHeaders:D,withCredentials:F,rangeChunkSize:d,disableRange:Q,disableStream:pe})),g(C)});return Promise.all([W,N]).then(function([g,C]){if(s.destroyed)throw new Error("Loading aborted");const T=new _message_handler.MessageHandler(m,g,a.port),B=new WorkerTransport(T,s,C,U,_);s._transport=B,T.send("Ready",null)})}).catch(s._capability.reject),s}async function _fetchDocument(v,s){if(v.destroyed)throw new Error("Worker was destroyed");const m=await v.messageHandler.sendWithPromise("GetDocRequest",s,s.data?[s.data.buffer]:null);if(v.destroyed)throw new Error("Worker was destroyed");return m}function getUrlProp(v){if(v instanceof URL)return v.href;try{return new URL(v,window.location).href}catch{if(_util.isNodeJS&&typeof v=="string")return v}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(v){if(_util.isNodeJS&&typeof Buffer<"u"&&v instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(v instanceof Uint8Array&&v.byteLength===v.buffer.byteLength)return v;if(typeof v=="string")return(0,_util.stringToBytes)(v);if(typeof v=="object"&&!isNaN(v?.length)||(0,_util.isArrayBuffer)(v))return new Uint8Array(v);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(s){throw this._worker?.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,m,o=!1,f=null){this.length=s,this.initialData=m,this.progressiveDone=o,this.contentDispositionFilename=f,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,m){for(const o of this._rangeListeners)o(s,m)}onDataProgress(s,m){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(s,m)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const m of this._progressiveReadListeners)m(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,m){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,m){this._pdfInfo=s,this._transport=m,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(o=>{if(!o)return o;const f=[];for(const D in o)f.push(...o[D]);return f}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(s,m,o,f=!1){this._pageIndex=s,this._pageInfo=m,this._transport=o,this._stats=f?new _display_utils.StatTimer:null,this._pdfBug=f,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:m=this.rotate,offsetX:o=0,offsetY:f=0,dontFlip:D=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:m,offsetX:o,offsetY:f,dontFlip:D})}getAnnotations({intent:s="display"}={}){const m=this._transport.getRenderingIntent(s);return this._transport.getAnnotations(this._pageIndex,m.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:s,viewport:m,intent:o="display",annotationMode:f=_util.AnnotationMode.ENABLE,transform:D=null,background:F=null,optionalContentConfigPromise:$=null,annotationCanvasMap:O=null,pageColors:d=null,printAnnotationStorage:a=null}){this._stats?.time("Overall");const l=this._transport.getRenderingIntent(o,f,a);this.#t=!1,this.#r(),$||($=this._transport.getOptionalContentConfig());let b=this._intentStates.get(l.cacheKey);b||(b=Object.create(null),this._intentStates.set(l.cacheKey,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const h=!!(l.renderingIntent&_util.RenderingIntentFlag.PRINT);b.displayReadyCapability||(b.displayReadyCapability=new _util.PromiseCapability,b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l));const u=y=>{b.renderTasks.delete(x),(this._maybeCleanupAfterRender||h)&&(this.#t=!0),this.#n(!h),y?(x.capability.reject(y),this._abortOperatorList({intentState:b,reason:y instanceof Error?y:new Error(y)})):x.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},x=new InternalRenderTask({callback:u,params:{canvasContext:s,viewport:m,transform:D,background:F},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:O,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!h,pdfBug:this._pdfBug,pageColors:d});(b.renderTasks||=new Set).add(x);const S=x.task;return Promise.all([b.displayReadyCapability.promise,$]).then(([y,P])=>{if(this.destroyed){u();return}this._stats?.time("Rendering"),x.initializeGraphics({transparency:y,optionalContentConfig:P}),x.operatorListChanged()}).catch(u),S}getOperatorList({intent:s="display",annotationMode:m=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}={}){function f(){F.operatorList.lastChunk&&(F.opListReadCapability.resolve(F.operatorList),F.renderTasks.delete($))}const D=this._transport.getRenderingIntent(s,m,o,!0);let F=this._intentStates.get(D.cacheKey);F||(F=Object.create(null),this._intentStates.set(D.cacheKey,F));let $;return F.opListReadCapability||($=Object.create(null),$.operatorListChanged=f,F.opListReadCapability=new _util.PromiseCapability,(F.renderTasks||=new Set).add($),F.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(D)),F.opListReadCapability.promise}streamTextContent({includeMarkedContent:s=!1,disableNormalization:m=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:s===!0,disableNormalization:m===!0},{highWaterMark:100,size(f){return f.items.length}})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const m=this.streamTextContent(s);return new Promise(function(o,f){function D(){F.read().then(function({value:O,done:d}){if(d){o($);return}Object.assign($.styles,O.styles),$.items.push(...O.items),D()},f)}const F=m.getReader(),$={items:[],styles:Object.create(null)};D()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const s=[];for(const m of this._intentStates.values())if(this._abortOperatorList({intentState:m,reason:new Error("Page was destroyed."),force:!0}),!m.opListReadCapability)for(const o of m.renderTasks)s.push(o.completed),o.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(s)}cleanup(s=!1){this.#t=!0;const m=this.#n(!1);return s&&m&&(this._stats&&=new _display_utils.StatTimer),m}#n(s=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(s)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:m,operatorList:o}of this._intentStates.values())if(m.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(s,m){const o=this._intentStates.get(m);o&&(this._stats?.timeEnd("Page Request"),o.displayReadyCapability?.resolve(s))}_renderPageChunk(s,m){for(let o=0,f=s.length;o<f;o++)m.operatorList.fnArray.push(s.fnArray[o]),m.operatorList.argsArray.push(s.argsArray[o]);m.operatorList.lastChunk=s.lastChunk,m.operatorList.separateAnnots=s.separateAnnots;for(const o of m.renderTasks)o.operatorListChanged();s.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:s,cacheKey:m,annotationStorageSerializable:o}){const{map:f,transfers:D}=o,$=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:m,annotationStorage:f},D).getReader(),O=this._intentStates.get(m);O.streamReader=$;const d=()=>{$.read().then(({value:a,done:l})=>{if(l){O.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(a,O),d())},a=>{if(O.streamReader=null,!this._transport.destroyed){if(O.operatorList){O.operatorList.lastChunk=!0;for(const l of O.renderTasks)l.operatorListChanged();this.#n(!0)}if(O.displayReadyCapability)O.displayReadyCapability.reject(a);else if(O.opListReadCapability)O.opListReadCapability.reject(a);else throw a}})};d()}_abortOperatorList({intentState:s,reason:m,force:o=!1}){if(s.streamReader){if(s.streamReaderCancelTimeout&&(clearTimeout(s.streamReaderCancelTimeout),s.streamReaderCancelTimeout=null),!o){if(s.renderTasks.size>0)return;if(m instanceof _display_utils.RenderingCancelledException){let f=RENDERING_CANCELLED_TIMEOUT;m.extraDelay>0&&m.extraDelay<1e3&&(f+=m.extraDelay),s.streamReaderCancelTimeout=setTimeout(()=>{s.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:s,reason:m,force:!0})},f);return}}if(s.streamReader.cancel(new _util.AbortException(m.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[f,D]of this._intentStates)if(D===s){this._intentStates.delete(f);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(s,m){const o={data:structuredClone(s,m?{transfer:m}:null)};this.#t.then(()=>{for(const f of this.#e)f.call(this,o)})}addEventListener(s,m){this.#e.add(m)}removeEventListener(s,m){this.#e.delete(m)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const v=document?.currentScript?.src;v&&(PDFWorkerUtil.fallbackWorkerSrc=v.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(v,s){let m;try{if(m=new URL(v),!m.origin||m.origin==="null")return!1}catch{return!1}const o=new URL(s,m);return m.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(v){const s=`importScripts("${v}");`;return URL.createObjectURL(new Blob([s]))}}class PDFWorker{static#workerPorts;constructor({name:v=null,port:s=null,verbosity:m=(0,_util.getVerbosityLevel)()}={}){if(this.name=v,this.destroyed=!1,this.verbosity=m,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,s){if(PDFWorker.#workerPorts?.has(s))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(v){this._port=v,this._messageHandler=new _message_handler.MessageHandler("main","worker",v),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:v}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,v)||(v=PDFWorkerUtil.createCDNWrapper(new URL(v,window.location).href));const s=new Worker(v),m=new _message_handler.MessageHandler("main","worker",s),o=()=>{s.removeEventListener("error",f),m.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},f=()=>{this._webWorker||o()};s.addEventListener("error",f),m.on("test",F=>{if(s.removeEventListener("error",f),this.destroyed){o();return}F?(this._messageHandler=m,this._port=s,this._webWorker=s,this._readyCapability.resolve(),m.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),m.destroy(),s.terminate())}),m.on("ready",F=>{if(s.removeEventListener("error",f),this.destroyed){o();return}try{D()}catch{this._setupFakeWorker()}});const D=()=>{const F=new Uint8Array;m.send("test",F,[F.buffer])};D();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(v=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const m=`fake${PDFWorkerUtil.fakeWorkerId++}`,o=new _message_handler.MessageHandler(m+"_worker",m,s);v.setup(o,s);const f=new _message_handler.MessageHandler(m,m+"_worker",s);this._messageHandler=f,this._readyCapability.resolve(),f.send("configure",{verbosity:this.verbosity})}).catch(v=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${v.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(v){if(!v?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const s=this.#workerPorts?.get(v.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new PDFWorker(v)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(s,m,o,f,D){this.messageHandler=s,this.loadingTask=m,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:f.ownerDocument,styleElement:f.styleElement}),this._params=f,this.canvasFactory=D.canvasFactory,this.filterFactory=D.filterFactory,this.cMapReaderFactory=D.cMapReaderFactory,this.standardFontDataFactory=D.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(s,m=null){const o=this.#e.get(s);if(o)return o;const f=this.messageHandler.sendWithPromise(s,m);return this.#e.set(s,f),f}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(s,m=_util.AnnotationMode.ENABLE,o=null,f=!1){let D=_util.RenderingIntentFlag.DISPLAY,F=_annotation_storage.SerializableEmpty;switch(s){case"any":D=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":D=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(m){case _util.AnnotationMode.DISABLE:D+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:D+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:D+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,F=(D&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${m}`)}return f&&(D+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:D,cacheKey:`${D}_${F.hash}`,annotationStorageSerializable:F}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const o of this.#t.values())s.push(o._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const m=this.messageHandler.sendWithPromise("Terminate",null);return s.push(m),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:m}=this;s.on("GetReader",(o,f)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=D=>{this._lastProgress={loaded:D.loaded,total:D.total}},f.onPull=()=>{this._fullReader.read().then(function({value:D,done:F}){if(F){f.close();return}(0,_util.assert)(D instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),f.enqueue(new Uint8Array(D),1,[D])}).catch(D=>{f.error(D)})},f.onCancel=D=>{this._fullReader.cancel(D),f.ready.catch(F=>{if(!this.destroyed)throw F})}}),s.on("ReaderHeadersReady",o=>{const f=new _util.PromiseCapability,D=this._fullReader;return D.headersReady.then(()=>{(!D.isStreamingSupported||!D.isRangeSupported)&&(this._lastProgress&&m.onProgress?.(this._lastProgress),D.onProgress=F=>{m.onProgress?.({loaded:F.loaded,total:F.total})}),f.resolve({isStreamingSupported:D.isStreamingSupported,isRangeSupported:D.isRangeSupported,contentLength:D.contentLength})},f.reject),f.promise}),s.on("GetRangeReader",(o,f)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const D=this._networkStream.getRangeReader(o.begin,o.end);if(!D){f.close();return}f.onPull=()=>{D.read().then(function({value:F,done:$}){if($){f.close();return}(0,_util.assert)(F instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),f.enqueue(new Uint8Array(F),1,[F])}).catch(F=>{f.error(F)})},f.onCancel=F=>{D.cancel(F),f.ready.catch($=>{if(!this.destroyed)throw $})}}),s.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,m._capability.resolve(new PDFDocumentProxy(o,this))}),s.on("DocException",function(o){let f;switch(o.name){case"PasswordException":f=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":f=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":f=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":f=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":f=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}m._capability.reject(f)}),s.on("PasswordRequest",o=>{if(this.#r=new _util.PromiseCapability,m.onPassword){const f=D=>{D instanceof Error?this.#r.reject(D):this.#r.resolve({password:D})};try{m.onPassword(f,o.code)}catch(D){this.#r.reject(D)}}else this.#r.reject(new _util.PasswordException(o.message,o.code));return this.#r.promise}),s.on("DataLoaded",o=>{m.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),s.on("StartRenderPage",o=>{if(this.destroyed)return;this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),s.on("commonobj",([o,f,D])=>{if(!this.destroyed&&!this.commonObjs.has(o))switch(f){case"Font":const F=this._params;if("error"in D){const d=D.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(o,d);break}const $=F.pdfBug&&globalThis.FontInspector?.enabled?(d,a)=>globalThis.FontInspector.fontAdded(d,a):null,O=new _font_loader.FontFaceObject(D,{isEvalSupported:F.isEvalSupported,disableFontFace:F.disableFontFace,ignoreErrors:F.ignoreErrors,inspectFont:$});this.fontLoader.bind(O).catch(d=>s.sendWithPromise("FontFallback",{id:o})).finally(()=>{!F.fontExtraProperties&&O.data&&(O.data=null),this.commonObjs.resolve(o,O)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,D);break;default:throw new Error(`Got unknown common object type ${f}`)}}),s.on("obj",([o,f,D,F])=>{if(this.destroyed)return;const $=this.#t.get(f);if(!$.objs.has(o))switch(D){case"Image":if($.objs.resolve(o,F),F){let O;if(F.bitmap){const{width:d,height:a}=F;O=d*a*4}else O=F.data?.length||0;O>_util.MAX_IMAGE_SIZE_TO_CACHE&&($._maybeCleanupAfterRender=!0)}break;case"Pattern":$.objs.resolve(o,F);break;default:throw new Error(`Got unknown object type ${D}`)}}),s.on("DocProgress",o=>{this.destroyed||m.onProgress?.({loaded:o.loaded,total:o.total})}),s.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:s,transfers:m}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:s,filename:this._fullReader?.filename??null},m).finally(()=>{this.annotationStorage.resetModified()})}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const m=s-1,o=this.#n.get(m);if(o)return o;const f=this.messageHandler.sendWithPromise("GetPage",{pageIndex:m}).then(D=>{if(this.destroyed)throw new Error("Transport destroyed");const F=new PDFPageProxy(m,D,this,this._params.pdfBug);return this.#t.set(m,F),F});return this.#n.set(m,f),f}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,m){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:m})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const s="GetMetadata",m=this.#e.get(s);if(m)return m;const o=this.messageHandler.sendWithPromise(s,null).then(f=>({info:f[0],metadata:f[1]?new _metadata.Metadata(f[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(s,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(s=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const m of this.#t.values())if(!m.cleanup())throw new Error(`startCleanup: Page ${m.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:s,enableXfa:m}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s,enableXfa:m})}}class PDFObjects{#e=Object.create(null);#t(s){return this.#e[s]||={capability:new _util.PromiseCapability,data:null}}get(s,m=null){if(m){const f=this.#t(s);return f.capability.promise.then(()=>m(f.data)),null}const o=this.#e[s];if(!o?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${s}.`);return o.data}has(s){return this.#e[s]?.capability.settled||!1}resolve(s,m=null){const o=this.#t(s);o.data=m,o.capability.resolve()}clear(){for(const s in this.#e){const{data:m}=this.#e[s];m?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(s){this.#e=s,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(s=0){this.#e.cancel(null,s)}get separateAnnots(){const{separateAnnots:s}=this.#e.operatorList;if(!s)return!1;const{annotationCanvasMap:m}=this.#e;return s.form||s.canvas&&m?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:s,params:m,objs:o,commonObjs:f,annotationCanvasMap:D,operatorList:F,pageIndex:$,canvasFactory:O,filterFactory:d,useRequestAnimationFrame:a=!1,pdfBug:l=!1,pageColors:b=null}){this.callback=s,this.params=m,this.objs=o,this.commonObjs=f,this.annotationCanvasMap=D,this.operatorListIdx=null,this.operatorList=F,this._pageIndex=$,this.canvasFactory=O,this.filterFactory=d,this._pdfBug=l,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=a===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=m.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:m}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:f,transform:D,background:F}=this.params;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:m},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:D,viewport:f,transparency:s,background:F}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(s=null,m=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,m))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var o=m(1),f=m(4),D=m(8);const F=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=F;class ${#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(a,l){const b=this.#t.get(a);return b===void 0?l:Object.assign(l,b)}getRawValue(a){return this.#t.get(a)}remove(a){if(this.#t.delete(a),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const l of this.#t.values())if(l instanceof f.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(a,l){const b=this.#t.get(a);let h=!1;if(b!==void 0)for(const[u,x]of Object.entries(l))b[u]!==x&&(h=!0,b[u]=x);else h=!0,this.#t.set(a,l);h&&this.#n(),l instanceof f.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(l.constructor._type)}has(a){return this.#t.has(a)}getAll(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}setAll(a){for(const[l,b]of Object.entries(a))this.setValue(l,b)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new O(this)}get serializable(){if(this.#t.size===0)return F;const a=new Map,l=new D.MurmurHash3_64,b=[],h=Object.create(null);let u=!1;for(const[x,S]of this.#t){const y=S instanceof f.AnnotationEditor?S.serialize(!1,h):S;y&&(a.set(x,y),l.update(`${x}:${JSON.stringify(y)}`),u||=!!y.bitmap)}if(u)for(const x of a.values())x.bitmap&&b.push(x.bitmap);return a.size>0?{map:a,hash:l.hexdigest(),transfers:b}:F}}s.AnnotationStorage=$;class O extends ${#e;constructor(a){super();const{map:l,hash:b,transfers:h}=a.serializable,u=structuredClone(l,h?{transfer:h}:null);this.#e={map:u,hash:b,transfers:h}}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}s.PrintAnnotationStorage=O}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var o=m(5),f=m(1),D=m(6);class F{#e="";#t=!1;#n=null;#r=null;#o=null;#a=!1;#s=null;#l=this.focusin.bind(this);#u=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=F._zIndex++;static _borderLineWidth=-1;static _colorManager=new o.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===F&&(0,f.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;const{rotation:a,rawDims:{pageWidth:l,pageHeight:b,pageX:h,pageY:u}}=this.parent.viewport;this.rotation=a,this.pageRotation=(360+a-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[l,b],this.pageTranslation=[h,u];const[x,S]=this.parentDimensions;this.x=d.x/x,this.y=d.y/S,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,f.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){const a=new $({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});a.annotationElementId=d.annotationElementId,a.deleted=!0,a._uiManager.addToAnnotationStorage(a)}static initialize(d,a=null){if(F._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(b=>[b,d.get(b)])),a?.strings)for(const b of a.strings)F._l10nPromise.set(b,d.get(b));if(F._borderLineWidth!==-1)return;const l=getComputedStyle(document.documentElement);F._borderLineWidth=parseFloat(l.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,a){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,a){(0,f.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(d){this.#h=d,this.div?.classList.toggle("draggable",d)}center(){const[d,a]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*a/(d*2),this.y+=this.width*d/(a*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*a/(d*2),this.y-=this.width*d/(a*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,a,l,b){const[h,u]=this.parentDimensions;[l,b]=this.screenToPageTranslation(l,b),this.x=(d+l)/h,this.y=(a+b)/u,this.fixAndSetPosition()}#y([d,a],l,b){[l,b]=this.screenToPageTranslation(l,b),this.x+=l/d,this.y+=b/a,this.fixAndSetPosition()}translate(d,a){this.#y(this.parentDimensions,d,a)}translateInPage(d,a){this.#y(this.pageDimensions,d,a),this.div.scrollIntoView({block:"nearest"})}drag(d,a){const[l,b]=this.parentDimensions;if(this.x+=d/l,this.y+=a/b,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:P}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,P)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:h,y:u}=this;const[x,S]=this.#g();h+=x,u+=S,this.div.style.left=`${(100*h).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[d,a]=this.parentDimensions,{_borderLineWidth:l}=F,b=l/d,h=l/a;switch(this.rotation){case 90:return[-b,h];case 180:return[b,h];case 270:return[b,-h];default:return[-b,-h]}}fixAndSetPosition(){const[d,a]=this.pageDimensions;let{x:l,y:b,width:h,height:u}=this;switch(h*=d,u*=a,l*=d,b*=a,this.rotation){case 0:l=Math.max(0,Math.min(d-h,l)),b=Math.max(0,Math.min(a-u,b));break;case 90:l=Math.max(0,Math.min(d-u,l)),b=Math.min(a,Math.max(h,b));break;case 180:l=Math.min(d,Math.max(h,l)),b=Math.min(a,Math.max(u,b));break;case 270:l=Math.min(d,Math.max(u,l)),b=Math.max(0,Math.min(a-h,b));break}this.x=l/=d,this.y=b/=a;const[x,S]=this.#g();l+=x,b+=S;const{style:y}=this.div;y.left=`${(100*l).toFixed(2)}%`,y.top=`${(100*b).toFixed(2)}%`,this.moveInDOM()}static#m(d,a,l){switch(l){case 90:return[a,-d];case 180:return[-d,-a];case 270:return[-a,d];default:return[d,a]}}screenToPageTranslation(d,a){return F.#m(d,a,this.parentRotation)}pageTranslationToScreen(d,a){return F.#m(d,a,360-this.parentRotation)}#c(d){switch(d){case 90:{const[a,l]=this.pageDimensions;return[0,-a/l,l/a,0]}case 180:return[-1,0,0,-1];case 270:{const[a,l]=this.pageDimensions;return[0,a/l,-l/a,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:d,pageDimensions:[a,l]}=this,b=a*d,h=l*d;return f.FeatureTest.isCSSRoundSupported?[Math.round(b),Math.round(h)]:[b,h]}setDims(d,a){const[l,b]=this.parentDimensions;this.div.style.width=`${(100*d/l).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*a/b).toFixed(2)}%`),this.#n?.classList.toggle("small",d<F.SMALL_EDITOR_SIZE||a<F.SMALL_EDITOR_SIZE)}fixDims(){const{style:d}=this.div,{height:a,width:l}=d,b=l.endsWith("%"),h=!this.#a&&a.endsWith("%");if(b&&h)return;const[u,x]=this.parentDimensions;b||(d.width=`${(100*parseFloat(l)/u).toFixed(2)}%`),!this.#a&&!h&&(d.height=`${(100*parseFloat(a)/x).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const a of d){const l=document.createElement("div");this.#s.append(l),l.classList.add("resizer",a),l.addEventListener("pointerdown",this.#S.bind(this,a)),l.addEventListener("contextmenu",D.noContextMenu)}this.div.prepend(this.#s)}#S(d,a){a.preventDefault();const{isMac:l}=f.FeatureTest.platform;if(a.button!==0||a.ctrlKey&&l)return;const b=this.#b.bind(this,d),h=this._isDraggable;this._isDraggable=!1;const u={passive:!0,capture:!0};window.addEventListener("pointermove",b,u);const x=this.x,S=this.y,y=this.width,P=this.height,I=this.parent.div.style.cursor,j=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(a.target).cursor;const w=()=>{this._isDraggable=h,window.removeEventListener("pointerup",w),window.removeEventListener("blur",w),window.removeEventListener("pointermove",b,u),this.parent.div.style.cursor=I,this.div.style.cursor=j;const R=this.x,V=this.y,X=this.width,G=this.height;R===x&&V===S&&X===y&&G===P||this.addCommands({cmd:()=>{this.width=X,this.height=G,this.x=R,this.y=V;const[ee,Q]=this.parentDimensions;this.setDims(ee*X,Q*G),this.fixAndSetPosition()},undo:()=>{this.width=y,this.height=P,this.x=x,this.y=S;const[ee,Q]=this.parentDimensions;this.setDims(ee*y,Q*P),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",w),window.addEventListener("blur",w)}#b(d,a){const[l,b]=this.parentDimensions,h=this.x,u=this.y,x=this.width,S=this.height,y=F.MIN_SIZE/l,P=F.MIN_SIZE/b,I=N=>Math.round(N*1e4)/1e4,j=this.#c(this.rotation),w=(N,g)=>[j[0]*N+j[2]*g,j[1]*N+j[3]*g],R=this.#c(360-this.rotation),V=(N,g)=>[R[0]*N+R[2]*g,R[1]*N+R[3]*g];let X,G,ee=!1,Q=!1;switch(d){case"topLeft":ee=!0,X=(N,g)=>[0,0],G=(N,g)=>[N,g];break;case"topMiddle":X=(N,g)=>[N/2,0],G=(N,g)=>[N/2,g];break;case"topRight":ee=!0,X=(N,g)=>[N,0],G=(N,g)=>[0,g];break;case"middleRight":Q=!0,X=(N,g)=>[N,g/2],G=(N,g)=>[0,g/2];break;case"bottomRight":ee=!0,X=(N,g)=>[N,g],G=(N,g)=>[0,0];break;case"bottomMiddle":X=(N,g)=>[N/2,g],G=(N,g)=>[N/2,0];break;case"bottomLeft":ee=!0,X=(N,g)=>[0,g],G=(N,g)=>[N,0];break;case"middleLeft":Q=!0,X=(N,g)=>[0,g/2],G=(N,g)=>[N,g/2];break}const pe=X(x,S),ce=G(x,S);let fe=w(...ce);const ge=I(h+fe[0]),le=I(u+fe[1]);let H=1,k=1,[A,E]=this.screenToPageTranslation(a.movementX,a.movementY);if([A,E]=V(A/l,E/b),ee){const N=Math.hypot(x,S);H=k=Math.max(Math.min(Math.hypot(ce[0]-pe[0]-A,ce[1]-pe[1]-E)/N,1/x,1/S),y/x,P/S)}else Q?H=Math.max(y,Math.min(1,Math.abs(ce[0]-pe[0]-A)))/x:k=Math.max(P,Math.min(1,Math.abs(ce[1]-pe[1]-E)))/S;const _=I(x*H),L=I(S*k);fe=w(...G(_,L));const U=ge-fe[0],W=le-fe[1];this.width=_,this.height=L,this.x=U,this.y=W,this.setDims(l*_,b*L),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const d=this.#n=document.createElement("button");d.className="altText";const a=await F._l10nPromise.get("editor_alt_text_button_label");d.textContent=a,d.setAttribute("aria-label",a),d.tabIndex="0",d.addEventListener("contextmenu",D.noContextMenu),d.addEventListener("pointerdown",l=>l.stopPropagation()),d.addEventListener("click",l=>{l.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",l=>{l.target===d&&l.key==="Enter"&&(l.preventDefault(),this._uiManager.editAltText(this))}),this.#k(),this.div.append(d),F.SMALL_EDITOR_SIZE||(F.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))}async#k(){const d=this.#n;if(!d)return;if(!this.#e&&!this.#t){d.classList.remove("done"),this.#r?.remove();return}F._l10nPromise.get("editor_alt_text_edit_button_label").then(l=>{d.setAttribute("aria-label",l)});let a=this.#r;if(!a){this.#r=a=document.createElement("span"),a.className="tooltip",a.setAttribute("role","tooltip");const l=a.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",l);const b=100;d.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},b)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#r?.classList.remove("show")})}d.classList.add("done"),a.innerText=this.#t?await F._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,a.parentNode||d.append(a)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:d,decorative:a}){this.#e===d&&this.#t===a||(this.#e=d,this.#t=a,this.#k())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#u);const[d,a]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*a/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/a).toFixed(2)}%`);const[l,b]=this.getInitialTranslation();return this.translate(l,b),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){const{isMac:a}=f.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&a){d.preventDefault();return}this.#i=!0,this.#R(d)}#R(d){if(!this._isDraggable)return;const a=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let l,b;a&&(l={passive:!0,capture:!0},b=u=>{const[x,S]=this.screenToPageTranslation(u.movementX,u.movementY);this._uiManager.dragSelectedEditors(x,S)},window.addEventListener("pointermove",b,l));const h=()=>{if(window.removeEventListener("pointerup",h),window.removeEventListener("blur",h),a&&window.removeEventListener("pointermove",b,l),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:u}=f.FeatureTest.platform;d.ctrlKey&&!u||d.shiftKey||d.metaKey&&u?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",h),window.addEventListener("blur",h)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,a,l){d.changeParent(this),this.x=a,this.y=l,this.fixAndSetPosition()}getRect(d,a){const l=this.parentScale,[b,h]=this.pageDimensions,[u,x]=this.pageTranslation,S=d/l,y=a/l,P=this.x*b,I=this.y*h,j=this.width*b,w=this.height*h;switch(this.rotation){case 0:return[P+S+u,h-I-y-w+x,P+S+j+u,h-I-y+x];case 90:return[P+y+u,h-I+S+x,P+y+w+u,h-I+S+j+x];case 180:return[P-S-j+u,h-I+y+x,P-S+u,h-I+y+w+x];case 270:return[P-y-w+u,h-I-S-j+x,P-y+u,h-I-S+x];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,a){const[l,b,h,u]=d,x=h-l,S=u-b;switch(this.rotation){case 0:return[l,a-u,x,S];case 90:return[l,a-b,S,x];case 180:return[h,a-b,x,S];case 270:return[h,a-u,S,x];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#u)}serialize(d=!1,a=null){(0,f.unreachable)("An editor must be serializable")}static deserialize(d,a,l){const b=new this.prototype.constructor({parent:a,id:a.getNextId(),uiManager:l});b.rotation=d.rotation;const[h,u]=b.pageDimensions,[x,S,y,P]=b.getRectInCurrentCoords(d.rect,u);return b.x=x/h,b.y=S/u,b.width=y/h,b.height=P/u,b}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#u),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,a){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(d){this.#f=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,a){this.#a=!0;const l=d/a,{style:b}=this.div;b.aspectRatio=l,b.height="auto"}static get MIN_SIZE(){return 16}}s.AnnotationEditor=F;class $ extends F{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=D,s.opacityToHex=F;var o=m(1),f=m(6);function D(h,u,x){for(const S of x)u.addEventListener(S,h[S].bind(h))}function F(h){return Math.round(Math.min(255,Math.max(1,255*h))).toString(16).padStart(2,"0")}class ${#e=0;getId(){return`${o.AnnotationEditorPrefix}${this.#e++}`}}class O{#e=(0,o.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const u='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',S=new OffscreenCanvas(1,3).getContext("2d"),y=new Image;y.src=u;const P=y.decode().then(()=>(S.drawImage(y,0,0,1,1,0,0,1,3),new Uint32Array(S.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",P)}async#r(u,x){this.#n||=new Map;let S=this.#n.get(u);if(S===null)return null;if(S?.bitmap)return S.refCounter+=1,S;try{S||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let y;if(typeof x=="string"){S.url=x;const P=await fetch(x);if(!P.ok)throw new Error(P.statusText);y=await P.blob()}else y=S.file=x;if(y.type==="image/svg+xml"){const P=O._isSVGFittingCanvas,I=new FileReader,j=new Image,w=new Promise((R,V)=>{j.onload=()=>{S.bitmap=j,S.isSvg=!0,R()},I.onload=async()=>{const X=S.svgUrl=I.result;j.src=await P?`${X}#svgView(preserveAspectRatio(none))`:X},j.onerror=I.onerror=V});I.readAsDataURL(y),await w}else S.bitmap=await createImageBitmap(y);S.refCounter=1}catch(y){console.error(y),S=null}return this.#n.set(u,S),S&&this.#n.set(S.id,S),S}async getFromFile(u){const{lastModified:x,name:S,size:y,type:P}=u;return this.#r(`${x}_${S}_${y}_${P}`,u)}async getFromUrl(u){return this.#r(u,u)}async getFromId(u){this.#n||=new Map;const x=this.#n.get(u);return x?x.bitmap?(x.refCounter+=1,x):x.file?this.getFromFile(x.file):this.getFromUrl(x.url):null}getSvgUrl(u){const x=this.#n.get(u);return x?.isSvg?x.svgUrl:null}deleteId(u){this.#n||=new Map;const x=this.#n.get(u);x&&(x.refCounter-=1,x.refCounter===0&&(x.bitmap=null))}isValidId(u){return u.startsWith(`image_${this.#e}_`)}}class d{#e=[];#t=!1;#n;#r=-1;constructor(u=128){this.#n=u}add({cmd:u,undo:x,mustExec:S,type:y=NaN,overwriteIfSameType:P=!1,keepUndo:I=!1}){if(S&&u(),this.#t)return;const j={cmd:u,undo:x,type:y};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(j);return}if(P&&this.#e[this.#r].type===y){I&&(j.undo=this.#e[this.#r].undo),this.#e[this.#r]=j;return}const w=this.#r+1;w===this.#n?this.#e.splice(0,1):(this.#r=w,w<this.#e.length&&this.#e.splice(w)),this.#e.push(j)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}s.CommandManager=d;class a{constructor(u){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:x}=o.FeatureTest.platform;for(const[S,y,P={}]of u)for(const I of S){const j=I.startsWith("mac+");x&&j?(this.callbacks.set(I.slice(4),{callback:y,options:P}),this.allKeys.add(I.split("+").at(-1))):!x&&!j&&(this.callbacks.set(I,{callback:y,options:P}),this.allKeys.add(I.split("+").at(-1)))}}#e(u){u.altKey&&this.buffer.push("alt"),u.ctrlKey&&this.buffer.push("ctrl"),u.metaKey&&this.buffer.push("meta"),u.shiftKey&&this.buffer.push("shift"),this.buffer.push(u.key);const x=this.buffer.join("+");return this.buffer.length=0,x}exec(u,x){if(!this.allKeys.has(x.key))return;const S=this.callbacks.get(this.#e(x));if(!S)return;const{callback:y,options:{bubbles:P=!1,args:I=[],checker:j=null}}=S;j&&!j(u,x)||(y.bind(u,...I)(),P||(x.stopPropagation(),x.preventDefault()))}}s.KeyboardManager=a;class l{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const u=new Map([["CanvasText",null],["Canvas",null]]);return(0,f.getColorValues)(u),(0,o.shadow)(this,"_colors",u)}convert(u){const x=(0,f.getRGB)(u);if(!window.matchMedia("(forced-colors: active)").matches)return x;for(const[S,y]of this._colors)if(y.every((P,I)=>P===x[I]))return l._colorsMapping.get(S);return x}getHexCode(u){const x=this._colors.get(u);return x?o.Util.makeHexColor(...x):u}}s.ColorManager=l;class b{#e=null;#t=new Map;#n=new Map;#r=null;#o=null;#a=new d;#s=0;#l=new Set;#u=null;#i=null;#f=new Set;#d=null;#h=new $;#p=!1;#y=!1;#g=null;#m=o.AnnotationEditorType.NONE;#c=new Set;#v=null;#S=this.blur.bind(this);#b=this.focus.bind(this);#k=this.copy.bind(this);#R=this.cut.bind(this);#D=this.paste.bind(this);#j=this.keydown.bind(this);#I=this.onEditingAction.bind(this);#x=this.onPageChanging.bind(this);#L=this.onScaleChanging.bind(this);#P=this.onRotationChanging.bind(this);#T={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=[0,0];#C=null;#A=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const u=b.prototype,x=P=>{const{activeElement:I}=document;return I&&P.#A.contains(I)&&P.hasSomethingToControl()},S=this.TRANSLATE_SMALL,y=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new a([[["ctrl+a","mac+meta+a"],u.selectAll],[["ctrl+z","mac+meta+z"],u.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],u.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],u.delete],[["Escape","mac+Escape"],u.unselectAll],[["ArrowLeft","mac+ArrowLeft"],u.translateSelectedEditors,{args:[-S,0],checker:x}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u.translateSelectedEditors,{args:[-y,0],checker:x}],[["ArrowRight","mac+ArrowRight"],u.translateSelectedEditors,{args:[S,0],checker:x}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u.translateSelectedEditors,{args:[y,0],checker:x}],[["ArrowUp","mac+ArrowUp"],u.translateSelectedEditors,{args:[0,-S],checker:x}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u.translateSelectedEditors,{args:[0,-y],checker:x}],[["ArrowDown","mac+ArrowDown"],u.translateSelectedEditors,{args:[0,S],checker:x}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u.translateSelectedEditors,{args:[0,y],checker:x}]]))}constructor(u,x,S,y,P,I){this.#A=u,this.#O=x,this.#r=S,this._eventBus=y,this._eventBus._on("editingaction",this.#I),this._eventBus._on("pagechanging",this.#x),this._eventBus._on("scalechanging",this.#L),this._eventBus._on("rotationchanging",this.#P),this.#o=P.annotationStorage,this.#d=P.filterFactory,this.#v=I,this.viewParameters={realScale:f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#M(),this.#B(),this._eventBus._off("editingaction",this.#I),this._eventBus._off("pagechanging",this.#x),this._eventBus._off("scalechanging",this.#L),this._eventBus._off("rotationchanging",this.#P);for(const u of this.#n.values())u.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#c.clear(),this.#a.destroy(),this.#r.destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",this.#v?this.#d.addHCMFilter(this.#v.foreground,this.#v.background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(this.#A).direction)}editAltText(u){this.#r?.editAltText(this,u)}onPageChanging({pageNumber:u}){this.#s=u-1}focusMainContainer(){this.#A.focus()}findParent(u,x){for(const S of this.#n.values()){const{x:y,y:P,width:I,height:j}=S.div.getBoundingClientRect();if(u>=y&&u<=y+I&&x>=P&&x<=P+j)return S}return null}disableUserSelect(u=!1){this.#O.classList.toggle("noUserSelect",u)}addShouldRescale(u){this.#f.add(u)}removeShouldRescale(u){this.#f.delete(u)}onScaleChanging({scale:u}){this.commitOrRemove(),this.viewParameters.realScale=u*f.PixelsPerInch.PDF_TO_CSS_UNITS;for(const x of this.#f)x.onScaleChanging()}onRotationChanging({pagesRotation:u}){this.commitOrRemove(),this.viewParameters.rotation=u}addToAnnotationStorage(u){!u.isEmpty()&&this.#o&&!this.#o.has(u.id)&&this.#o.setValue(u.id,u)}#N(){window.addEventListener("focus",this.#b),window.addEventListener("blur",this.#S)}#B(){window.removeEventListener("focus",this.#b),window.removeEventListener("blur",this.#S)}blur(){if(!this.hasSelection)return;const{activeElement:u}=document;for(const x of this.#c)if(x.div.contains(u)){this.#g=[x,u],x._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[u,x]=this.#g;this.#g=null,x.addEventListener("focusin",()=>{u._focusEventsAllowed=!0},{once:!0}),x.focus()}#U(){window.addEventListener("keydown",this.#j,{capture:!0})}#M(){window.removeEventListener("keydown",this.#j,{capture:!0})}#F(){document.addEventListener("copy",this.#k),document.addEventListener("cut",this.#R),document.addEventListener("paste",this.#D)}#w(){document.removeEventListener("copy",this.#k),document.removeEventListener("cut",this.#R),document.removeEventListener("paste",this.#D)}addEditListeners(){this.#U(),this.#F()}removeEditListeners(){this.#M(),this.#w()}copy(u){if(u.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const x=[];for(const S of this.#c){const y=S.serialize(!0);y&&x.push(y)}x.length!==0&&u.clipboardData.setData("application/pdfjs",JSON.stringify(x))}cut(u){this.copy(u),this.delete()}paste(u){u.preventDefault();const{clipboardData:x}=u;for(const P of x.items)for(const I of this.#i)if(I.isHandlingMimeForPasting(P.type)){I.paste(P,this.currentLayer);return}let S=x.getData("application/pdfjs");if(!S)return;try{S=JSON.parse(S)}catch(P){(0,o.warn)(`paste: "${P.message}".`);return}if(!Array.isArray(S))return;this.unselectAll();const y=this.currentLayer;try{const P=[];for(const w of S){const R=y.deserialize(w);if(!R)return;P.push(R)}const I=()=>{for(const w of P)this.#H(w);this.#W(P)},j=()=>{for(const w of P)w.remove()};this.addCommands({cmd:I,undo:j,mustExec:!0})}catch(P){(0,o.warn)(`paste: "${P.message}".`)}}keydown(u){this.getActive()?.shouldGetKeyboardEvents()||b._keyboardManager.exec(this,u)}onEditingAction(u){["undo","redo","delete","selectAll"].includes(u.name)&&this[u.name]()}#E(u){Object.entries(u).some(([S,y])=>this.#T[S]!==y)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#T,u)})}#z(u){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:u})}setEditingState(u){u?(this.#N(),this.#U(),this.#F(),this.#E({isEditing:this.#m!==o.AnnotationEditorType.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#B(),this.#M(),this.#w(),this.#E({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(u){if(!this.#i){this.#i=u;for(const x of this.#i)this.#z(x.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(u){return this.#n.get(u)}get currentPageIndex(){return this.#s}addLayer(u){this.#n.set(u.pageIndex,u),this.#p?u.enable():u.disable()}removeLayer(u){this.#n.delete(u.pageIndex)}updateMode(u,x=null){if(this.#m!==u){if(this.#m=u,u===o.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#V(),this.unselectAll();for(const S of this.#n.values())S.updateMode(u);if(x){for(const S of this.#t.values())if(S.annotationElementId===x){this.setSelected(S),S.enterInEditMode();break}}}}updateToolbar(u){u!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:u})}updateParams(u,x){if(this.#i){if(u===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(u);return}for(const S of this.#c)S.updateParams(u,x);for(const S of this.#i)S.updateDefaultParams(u,x)}}enableWaiting(u=!1){if(this.#y!==u){this.#y=u;for(const x of this.#n.values())u?x.disableClick():x.enableClick(),x.div.classList.toggle("waiting",u)}}#V(){if(!this.#p){this.#p=!0;for(const u of this.#n.values())u.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(const u of this.#n.values())u.disable()}}getEditors(u){const x=[];for(const S of this.#t.values())S.pageIndex===u&&x.push(S);return x}getEditor(u){return this.#t.get(u)}addEditor(u){this.#t.set(u.id,u)}removeEditor(u){this.#t.delete(u.id),this.unselect(u),(!u.annotationElementId||!this.#l.has(u.annotationElementId))&&this.#o?.remove(u.id)}addDeletedAnnotationElement(u){this.#l.add(u.annotationElementId),u.deleted=!0}isDeletedAnnotationElement(u){return this.#l.has(u)}removeDeletedAnnotationElement(u){this.#l.delete(u.annotationElementId),u.deleted=!1}#H(u){const x=this.#n.get(u.pageIndex);x?x.addOrRebuild(u):this.addEditor(u)}setActiveEditor(u){this.#e!==u&&(this.#e=u,u&&this.#z(u.propertiesToUpdate))}toggleSelected(u){if(this.#c.has(u)){this.#c.delete(u),u.unselect(),this.#E({hasSelectedEditor:this.hasSelection});return}this.#c.add(u),u.select(),this.#z(u.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}setSelected(u){for(const x of this.#c)x!==u&&x.unselect();this.#c.clear(),this.#c.add(u),u.select(),this.#z(u.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}isSelected(u){return this.#c.has(u)}unselect(u){u.unselect(),this.#c.delete(u),this.#E({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#c.size!==0}undo(){this.#a.undo(),this.#E({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()})}redo(){this.#a.redo(),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(u){this.#a.add(u),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}#$(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const u of this.#t.values())return u.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const u=[...this.#c],x=()=>{for(const y of u)y.remove()},S=()=>{for(const y of u)this.#H(y)};this.addCommands({cmd:x,undo:S,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#W(u){this.#c.clear();for(const x of u)x.isEmpty()||(this.#c.add(x),x.select());this.#E({hasSelectedEditor:!0})}selectAll(){for(const u of this.#c)u.commit();this.#W(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const u of this.#c)u.unselect();this.#c.clear(),this.#E({hasSelectedEditor:!1})}}translateSelectedEditors(u,x,S=!1){if(S||this.commitOrRemove(),!this.hasSelection)return;this.#_[0]+=u,this.#_[1]+=x;const[y,P]=this.#_,I=[...this.#c],j=1e3;this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.#C=null,this.#_[0]=this.#_[1]=0,this.addCommands({cmd:()=>{for(const w of I)this.#t.has(w.id)&&w.translateInPage(y,P)},undo:()=>{for(const w of I)this.#t.has(w.id)&&w.translateInPage(-y,-P)},mustExec:!1})},j);for(const w of I)w.translateInPage(u,x)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#u=new Map;for(const u of this.#c)this.#u.set(u,{savedX:u.x,savedY:u.y,savedPageIndex:u.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#u)return!1;this.disableUserSelect(!1);const u=this.#u;this.#u=null;let x=!1;for(const[{x:y,y:P,pageIndex:I},j]of u)j.newX=y,j.newY=P,j.newPageIndex=I,x||=y!==j.savedX||P!==j.savedY||I!==j.savedPageIndex;if(!x)return!1;const S=(y,P,I,j)=>{if(this.#t.has(y.id)){const w=this.#n.get(j);w?y._setParentAndPosition(w,P,I):(y.pageIndex=j,y.x=P,y.y=I)}};return this.addCommands({cmd:()=>{for(const[y,{newX:P,newY:I,newPageIndex:j}]of u)S(y,P,I,j)},undo:()=>{for(const[y,{savedX:P,savedY:I,savedPageIndex:j}]of u)S(y,P,I,j)},mustExec:!0}),!0}dragSelectedEditors(u,x){if(this.#u)for(const S of this.#u.keys())S.drag(u,x)}rebuild(u){if(u.parent===null){const x=this.getLayer(u.pageIndex);x?(x.changeParent(u),x.addOrRebuild(u)):(this.addEditor(u),this.addToAnnotationStorage(u),u.rebuild())}else u.parent.addOrRebuild(u)}isActive(u){return this.#e===u}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,o.shadow)(this,"imageManager",new O)}}s.AnnotationEditorUIManager=b}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=V,s.getColorValues=pe,s.getCurrentTransform=ce,s.getCurrentTransformInverse=fe,s.getFilenameFromUrl=y,s.getPdfFilenameFromUrl=P,s.getRGB=Q,s.getXfaPageViewport=ee,s.isDataScheme=x,s.isPdfFile=S,s.isValidFetchUrl=j,s.loadScript=R,s.noContextMenu=w,s.setLayerDimensions=ge;var o=m(7),f=m(1);const D="http://www.w3.org/2000/svg";class F{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}s.PixelsPerInch=F;class $ extends o.BaseFilterFactory{#e;#t;#n;#r;#o;#a;#s;#l;#u;#i;#f=0;constructor({docId:H,ownerDocument:k=globalThis.document}={}){super(),this.#n=H,this.#r=k}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const H=this.#r.createElement("div"),{style:k}=H;k.visibility="hidden",k.contain="strict",k.width=k.height=0,k.position="absolute",k.top=k.left=0,k.zIndex=-1;const A=this.#r.createElementNS(D,"svg");A.setAttribute("width",0),A.setAttribute("height",0),this.#t=this.#r.createElementNS(D,"defs"),H.append(A),A.append(this.#t),this.#r.body.append(H)}return this.#t}addFilter(H){if(!H)return"none";let k=this.#d.get(H);if(k)return k;let A,E,_,L;if(H.length===1){const g=H[0],C=new Array(256);for(let T=0;T<256;T++)C[T]=g[T]/255;L=A=E=_=C.join(",")}else{const[g,C,T]=H,B=new Array(256),z=new Array(256),Y=new Array(256);for(let K=0;K<256;K++)B[K]=g[K]/255,z[K]=C[K]/255,Y[K]=T[K]/255;A=B.join(","),E=z.join(","),_=Y.join(","),L=`${A}${E}${_}`}if(k=this.#d.get(L),k)return this.#d.set(H,k),k;const U=`g_${this.#n}_transfer_map_${this.#f++}`,W=`url(#${U})`;this.#d.set(H,W),this.#d.set(L,W);const N=this.#y(U);return this.#m(A,E,_,N),W}addHCMFilter(H,k){const A=`${H}-${k}`;if(this.#a===A)return this.#s;if(this.#a=A,this.#s="none",this.#o?.remove(),!H||!k)return this.#s;const E=this.#c(H);H=f.Util.makeHexColor(...E);const _=this.#c(k);if(k=f.Util.makeHexColor(..._),this.#h.style.color="",H==="#000000"&&k==="#ffffff"||H===k)return this.#s;const L=new Array(256);for(let C=0;C<=255;C++){const T=C/255;L[C]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const U=L.join(","),W=`g_${this.#n}_hcm_filter`,N=this.#l=this.#y(W);this.#m(U,U,U,N),this.#p(N);const g=(C,T)=>{const B=E[C]/255,z=_[C]/255,Y=new Array(T+1);for(let K=0;K<=T;K++)Y[K]=B+K/T*(z-B);return Y.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),N),this.#s=`url(#${W})`,this.#s}addHighlightHCMFilter(H,k,A,E){const _=`${H}-${k}-${A}-${E}`;if(this.#u===_)return this.#i;if(this.#u=_,this.#i="none",this.#l?.remove(),!H||!k)return this.#i;const[L,U]=[H,k].map(this.#c.bind(this));let W=Math.round(.2126*L[0]+.7152*L[1]+.0722*L[2]),N=Math.round(.2126*U[0]+.7152*U[1]+.0722*U[2]),[g,C]=[A,E].map(this.#c.bind(this));N<W&&([W,N,g,C]=[N,W,C,g]),this.#h.style.color="";const T=(Y,K,ne)=>{const _e=new Array(256),ae=(N-W)/ne,se=Y/255,de=(K-Y)/(255*ne);let he=0;for(let me=0;me<=ne;me++){const Se=Math.round(W+me*ae),ke=se+me*de;for(let Me=he;Me<=Se;Me++)_e[Me]=ke;he=Se+1}for(let me=he;me<256;me++)_e[me]=_e[he-1];return _e.join(",")},B=`g_${this.#n}_hcm_highlight_filter`,z=this.#l=this.#y(B);return this.#p(z),this.#m(T(g[0],C[0],5),T(g[1],C[1],5),T(g[2],C[2],5),z),this.#i=`url(#${B})`,this.#i}destroy(H=!1){H&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(H){const k=this.#r.createElementNS(D,"feColorMatrix");k.setAttribute("type","matrix"),k.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),H.append(k)}#y(H){const k=this.#r.createElementNS(D,"filter");return k.setAttribute("color-interpolation-filters","sRGB"),k.setAttribute("id",H),this.#h.append(k),k}#g(H,k,A){const E=this.#r.createElementNS(D,k);E.setAttribute("type","discrete"),E.setAttribute("tableValues",A),H.append(E)}#m(H,k,A,E){const _=this.#r.createElementNS(D,"feComponentTransfer");E.append(_),this.#g(_,"feFuncR",H),this.#g(_,"feFuncG",k),this.#g(_,"feFuncB",A)}#c(H){return this.#h.style.color=H,Q(getComputedStyle(this.#h).getPropertyValue("color"))}}s.DOMFilterFactory=$;class O extends o.BaseCanvasFactory{constructor({ownerDocument:H=globalThis.document}={}){super(),this._document=H}_createCanvas(H,k){const A=this._document.createElement("canvas");return A.width=H,A.height=k,A}}s.DOMCanvasFactory=O;async function d(le,H=!1){if(j(le,document.baseURI)){const k=await fetch(le);if(!k.ok)throw new Error(k.statusText);return H?new Uint8Array(await k.arrayBuffer()):(0,f.stringToBytes)(await k.text())}return new Promise((k,A)=>{const E=new XMLHttpRequest;E.open("GET",le,!0),H&&(E.responseType="arraybuffer"),E.onreadystatechange=()=>{if(E.readyState===XMLHttpRequest.DONE){if(E.status===200||E.status===0){let _;if(H&&E.response?_=new Uint8Array(E.response):!H&&E.responseText&&(_=(0,f.stringToBytes)(E.responseText)),_){k(_);return}}A(new Error(E.statusText))}},E.send(null)})}class a extends o.BaseCMapReaderFactory{_fetchData(H,k){return d(H,this.isCompressed).then(A=>({cMapData:A,compressionType:k}))}}s.DOMCMapReaderFactory=a;class l extends o.BaseStandardFontDataFactory{_fetchData(H){return d(H,!0)}}s.DOMStandardFontDataFactory=l;class b extends o.BaseSVGFactory{_createSVG(H){return document.createElementNS(D,H)}}s.DOMSVGFactory=b;class h{constructor({viewBox:H,scale:k,rotation:A,offsetX:E=0,offsetY:_=0,dontFlip:L=!1}){this.viewBox=H,this.scale=k,this.rotation=A,this.offsetX=E,this.offsetY=_;const U=(H[2]+H[0])/2,W=(H[3]+H[1])/2;let N,g,C,T;switch(A%=360,A<0&&(A+=360),A){case 180:N=-1,g=0,C=0,T=1;break;case 90:N=0,g=1,C=1,T=0;break;case 270:N=0,g=-1,C=-1,T=0;break;case 0:N=1,g=0,C=0,T=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}L&&(C=-C,T=-T);let B,z,Y,K;N===0?(B=Math.abs(W-H[1])*k+E,z=Math.abs(U-H[0])*k+_,Y=(H[3]-H[1])*k,K=(H[2]-H[0])*k):(B=Math.abs(U-H[0])*k+E,z=Math.abs(W-H[1])*k+_,Y=(H[2]-H[0])*k,K=(H[3]-H[1])*k),this.transform=[N*k,g*k,C*k,T*k,B-N*k*U-C*k*W,z-g*k*U-T*k*W],this.width=Y,this.height=K}get rawDims(){const{viewBox:H}=this;return(0,f.shadow)(this,"rawDims",{pageWidth:H[2]-H[0],pageHeight:H[3]-H[1],pageX:H[0],pageY:H[1]})}clone({scale:H=this.scale,rotation:k=this.rotation,offsetX:A=this.offsetX,offsetY:E=this.offsetY,dontFlip:_=!1}={}){return new h({viewBox:this.viewBox.slice(),scale:H,rotation:k,offsetX:A,offsetY:E,dontFlip:_})}convertToViewportPoint(H,k){return f.Util.applyTransform([H,k],this.transform)}convertToViewportRectangle(H){const k=f.Util.applyTransform([H[0],H[1]],this.transform),A=f.Util.applyTransform([H[2],H[3]],this.transform);return[k[0],k[1],A[0],A[1]]}convertToPdfPoint(H,k){return f.Util.applyInverseTransform([H,k],this.transform)}}s.PageViewport=h;class u extends f.BaseException{constructor(H,k=0){super(H,"RenderingCancelledException"),this.extraDelay=k}}s.RenderingCancelledException=u;function x(le){const H=le.length;let k=0;for(;k<H&&le[k].trim()==="";)k++;return le.substring(k,k+5).toLowerCase()==="data:"}function S(le){return typeof le=="string"&&/\.pdf$/i.test(le)}function y(le,H=!1){return H||([le]=le.split(/[#?]/,1)),le.substring(le.lastIndexOf("/")+1)}function P(le,H="document.pdf"){if(typeof le!="string")return H;if(x(le))return(0,f.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),H;const k=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,A=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,E=k.exec(le);let _=A.exec(E[1])||A.exec(E[2])||A.exec(E[3]);if(_&&(_=_[0],_.includes("%")))try{_=A.exec(decodeURIComponent(_))[0]}catch{}return _||H}class I{started=Object.create(null);times=[];time(H){H in this.started&&(0,f.warn)(`Timer is already running for ${H}`),this.started[H]=Date.now()}timeEnd(H){H in this.started||(0,f.warn)(`Timer has not been started for ${H}`),this.times.push({name:H,start:this.started[H],end:Date.now()}),delete this.started[H]}toString(){const H=[];let k=0;for(const{name:A}of this.times)k=Math.max(A.length,k);for(const{name:A,start:E,end:_}of this.times)H.push(`${A.padEnd(k)} ${_-E}ms
`);return H.join("")}}s.StatTimer=I;function j(le,H){try{const{protocol:k}=H?new URL(le,H):new URL(le);return k==="http:"||k==="https:"}catch{return!1}}function w(le){le.preventDefault()}function R(le,H=!1){return new Promise((k,A)=>{const E=document.createElement("script");E.src=le,E.onload=function(_){H&&E.remove(),k(_)},E.onerror=function(){A(new Error(`Cannot load script at: ${E.src}`))},(document.head||document.documentElement).append(E)})}function V(le){console.log("Deprecated API usage: "+le)}let X;class G{static toDateObject(H){if(!H||typeof H!="string")return null;X||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const k=X.exec(H);if(!k)return null;const A=parseInt(k[1],10);let E=parseInt(k[2],10);E=E>=1&&E<=12?E-1:0;let _=parseInt(k[3],10);_=_>=1&&_<=31?_:1;let L=parseInt(k[4],10);L=L>=0&&L<=23?L:0;let U=parseInt(k[5],10);U=U>=0&&U<=59?U:0;let W=parseInt(k[6],10);W=W>=0&&W<=59?W:0;const N=k[7]||"Z";let g=parseInt(k[8],10);g=g>=0&&g<=23?g:0;let C=parseInt(k[9],10)||0;return C=C>=0&&C<=59?C:0,N==="-"?(L+=g,U+=C):N==="+"&&(L-=g,U-=C),new Date(Date.UTC(A,E,_,L,U,W))}}s.PDFDateString=G;function ee(le,{scale:H=1,rotation:k=0}){const{width:A,height:E}=le.attributes.style,_=[0,0,parseInt(A),parseInt(E)];return new h({viewBox:_,scale:H,rotation:k})}function Q(le){if(le.startsWith("#")){const H=parseInt(le.slice(1),16);return[(H&16711680)>>16,(H&65280)>>8,H&255]}return le.startsWith("rgb(")?le.slice(4,-1).split(",").map(H=>parseInt(H)):le.startsWith("rgba(")?le.slice(5,-1).split(",").map(H=>parseInt(H)).slice(0,3):((0,f.warn)(`Not a valid color format: "${le}"`),[0,0,0])}function pe(le){const H=document.createElement("span");H.style.visibility="hidden",document.body.append(H);for(const k of le.keys()){H.style.color=k;const A=window.getComputedStyle(H).color;le.set(k,Q(A))}H.remove()}function ce(le){const{a:H,b:k,c:A,d:E,e:_,f:L}=le.getTransform();return[H,k,A,E,_,L]}function fe(le){const{a:H,b:k,c:A,d:E,e:_,f:L}=le.getTransform().invertSelf();return[H,k,A,E,_,L]}function ge(le,H,k=!1,A=!0){if(H instanceof h){const{pageWidth:E,pageHeight:_}=H.rawDims,{style:L}=le,U=f.FeatureTest.isCSSRoundSupported,W=`var(--scale-factor) * ${E}px`,N=`var(--scale-factor) * ${_}px`,g=U?`round(${W}, 1px)`:`calc(${W})`,C=U?`round(${N}, 1px)`:`calc(${N})`;!k||H.rotation%180===0?(L.width=g,L.height=C):(L.width=C,L.height=g)}A&&le.setAttribute("data-main-rotation",H.rotation)}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var o=m(1);class f{constructor(){this.constructor===f&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(a){return"none"}addHCMFilter(a,l){return"none"}addHighlightHCMFilter(a,l,b,h){return"none"}destroy(a=!1){}}s.BaseFilterFactory=f;class D{constructor(){this.constructor===D&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(a,l){if(a<=0||l<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(a,l);return{canvas:b,context:b.getContext("2d")}}reset(a,l,b){if(!a.canvas)throw new Error("Canvas is not specified");if(l<=0||b<=0)throw new Error("Invalid canvas size");a.canvas.width=l,a.canvas.height=b}destroy(a){if(!a.canvas)throw new Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}_createCanvas(a,l){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=D;class F{constructor({baseUrl:a=null,isCompressed:l=!0}){this.constructor===F&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=l}async fetch({name:a}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!a)throw new Error("CMap name must be specified.");const l=this.baseUrl+a+(this.isCompressed?".bcmap":""),b=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(l,b).catch(h=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${l}`)})}_fetchData(a,l){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=F;class ${constructor({baseUrl:a=null}){this.constructor===$&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=a}async fetch({filename:a}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!a)throw new Error("Font filename must be specified.");const l=`${this.baseUrl}${a}`;return this._fetchData(l).catch(b=>{throw new Error(`Unable to load font data at: ${l}`)})}_fetchData(a){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=$;class O{constructor(){this.constructor===O&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(a,l,b=!1){if(a<=0||l<=0)throw new Error("Invalid SVG dimensions");const h=this._createSVG("svg:svg");return h.setAttribute("version","1.1"),b||(h.setAttribute("width",`${a}px`),h.setAttribute("height",`${l}px`)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("viewBox",`0 0 ${a} ${l}`),h}createElement(a){if(typeof a!="string")throw new Error("Invalid SVG element type");return this._createSVG(a)}_createSVG(a){(0,o.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=O}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var o=m(1);const f=3285377520,D=4294901760,F=65535;class ${constructor(d){this.h1=d?d&4294967295:f,this.h2=d?d&4294967295:f}update(d){let a,l;if(typeof d=="string"){a=new Uint8Array(d.length*2),l=0;for(let V=0,X=d.length;V<X;V++){const G=d.charCodeAt(V);G<=255?a[l++]=G:(a[l++]=G>>>8,a[l++]=G&255)}}else if((0,o.isArrayBuffer)(d))a=d.slice(),l=a.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const b=l>>2,h=l-b*4,u=new Uint32Array(a.buffer,0,b);let x=0,S=0,y=this.h1,P=this.h2;const I=3432918353,j=461845907,w=I&F,R=j&F;for(let V=0;V<b;V++)V&1?(x=u[V],x=x*I&D|x*w&F,x=x<<15|x>>>17,x=x*j&D|x*R&F,y^=x,y=y<<13|y>>>19,y=y*5+3864292196):(S=u[V],S=S*I&D|S*w&F,S=S<<15|S>>>17,S=S*j&D|S*R&F,P^=S,P=P<<13|P>>>19,P=P*5+3864292196);switch(x=0,h){case 3:x^=a[b*4+2]<<16;case 2:x^=a[b*4+1]<<8;case 1:x^=a[b*4],x=x*I&D|x*w&F,x=x<<15|x>>>17,x=x*j&D|x*R&F,b&1?y^=x:P^=x}this.h1=y,this.h2=P}hexdigest(){let d=this.h1,a=this.h2;return d^=a>>>1,d=d*3981806797&D|d*36045&F,a=a*4283543511&D|((a<<16|d>>>16)*2950163797&D)>>>16,d^=a>>>1,d=d*444984403&D|d*60499&F,a=a*3301882366&D|((a<<16|d>>>16)*3120437893&D)>>>16,d^=a>>>1,(d>>>0).toString(16).padStart(8,"0")+(a>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=$}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var o=m(1);class f{#e=new Set;constructor({ownerDocument:$=globalThis.document,styleElement:O=null}){this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const O=this.styleElement.sheet;O.insertRule($,O.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont($){if(!(!$||this.#e.has($.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:O,src:d,style:a}=$,l=new FontFace(O,d,a);this.addNativeFontFace(l);try{await l.load(),this.#e.add(O)}catch{(0,o.warn)(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=$.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(a){throw(0,o.warn)(`Failed to load font '${d.family}': '${a}'.`),$.disableFontFace=!0,a}}return}const O=$.createFontFaceRule();if(O){if(this.insertRule(O),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const a=this._queueLoadingCallback(d);this._prepareFontLoadEvent($,a)})}}get isFontLoadingAPISupported(){const $=!!this._document?.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function O(){for((0,o.assert)(!a.done,"completeRequest() cannot be called twice."),a.done=!0;d.length>0&&d[0].done;){const l=d.shift();setTimeout(l.callback,0)}}const{loadingRequests:d}=this,a={done:!1,complete:O,callback:$};return d.push(a),a}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",$)}_prepareFontLoadEvent($,O){function d(ee,Q){return ee.charCodeAt(Q)<<24|ee.charCodeAt(Q+1)<<16|ee.charCodeAt(Q+2)<<8|ee.charCodeAt(Q+3)&255}function a(ee,Q,pe,ce){const fe=ee.substring(0,Q),ge=ee.substring(Q+pe);return fe+ce+ge}let l,b;const h=this._document.createElement("canvas");h.width=1,h.height=1;const u=h.getContext("2d");let x=0;function S(ee,Q){if(++x>30){(0,o.warn)("Load test font never loaded."),Q();return}if(u.font="30px "+ee,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){Q();return}setTimeout(S.bind(null,ee,Q))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let P=this._loadTestFont;P=a(P,976,y.length,y);const j=16,w=1482184792;let R=d(P,j);for(l=0,b=y.length-3;l<b;l+=4)R=R-w+d(y,l)|0;l<y.length&&(R=R-w+d(y+"XXX",l)|0),P=a(P,j,4,(0,o.string32)(R));const V=`url(data:font/opentype;base64,${btoa(P)});`,X=`@font-face {font-family:"${y}";src:${V}}`;this.insertRule(X);const G=this._document.createElement("div");G.style.visibility="hidden",G.style.width=G.style.height="10px",G.style.position="absolute",G.style.top=G.style.left="0px";for(const ee of[$.loadedName,y]){const Q=this._document.createElement("span");Q.textContent="Hi",Q.style.fontFamily=ee,G.append(Q)}this._document.body.append(G),S(y,()=>{G.remove(),O.complete()})}}s.FontLoader=f;class D{constructor($,{isEvalSupported:O=!0,disableFontFace:d=!1,ignoreErrors:a=!1,inspectFont:l=null}){this.compiledGlyphs=Object.create(null);for(const b in $)this[b]=$[b];this.isEvalSupported=O!==!1,this.disableFontFace=d===!0,this.ignoreErrors=a===!0,this._inspectFont=l}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const O={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(O.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,O)}return this._inspectFont?.(this),$}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const $=(0,o.bytesToString)(this.data),O=`url(data:${this.mimetype};base64,${btoa($)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${O}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${O}}`}return this._inspectFont?.(this,O),d}getPathGenerator($,O){if(this.compiledGlyphs[O]!==void 0)return this.compiledGlyphs[O];let d;try{d=$.get(this.loadedName+"_path_"+O)}catch(a){if(!this.ignoreErrors)throw a;return(0,o.warn)(`getPathGenerator - ignoring character: "${a}".`),this.compiledGlyphs[O]=function(l,b){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const a=[];for(const l of d){const b=l.args!==void 0?l.args.join(","):"";a.push("c.",l.cmd,"(",b,`);
`)}return this.compiledGlyphs[O]=new Function("c","size",a.join(""))}return this.compiledGlyphs[O]=function(a,l){for(const b of d)b.cmd==="scale"&&(b.args=[l,-l]),a[b.cmd].apply(a,b.args)}}}s.FontFaceObject=D}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var o=m(7);m(1);const f=function(d){return new Promise((a,l)=>{require$$5.readFile(d,(h,u)=>{if(h||!u){l(new Error(h));return}a(new Uint8Array(u))})})};class D extends o.BaseFilterFactory{}s.NodeFilterFactory=D;class F extends o.BaseCanvasFactory{_createCanvas(a,l){return require$$5.createCanvas(a,l)}}s.NodeCanvasFactory=F;class $ extends o.BaseCMapReaderFactory{_fetchData(a,l){return f(a).then(b=>({cMapData:b,compressionType:l}))}}s.NodeCMapReaderFactory=$;class O extends o.BaseStandardFontDataFactory{_fetchData(a){return f(a)}}s.NodeStandardFontDataFactory=O}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var o=m(1),f=m(6),D=m(12),F=m(13);const $=16,O=100,d=4096,a=15,l=10,b=1e3,h=16;function u(k,A){if(k._removeMirroring)throw new Error("Context is already forwarding operations.");k.__originalSave=k.save,k.__originalRestore=k.restore,k.__originalRotate=k.rotate,k.__originalScale=k.scale,k.__originalTranslate=k.translate,k.__originalTransform=k.transform,k.__originalSetTransform=k.setTransform,k.__originalResetTransform=k.resetTransform,k.__originalClip=k.clip,k.__originalMoveTo=k.moveTo,k.__originalLineTo=k.lineTo,k.__originalBezierCurveTo=k.bezierCurveTo,k.__originalRect=k.rect,k.__originalClosePath=k.closePath,k.__originalBeginPath=k.beginPath,k._removeMirroring=()=>{k.save=k.__originalSave,k.restore=k.__originalRestore,k.rotate=k.__originalRotate,k.scale=k.__originalScale,k.translate=k.__originalTranslate,k.transform=k.__originalTransform,k.setTransform=k.__originalSetTransform,k.resetTransform=k.__originalResetTransform,k.clip=k.__originalClip,k.moveTo=k.__originalMoveTo,k.lineTo=k.__originalLineTo,k.bezierCurveTo=k.__originalBezierCurveTo,k.rect=k.__originalRect,k.closePath=k.__originalClosePath,k.beginPath=k.__originalBeginPath,delete k._removeMirroring},k.save=function(){A.save(),this.__originalSave()},k.restore=function(){A.restore(),this.__originalRestore()},k.translate=function(_,L){A.translate(_,L),this.__originalTranslate(_,L)},k.scale=function(_,L){A.scale(_,L),this.__originalScale(_,L)},k.transform=function(_,L,U,W,N,g){A.transform(_,L,U,W,N,g),this.__originalTransform(_,L,U,W,N,g)},k.setTransform=function(_,L,U,W,N,g){A.setTransform(_,L,U,W,N,g),this.__originalSetTransform(_,L,U,W,N,g)},k.resetTransform=function(){A.resetTransform(),this.__originalResetTransform()},k.rotate=function(_){A.rotate(_),this.__originalRotate(_)},k.clip=function(_){A.clip(_),this.__originalClip(_)},k.moveTo=function(E,_){A.moveTo(E,_),this.__originalMoveTo(E,_)},k.lineTo=function(E,_){A.lineTo(E,_),this.__originalLineTo(E,_)},k.bezierCurveTo=function(E,_,L,U,W,N){A.bezierCurveTo(E,_,L,U,W,N),this.__originalBezierCurveTo(E,_,L,U,W,N)},k.rect=function(E,_,L,U){A.rect(E,_,L,U),this.__originalRect(E,_,L,U)},k.closePath=function(){A.closePath(),this.__originalClosePath()},k.beginPath=function(){A.beginPath(),this.__originalBeginPath()}}class x{constructor(A){this.canvasFactory=A,this.cache=Object.create(null)}getCanvas(A,E,_){let L;return this.cache[A]!==void 0?(L=this.cache[A],this.canvasFactory.reset(L,E,_)):(L=this.canvasFactory.create(E,_),this.cache[A]=L),L}delete(A){delete this.cache[A]}clear(){for(const A in this.cache){const E=this.cache[A];this.canvasFactory.destroy(E),delete this.cache[A]}}}function S(k,A,E,_,L,U,W,N,g,C){const[T,B,z,Y,K,ne]=(0,f.getCurrentTransform)(k);if(B===0&&z===0){const se=W*T+K,de=Math.round(se),he=N*Y+ne,me=Math.round(he),Se=(W+g)*T+K,ke=Math.abs(Math.round(Se)-de)||1,Me=(N+C)*Y+ne,De=Math.abs(Math.round(Me)-me)||1;return k.setTransform(Math.sign(T),0,0,Math.sign(Y),de,me),k.drawImage(A,E,_,L,U,0,0,ke,De),k.setTransform(T,B,z,Y,K,ne),[ke,De]}if(T===0&&Y===0){const se=N*z+K,de=Math.round(se),he=W*B+ne,me=Math.round(he),Se=(N+C)*z+K,ke=Math.abs(Math.round(Se)-de)||1,Me=(W+g)*B+ne,De=Math.abs(Math.round(Me)-me)||1;return k.setTransform(0,Math.sign(B),Math.sign(z),0,de,me),k.drawImage(A,E,_,L,U,0,0,De,ke),k.setTransform(T,B,z,Y,K,ne),[De,ke]}k.drawImage(A,E,_,L,U,W,N,g,C);const _e=Math.hypot(T,B),ae=Math.hypot(z,Y);return[_e*g,ae*C]}function y(k){const{width:A,height:E}=k;if(A>b||E>b)return null;const _=1e3,L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),U=A+1;let W=new Uint8Array(U*(E+1)),N,g,C;const T=A+7&-8;let B=new Uint8Array(T*E),z=0;for(const ae of k.data){let se=128;for(;se>0;)B[z++]=ae&se?0:255,se>>=1}let Y=0;for(z=0,B[z]!==0&&(W[0]=1,++Y),g=1;g<A;g++)B[z]!==B[z+1]&&(W[g]=B[z]?2:1,++Y),z++;for(B[z]!==0&&(W[g]=2,++Y),N=1;N<E;N++){z=N*T,C=N*U,B[z-T]!==B[z]&&(W[C]=B[z]?1:8,++Y);let ae=(B[z]?4:0)+(B[z-T]?8:0);for(g=1;g<A;g++)ae=(ae>>2)+(B[z+1]?4:0)+(B[z-T+1]?8:0),L[ae]&&(W[C+g]=L[ae],++Y),z++;if(B[z-T]!==B[z]&&(W[C+g]=B[z]?2:4,++Y),Y>_)return null}for(z=T*(E-1),C=N*U,B[z]!==0&&(W[C]=8,++Y),g=1;g<A;g++)B[z]!==B[z+1]&&(W[C+g]=B[z]?4:8,++Y),z++;if(B[z]!==0&&(W[C+g]=4,++Y),Y>_)return null;const K=new Int32Array([0,U,-1,0,-U,0,0,0,1]),ne=new Path2D;for(N=0;Y&&N<=E;N++){let ae=N*U;const se=ae+A;for(;ae<se&&!W[ae];)ae++;if(ae===se)continue;ne.moveTo(ae%U,N);const de=ae;let he=W[ae];do{const me=K[he];do ae+=me;while(!W[ae]);const Se=W[ae];Se!==5&&Se!==10?(he=Se,W[ae]=0):(he=Se&51*he>>4,W[ae]&=he>>2|he<<2),ne.lineTo(ae%U,ae/U|0),W[ae]||--Y}while(de!==ae);--N}return B=null,W=null,function(ae){ae.save(),ae.scale(1/A,-1/E),ae.translate(0,-E),ae.fill(ne),ae.beginPath(),ae.restore()}}class P{constructor(A,E){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,A,E])}clone(){const A=Object.create(this);return A.clipBox=this.clipBox.slice(),A}setCurrentPoint(A,E){this.x=A,this.y=E}updatePathMinMax(A,E,_){[E,_]=o.Util.applyTransform([E,_],A),this.minX=Math.min(this.minX,E),this.minY=Math.min(this.minY,_),this.maxX=Math.max(this.maxX,E),this.maxY=Math.max(this.maxY,_)}updateRectMinMax(A,E){const _=o.Util.applyTransform(E,A),L=o.Util.applyTransform(E.slice(2),A);this.minX=Math.min(this.minX,_[0],L[0]),this.minY=Math.min(this.minY,_[1],L[1]),this.maxX=Math.max(this.maxX,_[0],L[0]),this.maxY=Math.max(this.maxY,_[1],L[1])}updateScalingPathMinMax(A,E){o.Util.scaleMinMax(A,E),this.minX=Math.min(this.minX,E[0]),this.maxX=Math.max(this.maxX,E[1]),this.minY=Math.min(this.minY,E[2]),this.maxY=Math.max(this.maxY,E[3])}updateCurvePathMinMax(A,E,_,L,U,W,N,g,C,T){const B=o.Util.bezierBoundingBox(E,_,L,U,W,N,g,C);if(T){T[0]=Math.min(T[0],B[0],B[2]),T[1]=Math.max(T[1],B[0],B[2]),T[2]=Math.min(T[2],B[1],B[3]),T[3]=Math.max(T[3],B[1],B[3]);return}this.updateRectMinMax(A,B)}getPathBoundingBox(A=D.PathType.FILL,E=null){const _=[this.minX,this.minY,this.maxX,this.maxY];if(A===D.PathType.STROKE){E||(0,o.unreachable)("Stroke bounding box must include transform.");const L=o.Util.singularValueDecompose2dScale(E),U=L[0]*this.lineWidth/2,W=L[1]*this.lineWidth/2;_[0]-=U,_[1]-=W,_[2]+=U,_[3]+=W}return _}updateClipFromPath(){const A=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(A||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(A){this.clipBox=A,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(A=D.PathType.FILL,E=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(A,E))}}function I(k,A){if(typeof ImageData<"u"&&A instanceof ImageData){k.putImageData(A,0,0);return}const E=A.height,_=A.width,L=E%h,U=(E-L)/h,W=L===0?U:U+1,N=k.createImageData(_,h);let g=0,C;const T=A.data,B=N.data;let z,Y,K,ne;if(A.kind===o.ImageKind.GRAYSCALE_1BPP){const _e=T.byteLength,ae=new Uint32Array(B.buffer,0,B.byteLength>>2),se=ae.length,de=_+7>>3,he=4294967295,me=o.FeatureTest.isLittleEndian?4278190080:255;for(z=0;z<W;z++){for(K=z<U?h:L,C=0,Y=0;Y<K;Y++){const Se=_e-g;let ke=0;const Me=Se>de?_:Se*8-7,De=Me&-8;let Ie=0,Be=0;for(;ke<De;ke+=8)Be=T[g++],ae[C++]=Be&128?he:me,ae[C++]=Be&64?he:me,ae[C++]=Be&32?he:me,ae[C++]=Be&16?he:me,ae[C++]=Be&8?he:me,ae[C++]=Be&4?he:me,ae[C++]=Be&2?he:me,ae[C++]=Be&1?he:me;for(;ke<Me;ke++)Ie===0&&(Be=T[g++],Ie=128),ae[C++]=Be&Ie?he:me,Ie>>=1}for(;C<se;)ae[C++]=0;k.putImageData(N,0,z*h)}}else if(A.kind===o.ImageKind.RGBA_32BPP){for(Y=0,ne=_*h*4,z=0;z<U;z++)B.set(T.subarray(g,g+ne)),g+=ne,k.putImageData(N,0,Y),Y+=h;z<W&&(ne=_*L*4,B.set(T.subarray(g,g+ne)),k.putImageData(N,0,Y))}else if(A.kind===o.ImageKind.RGB_24BPP)for(K=h,ne=_*K,z=0;z<W;z++){for(z>=U&&(K=L,ne=_*K),C=0,Y=ne;Y--;)B[C++]=T[g++],B[C++]=T[g++],B[C++]=T[g++],B[C++]=255;k.putImageData(N,0,z*h)}else throw new Error(`bad image kind: ${A.kind}`)}function j(k,A){if(A.bitmap){k.drawImage(A.bitmap,0,0);return}const E=A.height,_=A.width,L=E%h,U=(E-L)/h,W=L===0?U:U+1,N=k.createImageData(_,h);let g=0;const C=A.data,T=N.data;for(let B=0;B<W;B++){const z=B<U?h:L;({srcPos:g}=(0,F.convertBlackAndWhiteToRGBA)({src:C,srcPos:g,dest:T,width:_,height:z,nonBlackColor:0})),k.putImageData(N,0,B*h)}}function w(k,A){const E=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const _ of E)k[_]!==void 0&&(A[_]=k[_]);k.setLineDash!==void 0&&(A.setLineDash(k.getLineDash()),A.lineDashOffset=k.lineDashOffset)}function R(k){if(k.strokeStyle=k.fillStyle="#000000",k.fillRule="nonzero",k.globalAlpha=1,k.lineWidth=1,k.lineCap="butt",k.lineJoin="miter",k.miterLimit=10,k.globalCompositeOperation="source-over",k.font="10px sans-serif",k.setLineDash!==void 0&&(k.setLineDash([]),k.lineDashOffset=0),!o.isNodeJS){const{filter:A}=k;A!=="none"&&A!==""&&(k.filter="none")}}function V(k,A,E,_){const L=k.length;for(let U=3;U<L;U+=4){const W=k[U];if(W===0)k[U-3]=A,k[U-2]=E,k[U-1]=_;else if(W<255){const N=255-W;k[U-3]=k[U-3]*W+A*N>>8,k[U-2]=k[U-2]*W+E*N>>8,k[U-1]=k[U-1]*W+_*N>>8}}}function X(k,A,E){const _=k.length,L=1/255;for(let U=3;U<_;U+=4){const W=E?E[k[U]]:k[U];A[U]=A[U]*W*L|0}}function G(k,A,E){const _=k.length;for(let L=3;L<_;L+=4){const U=k[L-3]*77+k[L-2]*152+k[L-1]*28;A[L]=E?A[L]*E[U>>8]>>8:A[L]*U>>16}}function ee(k,A,E,_,L,U,W,N,g,C,T){const B=!!U,z=B?U[0]:0,Y=B?U[1]:0,K=B?U[2]:0,ne=L==="Luminosity"?G:X,ae=Math.min(_,Math.ceil(1048576/E));for(let se=0;se<_;se+=ae){const de=Math.min(ae,_-se),he=k.getImageData(N-C,se+(g-T),E,de),me=A.getImageData(N,se+g,E,de);B&&V(he.data,z,Y,K),ne(he.data,me.data,W),A.putImageData(me,N,se+g)}}function Q(k,A,E,_){const L=_[0],U=_[1],W=_[2]-L,N=_[3]-U;W===0||N===0||(ee(A.context,E,W,N,A.subtype,A.backdrop,A.transferMap,L,U,A.offsetX,A.offsetY),k.save(),k.globalAlpha=1,k.globalCompositeOperation="source-over",k.setTransform(1,0,0,1,0,0),k.drawImage(E.canvas,0,0),k.restore())}function pe(k,A){const E=o.Util.singularValueDecompose2dScale(k);E[0]=Math.fround(E[0]),E[1]=Math.fround(E[1]);const _=Math.fround((globalThis.devicePixelRatio||1)*f.PixelsPerInch.PDF_TO_CSS_UNITS);return A!==void 0?A:E[0]<=_||E[1]<=_}const ce=["butt","round","square"],fe=["miter","round","bevel"],ge={},le={};class H{constructor(A,E,_,L,U,{optionalContentConfig:W,markedContentStack:N=null},g,C){this.ctx=A,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=E,this.objs=_,this.canvasFactory=L,this.filterFactory=U,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=N||[],this.optionalContentConfig=W,this.cachedCanvases=new x(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=g,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=C,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(A,E=null){return typeof A=="string"?A.startsWith("g_")?this.commonObjs.get(A):this.objs.get(A):E}beginDrawing({transform:A,viewport:E,transparency:_=!1,background:L=null}){const U=this.ctx.canvas.width,W=this.ctx.canvas.height,N=this.ctx.fillStyle;if(this.ctx.fillStyle=L||"#ffffff",this.ctx.fillRect(0,0,U,W),this.ctx.fillStyle=N,_){const g=this.cachedCanvases.getCanvas("transparent",U,W);this.compositeCtx=this.ctx,this.transparentCanvas=g.canvas,this.ctx=g.context,this.ctx.save(),this.ctx.transform(...(0,f.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),R(this.ctx),A&&(this.ctx.transform(...A),this.outputScaleX=A[0],this.outputScaleY=A[0]),this.ctx.transform(...E.transform),this.viewportScale=E.scale,this.baseTransform=(0,f.getCurrentTransform)(this.ctx)}executeOperatorList(A,E,_,L){const U=A.argsArray,W=A.fnArray;let N=E||0;const g=U.length;if(g===N)return N;const C=g-N>l&&typeof _=="function",T=C?Date.now()+a:0;let B=0;const z=this.commonObjs,Y=this.objs;let K;for(;;){if(L!==void 0&&N===L.nextBreakPoint)return L.breakIt(N,_),N;if(K=W[N],K!==o.OPS.dependency)this[K].apply(this,U[N]);else for(const ne of U[N]){const _e=ne.startsWith("g_")?z:Y;if(!_e.has(ne))return _e.get(ne,_),N}if(N++,N===g)return N;if(C&&++B>l){if(Date.now()>T)return _(),N;B=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const A of this._cachedBitmapsMap.values()){for(const E of A.values())typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement&&(E.width=E.height=0);A.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const A=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(A!=="none"){const E=this.ctx.filter;this.ctx.filter=A,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=E}}}_scaleImage(A,E){const _=A.width,L=A.height;let U=Math.max(Math.hypot(E[0],E[1]),1),W=Math.max(Math.hypot(E[2],E[3]),1),N=_,g=L,C="prescale1",T,B;for(;U>2&&N>1||W>2&&g>1;){let z=N,Y=g;U>2&&N>1&&(z=N>=16384?Math.floor(N/2)-1||1:Math.ceil(N/2),U/=N/z),W>2&&g>1&&(Y=g>=16384?Math.floor(g/2)-1||1:Math.ceil(g)/2,W/=g/Y),T=this.cachedCanvases.getCanvas(C,z,Y),B=T.context,B.clearRect(0,0,z,Y),B.drawImage(A,0,0,N,g,0,0,z,Y),A=T.canvas,N=z,g=Y,C=C==="prescale1"?"prescale2":"prescale1"}return{img:A,paintWidth:N,paintHeight:g}}_createMaskCanvas(A){const E=this.ctx,{width:_,height:L}=A,U=this.current.fillColor,W=this.current.patternFill,N=(0,f.getCurrentTransform)(E);let g,C,T,B;if((A.bitmap||A.data)&&A.count>1){const ke=A.bitmap||A.data.buffer;C=JSON.stringify(W?N:[N.slice(0,4),U]),g=this._cachedBitmapsMap.get(ke),g||(g=new Map,this._cachedBitmapsMap.set(ke,g));const Me=g.get(C);if(Me&&!W){const De=Math.round(Math.min(N[0],N[2])+N[4]),Ie=Math.round(Math.min(N[1],N[3])+N[5]);return{canvas:Me,offsetX:De,offsetY:Ie}}T=Me}T||(B=this.cachedCanvases.getCanvas("maskCanvas",_,L),j(B.context,A));let z=o.Util.transform(N,[1/_,0,0,-1/L,0,0]);z=o.Util.transform(z,[1,0,0,1,0,-L]);const Y=o.Util.applyTransform([0,0],z),K=o.Util.applyTransform([_,L],z),ne=o.Util.normalizeRect([Y[0],Y[1],K[0],K[1]]),_e=Math.round(ne[2]-ne[0])||1,ae=Math.round(ne[3]-ne[1])||1,se=this.cachedCanvases.getCanvas("fillCanvas",_e,ae),de=se.context,he=Math.min(Y[0],K[0]),me=Math.min(Y[1],K[1]);de.translate(-he,-me),de.transform(...z),T||(T=this._scaleImage(B.canvas,(0,f.getCurrentTransformInverse)(de)),T=T.img,g&&W&&g.set(C,T)),de.imageSmoothingEnabled=pe((0,f.getCurrentTransform)(de),A.interpolate),S(de,T,0,0,T.width,T.height,0,0,_,L),de.globalCompositeOperation="source-in";const Se=o.Util.transform((0,f.getCurrentTransformInverse)(de),[1,0,0,1,-he,-me]);return de.fillStyle=W?U.getPattern(E,this,Se,D.PathType.FILL):U,de.fillRect(0,0,_,L),g&&!W&&(this.cachedCanvases.delete("fillCanvas"),g.set(C,se.canvas)),{canvas:se.canvas,offsetX:Math.round(he),offsetY:Math.round(me)}}setLineWidth(A){A!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=A,this.ctx.lineWidth=A}setLineCap(A){this.ctx.lineCap=ce[A]}setLineJoin(A){this.ctx.lineJoin=fe[A]}setMiterLimit(A){this.ctx.miterLimit=A}setDash(A,E){const _=this.ctx;_.setLineDash!==void 0&&(_.setLineDash(A),_.lineDashOffset=E)}setRenderingIntent(A){}setFlatness(A){}setGState(A){for(const[E,_]of A)switch(E){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_[0],_[1]);break;case"CA":this.current.strokeAlpha=_;break;case"ca":this.current.fillAlpha=_,this.ctx.globalAlpha=_;break;case"BM":this.ctx.globalCompositeOperation=_;break;case"SMask":this.current.activeSMask=_?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(_);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const A=this.inSMaskMode;this.current.activeSMask&&!A?this.beginSMaskMode():!this.current.activeSMask&&A&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const A=this.ctx.canvas.width,E=this.ctx.canvas.height,_="smaskGroupAt"+this.groupLevel,L=this.cachedCanvases.getCanvas(_,A,E);this.suspendedCtx=this.ctx,this.ctx=L.context;const U=this.ctx;U.setTransform(...(0,f.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,U),u(U,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(A){if(!this.current.activeSMask)return;A?(A[0]=Math.floor(A[0]),A[1]=Math.floor(A[1]),A[2]=Math.ceil(A[2]),A[3]=Math.ceil(A[3])):A=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const E=this.current.activeSMask,_=this.suspendedCtx;Q(_,E,this.ctx,A),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const A=this.current;this.stateStack.push(A),this.current=A.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(A,E,_,L,U,W){this.ctx.transform(A,E,_,L,U,W),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(A,E,_){const L=this.ctx,U=this.current;let W=U.x,N=U.y,g,C;const T=(0,f.getCurrentTransform)(L),B=T[0]===0&&T[3]===0||T[1]===0&&T[2]===0,z=B?_.slice(0):null;for(let Y=0,K=0,ne=A.length;Y<ne;Y++)switch(A[Y]|0){case o.OPS.rectangle:W=E[K++],N=E[K++];const _e=E[K++],ae=E[K++],se=W+_e,de=N+ae;L.moveTo(W,N),_e===0||ae===0?L.lineTo(se,de):(L.lineTo(se,N),L.lineTo(se,de),L.lineTo(W,de)),B||U.updateRectMinMax(T,[W,N,se,de]),L.closePath();break;case o.OPS.moveTo:W=E[K++],N=E[K++],L.moveTo(W,N),B||U.updatePathMinMax(T,W,N);break;case o.OPS.lineTo:W=E[K++],N=E[K++],L.lineTo(W,N),B||U.updatePathMinMax(T,W,N);break;case o.OPS.curveTo:g=W,C=N,W=E[K+4],N=E[K+5],L.bezierCurveTo(E[K],E[K+1],E[K+2],E[K+3],W,N),U.updateCurvePathMinMax(T,g,C,E[K],E[K+1],E[K+2],E[K+3],W,N,z),K+=6;break;case o.OPS.curveTo2:g=W,C=N,L.bezierCurveTo(W,N,E[K],E[K+1],E[K+2],E[K+3]),U.updateCurvePathMinMax(T,g,C,W,N,E[K],E[K+1],E[K+2],E[K+3],z),W=E[K+2],N=E[K+3],K+=4;break;case o.OPS.curveTo3:g=W,C=N,W=E[K+2],N=E[K+3],L.bezierCurveTo(E[K],E[K+1],W,N,W,N),U.updateCurvePathMinMax(T,g,C,E[K],E[K+1],W,N,W,N,z),K+=4;break;case o.OPS.closePath:L.closePath();break}B&&U.updateScalingPathMinMax(T,z),U.setCurrentPoint(W,N)}closePath(){this.ctx.closePath()}stroke(A=!0){const E=this.ctx,_=this.current.strokeColor;E.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof _=="object"&&_?.getPattern?(E.save(),E.strokeStyle=_.getPattern(E,this,(0,f.getCurrentTransformInverse)(E),D.PathType.STROKE),this.rescaleAndStroke(!1),E.restore()):this.rescaleAndStroke(!0)),A&&this.consumePath(this.current.getClippedPathBoundingBox()),E.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(A=!0){const E=this.ctx,_=this.current.fillColor,L=this.current.patternFill;let U=!1;L&&(E.save(),E.fillStyle=_.getPattern(E,this,(0,f.getCurrentTransformInverse)(E),D.PathType.FILL),U=!0);const W=this.current.getClippedPathBoundingBox();this.contentVisible&&W!==null&&(this.pendingEOFill?(E.fill("evenodd"),this.pendingEOFill=!1):E.fill()),U&&E.restore(),A&&this.consumePath(W)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ge}eoClip(){this.pendingClip=le}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const A=this.pendingTextPaths,E=this.ctx;if(A===void 0){E.beginPath();return}E.save(),E.beginPath();for(const _ of A)E.setTransform(..._.transform),E.translate(_.x,_.y),_.addToPath(E,_.fontSize);E.restore(),E.clip(),E.beginPath(),delete this.pendingTextPaths}setCharSpacing(A){this.current.charSpacing=A}setWordSpacing(A){this.current.wordSpacing=A}setHScale(A){this.current.textHScale=A/100}setLeading(A){this.current.leading=-A}setFont(A,E){const _=this.commonObjs.get(A),L=this.current;if(!_)throw new Error(`Can't find font for ${A}`);if(L.fontMatrix=_.fontMatrix||o.FONT_IDENTITY_MATRIX,(L.fontMatrix[0]===0||L.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+A),E<0?(E=-E,L.fontDirection=-1):L.fontDirection=1,this.current.font=_,this.current.fontSize=E,_.isType3Font)return;const U=_.loadedName||"sans-serif",W=_.systemFontInfo?.css||`"${U}", ${_.fallbackName}`;let N="normal";_.black?N="900":_.bold&&(N="bold");const g=_.italic?"italic":"normal";let C=E;E<$?C=$:E>O&&(C=O),this.current.fontSizeScale=E/C,this.ctx.font=`${g} ${N} ${C}px ${W}`}setTextRenderingMode(A){this.current.textRenderingMode=A}setTextRise(A){this.current.textRise=A}moveText(A,E){this.current.x=this.current.lineX+=A,this.current.y=this.current.lineY+=E}setLeadingMoveText(A,E){this.setLeading(-E),this.moveText(A,E)}setTextMatrix(A,E,_,L,U,W){this.current.textMatrix=[A,E,_,L,U,W],this.current.textMatrixScale=Math.hypot(A,E),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(A,E,_,L){const U=this.ctx,W=this.current,N=W.font,g=W.textRenderingMode,C=W.fontSize/W.fontSizeScale,T=g&o.TextRenderingMode.FILL_STROKE_MASK,B=!!(g&o.TextRenderingMode.ADD_TO_PATH_FLAG),z=W.patternFill&&!N.missingFile;let Y;(N.disableFontFace||B||z)&&(Y=N.getPathGenerator(this.commonObjs,A)),N.disableFontFace||z?(U.save(),U.translate(E,_),U.beginPath(),Y(U,C),L&&U.setTransform(...L),(T===o.TextRenderingMode.FILL||T===o.TextRenderingMode.FILL_STROKE)&&U.fill(),(T===o.TextRenderingMode.STROKE||T===o.TextRenderingMode.FILL_STROKE)&&U.stroke(),U.restore()):((T===o.TextRenderingMode.FILL||T===o.TextRenderingMode.FILL_STROKE)&&U.fillText(A,E,_),(T===o.TextRenderingMode.STROKE||T===o.TextRenderingMode.FILL_STROKE)&&U.strokeText(A,E,_)),B&&(this.pendingTextPaths||=[]).push({transform:(0,f.getCurrentTransform)(U),x:E,y:_,fontSize:C,addToPath:Y})}get isFontSubpixelAAEnabled(){const{context:A}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);A.scale(1.5,1),A.fillText("I",0,10);const E=A.getImageData(0,0,10,10).data;let _=!1;for(let L=3;L<E.length;L+=4)if(E[L]>0&&E[L]<255){_=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",_)}showText(A){const E=this.current,_=E.font;if(_.isType3Font)return this.showType3Text(A);const L=E.fontSize;if(L===0)return;const U=this.ctx,W=E.fontSizeScale,N=E.charSpacing,g=E.wordSpacing,C=E.fontDirection,T=E.textHScale*C,B=A.length,z=_.vertical,Y=z?1:-1,K=_.defaultVMetrics,ne=L*E.fontMatrix[0],_e=E.textRenderingMode===o.TextRenderingMode.FILL&&!_.disableFontFace&&!E.patternFill;U.save(),U.transform(...E.textMatrix),U.translate(E.x,E.y+E.textRise),C>0?U.scale(T,-1):U.scale(T,1);let ae;if(E.patternFill){U.save();const Se=E.fillColor.getPattern(U,this,(0,f.getCurrentTransformInverse)(U),D.PathType.FILL);ae=(0,f.getCurrentTransform)(U),U.restore(),U.fillStyle=Se}let se=E.lineWidth;const de=E.textMatrixScale;if(de===0||se===0){const Se=E.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(Se===o.TextRenderingMode.STROKE||Se===o.TextRenderingMode.FILL_STROKE)&&(se=this.getSinglePixelWidth())}else se/=de;if(W!==1&&(U.scale(W,W),se/=W),U.lineWidth=se,_.isInvalidPDFjsFont){const Se=[];let ke=0;for(const Me of A)Se.push(Me.unicode),ke+=Me.width;U.fillText(Se.join(""),0,0),E.x+=ke*ne*T,U.restore(),this.compose();return}let he=0,me;for(me=0;me<B;++me){const Se=A[me];if(typeof Se=="number"){he+=Y*Se*L/1e3;continue}let ke=!1;const Me=(Se.isSpace?g:0)+N,De=Se.fontChar,Ie=Se.accent;let Be,at,Ke=Se.width;if(z){const tt=Se.vmetric||K,ct=-(Se.vmetric?tt[1]:Ke*.5)*ne,pt=tt[2]*ne;Ke=tt?-tt[0]:Ke,Be=ct/W,at=(he+pt)/W}else Be=he/W,at=0;if(_.remeasure&&Ke>0){const tt=U.measureText(De).width*1e3/L*W;if(Ke<tt&&this.isFontSubpixelAAEnabled){const ct=Ke/tt;ke=!0,U.save(),U.scale(ct,1),Be/=ct}else Ke!==tt&&(Be+=(Ke-tt)/2e3*L/W)}if(this.contentVisible&&(Se.isInFont||_.missingFile)){if(_e&&!Ie)U.fillText(De,Be,at);else if(this.paintChar(De,Be,at,ae),Ie){const tt=Be+L*Ie.offset.x/W,ct=at-L*Ie.offset.y/W;this.paintChar(Ie.fontChar,tt,ct,ae)}}const kt=z?Ke*ne-Me*C:Ke*ne+Me*C;he+=kt,ke&&U.restore()}z?E.y-=he:E.x+=he*T,U.restore(),this.compose()}showType3Text(A){const E=this.ctx,_=this.current,L=_.font,U=_.fontSize,W=_.fontDirection,N=L.vertical?1:-1,g=_.charSpacing,C=_.wordSpacing,T=_.textHScale*W,B=_.fontMatrix||o.FONT_IDENTITY_MATRIX,z=A.length,Y=_.textRenderingMode===o.TextRenderingMode.INVISIBLE;let K,ne,_e,ae;if(!(Y||U===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,E.save(),E.transform(..._.textMatrix),E.translate(_.x,_.y),E.scale(T,W),K=0;K<z;++K){if(ne=A[K],typeof ne=="number"){ae=N*ne*U/1e3,this.ctx.translate(ae,0),_.x+=ae*T;continue}const se=(ne.isSpace?C:0)+g,de=L.charProcOperatorList[ne.operatorListId];if(!de){(0,o.warn)(`Type3 character "${ne.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ne,this.save(),E.scale(U,U),E.transform(...B),this.executeOperatorList(de),this.restore()),_e=o.Util.applyTransform([ne.width,0],B)[0]*U+se,E.translate(_e,0),_.x+=_e*T}E.restore(),this.processingType3=null}}setCharWidth(A,E){}setCharWidthAndBounds(A,E,_,L,U,W){this.ctx.rect(_,L,U-_,W-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(A){let E;if(A[0]==="TilingPattern"){const _=A[1],L=this.baseTransform||(0,f.getCurrentTransform)(this.ctx),U={createCanvasGraphics:W=>new H(W,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};E=new D.TilingPattern(A,_,this.ctx,U,L)}else E=this._getPattern(A[1],A[2]);return E}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(A,E,_){const L=o.Util.makeHexColor(A,E,_);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(A,E,_){const L=o.Util.makeHexColor(A,E,_);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(A,E=null){let _;return this.cachedPatterns.has(A)?_=this.cachedPatterns.get(A):(_=(0,D.getShadingPattern)(this.getObject(A)),this.cachedPatterns.set(A,_)),E&&(_.matrix=E),_}shadingFill(A){if(!this.contentVisible)return;const E=this.ctx;this.save();const _=this._getPattern(A);E.fillStyle=_.getPattern(E,this,(0,f.getCurrentTransformInverse)(E),D.PathType.SHADING);const L=(0,f.getCurrentTransformInverse)(E);if(L){const{width:U,height:W}=E.canvas,[N,g,C,T]=o.Util.getAxialAlignedBoundingBox([0,0,U,W],L);this.ctx.fillRect(N,g,C-N,T-g)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(A,E){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(A)&&A.length===6&&this.transform(...A),this.baseTransform=(0,f.getCurrentTransform)(this.ctx),E)){const _=E[2]-E[0],L=E[3]-E[1];this.ctx.rect(E[0],E[1],_,L),this.current.updateRectMinMax((0,f.getCurrentTransform)(this.ctx),E),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(A){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const E=this.ctx;A.isolated||(0,o.info)("TODO: Support non-isolated groups."),A.knockout&&(0,o.warn)("Knockout groups not supported.");const _=(0,f.getCurrentTransform)(E);if(A.matrix&&E.transform(...A.matrix),!A.bbox)throw new Error("Bounding box is required.");let L=o.Util.getAxialAlignedBoundingBox(A.bbox,(0,f.getCurrentTransform)(E));const U=[0,0,E.canvas.width,E.canvas.height];L=o.Util.intersect(L,U)||[0,0,0,0];const W=Math.floor(L[0]),N=Math.floor(L[1]);let g=Math.max(Math.ceil(L[2])-W,1),C=Math.max(Math.ceil(L[3])-N,1),T=1,B=1;g>d&&(T=g/d,g=d),C>d&&(B=C/d,C=d),this.current.startNewPathAndClipBox([0,0,g,C]);let z="groupAt"+this.groupLevel;A.smask&&(z+="_smask_"+this.smaskCounter++%2);const Y=this.cachedCanvases.getCanvas(z,g,C),K=Y.context;K.scale(1/T,1/B),K.translate(-W,-N),K.transform(..._),A.smask?this.smaskStack.push({canvas:Y.canvas,context:K,offsetX:W,offsetY:N,scaleX:T,scaleY:B,subtype:A.smask.subtype,backdrop:A.smask.backdrop,transferMap:A.smask.transferMap||null,startTransformInverse:null}):(E.setTransform(1,0,0,1,0,0),E.translate(W,N),E.scale(T,B),E.save()),w(E,K),this.ctx=K,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(E),this.groupLevel++}endGroup(A){if(!this.contentVisible)return;this.groupLevel--;const E=this.ctx,_=this.groupStack.pop();if(this.ctx=_,this.ctx.imageSmoothingEnabled=!1,A.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const L=(0,f.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...L);const U=o.Util.getAxialAlignedBoundingBox([0,0,E.canvas.width,E.canvas.height],L);this.ctx.drawImage(E.canvas,0,0),this.ctx.restore(),this.compose(U)}}beginAnnotation(A,E,_,L,U){if(this.#e(),R(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(E)&&E.length===4){const W=E[2]-E[0],N=E[3]-E[1];if(U&&this.annotationCanvasMap){_=_.slice(),_[4]-=E[0],_[5]-=E[1],E=E.slice(),E[0]=E[1]=0,E[2]=W,E[3]=N;const[g,C]=o.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(this.ctx)),{viewportScale:T}=this,B=Math.ceil(W*this.outputScaleX*T),z=Math.ceil(N*this.outputScaleY*T);this.annotationCanvas=this.canvasFactory.create(B,z);const{canvas:Y,context:K}=this.annotationCanvas;this.annotationCanvasMap.set(A,Y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=K,this.ctx.save(),this.ctx.setTransform(g,0,0,-C,0,N*C),R(this.ctx)}else R(this.ctx),this.ctx.rect(E[0],E[1],W,N),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(..._),this.transform(...L)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(A){if(!this.contentVisible)return;const E=A.count;A=this.getObject(A.data,A),A.count=E;const _=this.ctx,L=this.processingType3;if(L&&(L.compiled===void 0&&(L.compiled=y(A)),L.compiled)){L.compiled(_);return}const U=this._createMaskCanvas(A),W=U.canvas;_.save(),_.setTransform(1,0,0,1,0,0),_.drawImage(W,U.offsetX,U.offsetY),_.restore(),this.compose()}paintImageMaskXObjectRepeat(A,E,_=0,L=0,U,W){if(!this.contentVisible)return;A=this.getObject(A.data,A);const N=this.ctx;N.save();const g=(0,f.getCurrentTransform)(N);N.transform(E,_,L,U,0,0);const C=this._createMaskCanvas(A);N.setTransform(1,0,0,1,C.offsetX-g[4],C.offsetY-g[5]);for(let T=0,B=W.length;T<B;T+=2){const z=o.Util.transform(g,[E,_,L,U,W[T],W[T+1]]),[Y,K]=o.Util.applyTransform([0,0],z);N.drawImage(C.canvas,Y,K)}N.restore(),this.compose()}paintImageMaskXObjectGroup(A){if(!this.contentVisible)return;const E=this.ctx,_=this.current.fillColor,L=this.current.patternFill;for(const U of A){const{data:W,width:N,height:g,transform:C}=U,T=this.cachedCanvases.getCanvas("maskCanvas",N,g),B=T.context;B.save();const z=this.getObject(W,U);j(B,z),B.globalCompositeOperation="source-in",B.fillStyle=L?_.getPattern(B,this,(0,f.getCurrentTransformInverse)(E),D.PathType.FILL):_,B.fillRect(0,0,N,g),B.restore(),E.save(),E.transform(...C),E.scale(1,-1),S(E,T.canvas,0,0,N,g,0,-1,1,1),E.restore()}this.compose()}paintImageXObject(A){if(!this.contentVisible)return;const E=this.getObject(A);if(!E){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(E)}paintImageXObjectRepeat(A,E,_,L){if(!this.contentVisible)return;const U=this.getObject(A);if(!U){(0,o.warn)("Dependent image isn't ready yet");return}const W=U.width,N=U.height,g=[];for(let C=0,T=L.length;C<T;C+=2)g.push({transform:[E,0,0,_,L[C],L[C+1]],x:0,y:0,w:W,h:N});this.paintInlineImageXObjectGroup(U,g)}applyTransferMapsToCanvas(A){return this.current.transferMaps!=="none"&&(A.filter=this.current.transferMaps,A.drawImage(A.canvas,0,0),A.filter="none"),A.canvas}applyTransferMapsToBitmap(A){if(this.current.transferMaps==="none")return A.bitmap;const{bitmap:E,width:_,height:L}=A,U=this.cachedCanvases.getCanvas("inlineImage",_,L),W=U.context;return W.filter=this.current.transferMaps,W.drawImage(E,0,0),W.filter="none",U.canvas}paintInlineImageXObject(A){if(!this.contentVisible)return;const E=A.width,_=A.height,L=this.ctx;if(this.save(),!o.isNodeJS){const{filter:N}=L;N!=="none"&&N!==""&&(L.filter="none")}L.scale(1/E,-1/_);let U;if(A.bitmap)U=this.applyTransferMapsToBitmap(A);else if(typeof HTMLElement=="function"&&A instanceof HTMLElement||!A.data)U=A;else{const g=this.cachedCanvases.getCanvas("inlineImage",E,_).context;I(g,A),U=this.applyTransferMapsToCanvas(g)}const W=this._scaleImage(U,(0,f.getCurrentTransformInverse)(L));L.imageSmoothingEnabled=pe((0,f.getCurrentTransform)(L),A.interpolate),S(L,W.img,0,0,W.paintWidth,W.paintHeight,0,-_,E,_),this.compose(),this.restore()}paintInlineImageXObjectGroup(A,E){if(!this.contentVisible)return;const _=this.ctx;let L;if(A.bitmap)L=A.bitmap;else{const U=A.width,W=A.height,g=this.cachedCanvases.getCanvas("inlineImage",U,W).context;I(g,A),L=this.applyTransferMapsToCanvas(g)}for(const U of E)_.save(),_.transform(...U.transform),_.scale(1,-1),S(_,L,U.x,U.y,U.w,U.h,0,-1,1,1),_.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(A){}markPointProps(A,E){}beginMarkedContent(A){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(A,E){A==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(E)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(A){const E=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(A);const _=this.ctx;this.pendingClip&&(E||(this.pendingClip===le?_.clip("evenodd"):_.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),_.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const A=(0,f.getCurrentTransform)(this.ctx);if(A[1]===0&&A[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(A[0]),Math.abs(A[3]));else{const E=Math.abs(A[0]*A[3]-A[2]*A[1]),_=Math.hypot(A[0],A[2]),L=Math.hypot(A[1],A[3]);this._cachedGetSinglePixelWidth=Math.max(_,L)/E}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:A}=this.current,{a:E,b:_,c:L,d:U}=this.ctx.getTransform();let W,N;if(_===0&&L===0){const g=Math.abs(E),C=Math.abs(U);if(g===C)if(A===0)W=N=1/g;else{const T=g*A;W=N=T<1?1/T:1}else if(A===0)W=1/g,N=1/C;else{const T=g*A,B=C*A;W=T<1?1/T:1,N=B<1?1/B:1}}else{const g=Math.abs(E*U-_*L),C=Math.hypot(E,_),T=Math.hypot(L,U);if(A===0)W=T/g,N=C/g;else{const B=A*g;W=T>B?T/B:1,N=C>B?C/B:1}}this._cachedScaleForStroking[0]=W,this._cachedScaleForStroking[1]=N}return this._cachedScaleForStroking}rescaleAndStroke(A){const{ctx:E}=this,{lineWidth:_}=this.current,[L,U]=this.getScaleForStroking();if(E.lineWidth=_||1,L===1&&U===1){E.stroke();return}const W=E.getLineDash();if(A&&E.save(),E.scale(L,U),W.length>0){const N=Math.max(L,U);E.setLineDash(W.map(g=>g/N)),E.lineDashOffset/=N}E.stroke(),A&&E.restore()}isContentVisible(){for(let A=this.markedContentStack.length-1;A>=0;A--)if(!this.markedContentStack[A].visible)return!1;return!0}}s.CanvasGraphics=H;for(const k in o.OPS)H.prototype[k]!==void 0&&(H.prototype[o.OPS[k]]=H.prototype[k])}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=h;var o=m(1),f=m(6);const D={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=D;function F(S,y){if(!y)return;const P=y[2]-y[0],I=y[3]-y[1],j=new Path2D;j.rect(y[0],y[1],P,I),S.clip(j)}class ${constructor(){this.constructor===$&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class O extends ${constructor(y){super(),this._type=y[1],this._bbox=y[2],this._colorStops=y[3],this._p0=y[4],this._p1=y[5],this._r0=y[6],this._r1=y[7],this.matrix=null}_createGradient(y){let P;this._type==="axial"?P=y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(P=y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const I of this._colorStops)P.addColorStop(I[0],I[1]);return P}getPattern(y,P,I,j){let w;if(j===D.STROKE||j===D.FILL){const R=P.current.getClippedPathBoundingBox(j,(0,f.getCurrentTransform)(y))||[0,0,0,0],V=Math.ceil(R[2]-R[0])||1,X=Math.ceil(R[3]-R[1])||1,G=P.cachedCanvases.getCanvas("pattern",V,X,!0),ee=G.context;ee.clearRect(0,0,ee.canvas.width,ee.canvas.height),ee.beginPath(),ee.rect(0,0,ee.canvas.width,ee.canvas.height),ee.translate(-R[0],-R[1]),I=o.Util.transform(I,[1,0,0,1,R[0],R[1]]),ee.transform(...P.baseTransform),this.matrix&&ee.transform(...this.matrix),F(ee,this._bbox),ee.fillStyle=this._createGradient(ee),ee.fill(),w=y.createPattern(G.canvas,"no-repeat");const Q=new DOMMatrix(I);w.setTransform(Q)}else F(y,this._bbox),w=this._createGradient(y);return w}}function d(S,y,P,I,j,w,R,V){const X=y.coords,G=y.colors,ee=S.data,Q=S.width*4;let pe;X[P+1]>X[I+1]&&(pe=P,P=I,I=pe,pe=w,w=R,R=pe),X[I+1]>X[j+1]&&(pe=I,I=j,j=pe,pe=R,R=V,V=pe),X[P+1]>X[I+1]&&(pe=P,P=I,I=pe,pe=w,w=R,R=pe);const ce=(X[P]+y.offsetX)*y.scaleX,fe=(X[P+1]+y.offsetY)*y.scaleY,ge=(X[I]+y.offsetX)*y.scaleX,le=(X[I+1]+y.offsetY)*y.scaleY,H=(X[j]+y.offsetX)*y.scaleX,k=(X[j+1]+y.offsetY)*y.scaleY;if(fe>=k)return;const A=G[w],E=G[w+1],_=G[w+2],L=G[R],U=G[R+1],W=G[R+2],N=G[V],g=G[V+1],C=G[V+2],T=Math.round(fe),B=Math.round(k);let z,Y,K,ne,_e,ae,se,de;for(let he=T;he<=B;he++){if(he<le){const De=he<fe?0:(fe-he)/(fe-le);z=ce-(ce-ge)*De,Y=A-(A-L)*De,K=E-(E-U)*De,ne=_-(_-W)*De}else{let De;he>k?De=1:le===k?De=0:De=(le-he)/(le-k),z=ge-(ge-H)*De,Y=L-(L-N)*De,K=U-(U-g)*De,ne=W-(W-C)*De}let me;he<fe?me=0:he>k?me=1:me=(fe-he)/(fe-k),_e=ce-(ce-H)*me,ae=A-(A-N)*me,se=E-(E-g)*me,de=_-(_-C)*me;const Se=Math.round(Math.min(z,_e)),ke=Math.round(Math.max(z,_e));let Me=Q*he+Se*4;for(let De=Se;De<=ke;De++)me=(z-De)/(z-_e),me<0?me=0:me>1&&(me=1),ee[Me++]=Y-(Y-ae)*me|0,ee[Me++]=K-(K-se)*me|0,ee[Me++]=ne-(ne-de)*me|0,ee[Me++]=255}}function a(S,y,P){const I=y.coords,j=y.colors;let w,R;switch(y.type){case"lattice":const V=y.verticesPerRow,X=Math.floor(I.length/V)-1,G=V-1;for(w=0;w<X;w++){let ee=w*V;for(let Q=0;Q<G;Q++,ee++)d(S,P,I[ee],I[ee+1],I[ee+V],j[ee],j[ee+1],j[ee+V]),d(S,P,I[ee+V+1],I[ee+1],I[ee+V],j[ee+V+1],j[ee+1],j[ee+V])}break;case"triangles":for(w=0,R=I.length;w<R;w+=3)d(S,P,I[w],I[w+1],I[w+2],j[w],j[w+1],j[w+2]);break;default:throw new Error("illegal figure")}}class l extends ${constructor(y){super(),this._coords=y[2],this._colors=y[3],this._figures=y[4],this._bounds=y[5],this._bbox=y[7],this._background=y[8],this.matrix=null}_createMeshCanvas(y,P,I){const V=Math.floor(this._bounds[0]),X=Math.floor(this._bounds[1]),G=Math.ceil(this._bounds[2])-V,ee=Math.ceil(this._bounds[3])-X,Q=Math.min(Math.ceil(Math.abs(G*y[0]*1.1)),3e3),pe=Math.min(Math.ceil(Math.abs(ee*y[1]*1.1)),3e3),ce=G/Q,fe=ee/pe,ge={coords:this._coords,colors:this._colors,offsetX:-V,offsetY:-X,scaleX:1/ce,scaleY:1/fe},le=Q+4,H=pe+4,k=I.getCanvas("mesh",le,H,!1),A=k.context,E=A.createImageData(Q,pe);if(P){const L=E.data;for(let U=0,W=L.length;U<W;U+=4)L[U]=P[0],L[U+1]=P[1],L[U+2]=P[2],L[U+3]=255}for(const L of this._figures)a(E,L,ge);return A.putImageData(E,2,2),{canvas:k.canvas,offsetX:V-2*ce,offsetY:X-2*fe,scaleX:ce,scaleY:fe}}getPattern(y,P,I,j){F(y,this._bbox);let w;if(j===D.SHADING)w=o.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(y));else if(w=o.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const V=o.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*V[0],w[1]*V[1]]}const R=this._createMeshCanvas(w,j===D.SHADING?null:this._background,P.cachedCanvases);return j!==D.SHADING&&(y.setTransform(...P.baseTransform),this.matrix&&y.transform(...this.matrix)),y.translate(R.offsetX,R.offsetY),y.scale(R.scaleX,R.scaleY),y.createPattern(R.canvas,"no-repeat")}}class b extends ${getPattern(){return"hotpink"}}function h(S){switch(S[0]){case"RadialAxial":return new O(S);case"Mesh":return new l(S);case"Dummy":return new b}throw new Error(`Unknown IR type: ${S[0]}`)}const u={COLORED:1,UNCOLORED:2};class x{static MAX_PATTERN_SIZE=3e3;constructor(y,P,I,j,w){this.operatorList=y[2],this.matrix=y[3]||[1,0,0,1,0,0],this.bbox=y[4],this.xstep=y[5],this.ystep=y[6],this.paintType=y[7],this.tilingType=y[8],this.color=P,this.ctx=I,this.canvasGraphicsFactory=j,this.baseTransform=w}createPatternCanvas(y){const P=this.operatorList,I=this.bbox,j=this.xstep,w=this.ystep,R=this.paintType,V=this.tilingType,X=this.color,G=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+V);const ee=I[0],Q=I[1],pe=I[2],ce=I[3],fe=o.Util.singularValueDecompose2dScale(this.matrix),ge=o.Util.singularValueDecompose2dScale(this.baseTransform),le=[fe[0]*ge[0],fe[1]*ge[1]],H=this.getSizeAndScale(j,this.ctx.canvas.width,le[0]),k=this.getSizeAndScale(w,this.ctx.canvas.height,le[1]),A=y.cachedCanvases.getCanvas("pattern",H.size,k.size,!0),E=A.context,_=G.createCanvasGraphics(E);_.groupLevel=y.groupLevel,this.setFillAndStrokeStyleToContext(_,R,X);let L=ee,U=Q,W=pe,N=ce;return ee<0&&(L=0,W+=Math.abs(ee)),Q<0&&(U=0,N+=Math.abs(Q)),E.translate(-(H.scale*L),-(k.scale*U)),_.transform(H.scale,0,0,k.scale,0,0),E.save(),this.clipBbox(_,L,U,W,N),_.baseTransform=(0,f.getCurrentTransform)(_.ctx),_.executeOperatorList(P),_.endDrawing(),{canvas:A.canvas,scaleX:H.scale,scaleY:k.scale,offsetX:L,offsetY:U}}getSizeAndScale(y,P,I){y=Math.abs(y);const j=Math.max(x.MAX_PATTERN_SIZE,P);let w=Math.ceil(y*I);return w>=j?w=j:I=w/y,{scale:I,size:w}}clipBbox(y,P,I,j,w){const R=j-P,V=w-I;y.ctx.rect(P,I,R,V),y.current.updateRectMinMax((0,f.getCurrentTransform)(y.ctx),[P,I,j,w]),y.clip(),y.endPath()}setFillAndStrokeStyleToContext(y,P,I){const j=y.ctx,w=y.current;switch(P){case u.COLORED:const R=this.ctx;j.fillStyle=R.fillStyle,j.strokeStyle=R.strokeStyle,w.fillColor=R.fillStyle,w.strokeColor=R.strokeStyle;break;case u.UNCOLORED:const V=o.Util.makeHexColor(I[0],I[1],I[2]);j.fillStyle=V,j.strokeStyle=V,w.fillColor=V,w.strokeColor=V;break;default:throw new o.FormatError(`Unsupported paint type: ${P}`)}}getPattern(y,P,I,j){let w=I;j!==D.SHADING&&(w=o.Util.transform(w,P.baseTransform),this.matrix&&(w=o.Util.transform(w,this.matrix)));const R=this.createPatternCanvas(P);let V=new DOMMatrix(w);V=V.translate(R.offsetX,R.offsetY),V=V.scale(1/R.scaleX,1/R.scaleY);const X=y.createPattern(R.canvas,"repeat");return X.setTransform(V),X}}s.TilingPattern=x}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=D,s.convertToRGBA=f,s.grayToRGBA=$;var o=m(1);function f(O){switch(O.kind){case o.ImageKind.GRAYSCALE_1BPP:return D(O);case o.ImageKind.RGB_24BPP:return F(O)}return null}function D({src:O,srcPos:d=0,dest:a,width:l,height:b,nonBlackColor:h=4294967295,inverseDecode:u=!1}){const x=o.FeatureTest.isLittleEndian?4278190080:255,[S,y]=u?[h,x]:[x,h],P=l>>3,I=l&7,j=O.length;a=new Uint32Array(a.buffer);let w=0;for(let R=0;R<b;R++){for(const X=d+P;d<X;d++){const G=d<j?O[d]:255;a[w++]=G&128?y:S,a[w++]=G&64?y:S,a[w++]=G&32?y:S,a[w++]=G&16?y:S,a[w++]=G&8?y:S,a[w++]=G&4?y:S,a[w++]=G&2?y:S,a[w++]=G&1?y:S}if(I===0)continue;const V=d<j?O[d++]:255;for(let X=0;X<I;X++)a[w++]=V&1<<7-X?y:S}return{srcPos:d,destPos:w}}function F({src:O,srcPos:d=0,dest:a,destPos:l=0,width:b,height:h}){let u=0;const x=O.length>>2,S=new Uint32Array(O.buffer,d,x);if(o.FeatureTest.isLittleEndian){for(;u<x-2;u+=3,l+=4){const y=S[u],P=S[u+1],I=S[u+2];a[l]=y|4278190080,a[l+1]=y>>>24|P<<8|4278190080,a[l+2]=P>>>16|I<<16|4278190080,a[l+3]=I>>>8|4278190080}for(let y=u*4,P=O.length;y<P;y+=3)a[l++]=O[y]|O[y+1]<<8|O[y+2]<<16|4278190080}else{for(;u<x-2;u+=3,l+=4){const y=S[u],P=S[u+1],I=S[u+2];a[l]=y|255,a[l+1]=y<<24|P>>>8|255,a[l+2]=P<<16|I>>>16|255,a[l+3]=I<<8|255}for(let y=u*4,P=O.length;y<P;y+=3)a[l++]=O[y]<<24|O[y+1]<<16|O[y+2]<<8|255}return{srcPos:d,destPos:l}}function $(O,d){if(o.FeatureTest.isLittleEndian)for(let a=0,l=O.length;a<l;a++)d[a]=O[a]*65793|4278190080;else for(let a=0,l=O.length;a<l;a++)d[a]=O[a]*16843008|255}}),((v,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const m=Object.create(null);s.GlobalWorkerOptions=m,m.workerPort=null,m.workerSrc=""}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var o=m(1);const f={DATA:1,ERROR:2},D={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function F(O){switch(O instanceof Error||typeof O=="object"&&O!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new o.AbortException(O.message);case"MissingPDFException":return new o.MissingPDFException(O.message);case"PasswordException":return new o.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new o.UnknownErrorException(O.message,O.details);default:return new o.UnknownErrorException(O.message,O.toString())}}class ${constructor(d,a,l){this.sourceName=d,this.targetName=a,this.comObj=l,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=b=>{const h=b.data;if(h.targetName!==this.sourceName)return;if(h.stream){this.#t(h);return}if(h.callback){const x=h.callbackId,S=this.callbackCapabilities[x];if(!S)throw new Error(`Cannot resolve callback ${x}`);if(delete this.callbackCapabilities[x],h.callback===f.DATA)S.resolve(h.data);else if(h.callback===f.ERROR)S.reject(F(h.reason));else throw new Error("Unexpected callback case");return}const u=this.actionHandler[h.action];if(!u)throw new Error(`Unknown action from worker: ${h.action}`);if(h.callbackId){const x=this.sourceName,S=h.sourceName;new Promise(function(y){y(u(h.data))}).then(function(y){l.postMessage({sourceName:x,targetName:S,callback:f.DATA,callbackId:h.callbackId,data:y})},function(y){l.postMessage({sourceName:x,targetName:S,callback:f.ERROR,callbackId:h.callbackId,reason:F(y)})});return}if(h.streamId){this.#e(h);return}u(h.data)},l.addEventListener("message",this._onComObjOnMessage)}on(d,a){const l=this.actionHandler;if(l[d])throw new Error(`There is already an actionName called "${d}"`);l[d]=a}send(d,a,l){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:a},l)}sendWithPromise(d,a,l){const b=this.callbackId++,h=new o.PromiseCapability;this.callbackCapabilities[b]=h;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:b,data:a},l)}catch(u){h.reject(u)}return h.promise}sendWithStream(d,a,l,b){const h=this.streamId++,u=this.sourceName,x=this.targetName,S=this.comObj;return new ReadableStream({start:y=>{const P=new o.PromiseCapability;return this.streamControllers[h]={controller:y,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},S.postMessage({sourceName:u,targetName:x,action:d,streamId:h,data:a,desiredSize:y.desiredSize},b),P.promise},pull:y=>{const P=new o.PromiseCapability;return this.streamControllers[h].pullCall=P,S.postMessage({sourceName:u,targetName:x,stream:D.PULL,streamId:h,desiredSize:y.desiredSize}),P.promise},cancel:y=>{(0,o.assert)(y instanceof Error,"cancel must have a valid reason");const P=new o.PromiseCapability;return this.streamControllers[h].cancelCall=P,this.streamControllers[h].isClosed=!0,S.postMessage({sourceName:u,targetName:x,stream:D.CANCEL,streamId:h,reason:F(y)}),P.promise}},l)}#e(d){const a=d.streamId,l=this.sourceName,b=d.sourceName,h=this.comObj,u=this,x=this.actionHandler[d.action],S={enqueue(y,P=1,I){if(this.isCancelled)return;const j=this.desiredSize;this.desiredSize-=P,j>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),h.postMessage({sourceName:l,targetName:b,stream:D.ENQUEUE,streamId:a,chunk:y},I)},close(){this.isCancelled||(this.isCancelled=!0,h.postMessage({sourceName:l,targetName:b,stream:D.CLOSE,streamId:a}),delete u.streamSinks[a])},error(y){(0,o.assert)(y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,h.postMessage({sourceName:l,targetName:b,stream:D.ERROR,streamId:a,reason:F(y)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};S.sinkCapability.resolve(),S.ready=S.sinkCapability.promise,this.streamSinks[a]=S,new Promise(function(y){y(x(d.data,S))}).then(function(){h.postMessage({sourceName:l,targetName:b,stream:D.START_COMPLETE,streamId:a,success:!0})},function(y){h.postMessage({sourceName:l,targetName:b,stream:D.START_COMPLETE,streamId:a,reason:F(y)})})}#t(d){const a=d.streamId,l=this.sourceName,b=d.sourceName,h=this.comObj,u=this.streamControllers[a],x=this.streamSinks[a];switch(d.stream){case D.START_COMPLETE:d.success?u.startCall.resolve():u.startCall.reject(F(d.reason));break;case D.PULL_COMPLETE:d.success?u.pullCall.resolve():u.pullCall.reject(F(d.reason));break;case D.PULL:if(!x){h.postMessage({sourceName:l,targetName:b,stream:D.PULL_COMPLETE,streamId:a,success:!0});break}x.desiredSize<=0&&d.desiredSize>0&&x.sinkCapability.resolve(),x.desiredSize=d.desiredSize,new Promise(function(S){S(x.onPull?.())}).then(function(){h.postMessage({sourceName:l,targetName:b,stream:D.PULL_COMPLETE,streamId:a,success:!0})},function(S){h.postMessage({sourceName:l,targetName:b,stream:D.PULL_COMPLETE,streamId:a,reason:F(S)})});break;case D.ENQUEUE:if((0,o.assert)(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(d.chunk);break;case D.CLOSE:if((0,o.assert)(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),this.#n(u,a);break;case D.ERROR:(0,o.assert)(u,"error should have stream controller"),u.controller.error(F(d.reason)),this.#n(u,a);break;case D.CANCEL_COMPLETE:d.success?u.cancelCall.resolve():u.cancelCall.reject(F(d.reason)),this.#n(u,a);break;case D.CANCEL:if(!x)break;new Promise(function(S){S(x.onCancel?.(F(d.reason)))}).then(function(){h.postMessage({sourceName:l,targetName:b,stream:D.CANCEL_COMPLETE,streamId:a,success:!0})},function(S){h.postMessage({sourceName:l,targetName:b,stream:D.CANCEL_COMPLETE,streamId:a,reason:F(S)})}),x.sinkCapability.reject(F(d.reason)),x.isCancelled=!0,delete this.streamSinks[a];break;default:throw new Error("Unexpected stream case")}}async#n(d,a){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[a]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=$}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var o=m(1);class f{#e;#t;constructor({parsedData:F,rawData:$}){this.#e=F,this.#t=$}getRaw(){return this.#t}get(F){return this.#e.get(F)??null}getAll(){return(0,o.objectFromMap)(this.#e)}has(F){return this.#e.has(F)}}s.Metadata=f}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var o=m(1),f=m(8);const D=Symbol("INTERNAL");class F{#e=!0;constructor(d,a){this.name=d,this.intent=a}get visible(){return this.#e}_setVisible(d,a){d!==D&&(0,o.unreachable)("Internal method `_setVisible` called."),this.#e=a}}class ${#e=null;#t=new Map;#n=null;#r=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#r=d.order;for(const a of d.groups)this.#t.set(a.id,new F(a.name,a.intent));if(d.baseState==="OFF")for(const a of this.#t.values())a._setVisible(D,!1);for(const a of d.on)this.#t.get(a)._setVisible(D,!0);for(const a of d.off)this.#t.get(a)._setVisible(D,!1);this.#n=this.getHash()}}#o(d){const a=d.length;if(a<2)return!0;const l=d[0];for(let b=1;b<a;b++){const h=d[b];let u;if(Array.isArray(h))u=this.#o(h);else if(this.#t.has(h))u=this.#t.get(h).visible;else return(0,o.warn)(`Optional content group not found: ${h}`),!0;switch(l){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return l==="And"}isVisible(d){if(this.#t.size===0)return!0;if(!d)return(0,o.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#t.has(d.id)?this.#t.get(d.id).visible:((0,o.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#o(d.expression);if(!d.policy||d.policy==="AnyOn"){for(const a of d.ids){if(!this.#t.has(a))return(0,o.warn)(`Optional content group not found: ${a}`),!0;if(this.#t.get(a).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const a of d.ids){if(!this.#t.has(a))return(0,o.warn)(`Optional content group not found: ${a}`),!0;if(!this.#t.get(a).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const a of d.ids){if(!this.#t.has(a))return(0,o.warn)(`Optional content group not found: ${a}`),!0;if(!this.#t.get(a).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const a of d.ids){if(!this.#t.has(a))return(0,o.warn)(`Optional content group not found: ${a}`),!0;if(this.#t.get(a).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,o.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,a=!0){if(!this.#t.has(d)){(0,o.warn)(`Optional content group not found: ${d}`);return}this.#t.get(d)._setVisible(D,!!a),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}getGroup(d){return this.#t.get(d)||null}getHash(){if(this.#e!==null)return this.#e;const d=new f.MurmurHash3_64;for(const[a,l]of this.#t)d.update(`${a}:${l.visible}`);return this.#e=d.hexdigest()}}s.OptionalContentConfig=$}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var o=m(1),f=m(6);class D{constructor({length:d,initialData:a,progressiveDone:l=!1,contentDispositionFilename:b=null,disableRange:h=!1,disableStream:u=!1},x){if((0,o.assert)(x,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=b,a?.length>0){const S=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(S)}this._pdfDataRangeTransport=x,this._isStreamingSupported=!u,this._isRangeSupported=!h,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((S,y)=>{this._onReceiveData({begin:S,chunk:y})}),this._pdfDataRangeTransport.addProgressListener((S,y)=>{this._onProgress({loaded:S,total:y})}),this._pdfDataRangeTransport.addProgressiveReadListener(S=>{this._onReceiveData({chunk:S})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:a}){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(l):this._queuedChunks.push(l);else{const b=this._rangeReaders.some(function(h){return h._begin!==d?!1:(h._enqueue(l),!0)});(0,o.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const a=this._rangeReaders.indexOf(d);a>=0&&this._rangeReaders.splice(a,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new F(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,a){if(a<=this._progressiveDataLength)return null;const l=new $(this,d,a);return this._pdfDataRangeTransport.requestDataRange(d,a),this._rangeReaders.push(l),l}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const a of this._rangeReaders.slice(0))a.cancel(d);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=D;class F{constructor(d,a,l=!1,b=null){this._stream=d,this._done=l||!1,this._filename=(0,f.isPdfFile)(b)?b:null,this._queuedChunks=a||[],this._loaded=0;for(const h of this._queuedChunks)this._loaded+=h.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ${constructor(d,a,l){this._stream=d,this._begin=a,this._end=l,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var o=m(1),f=m(20);function D(l,b,h){return{method:"GET",headers:l,signal:h.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function F(l){const b=new Headers;for(const h in l){const u=l[h];u!==void 0&&b.append(h,u)}return b}function $(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:((0,o.warn)(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class O{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(b,h){if(h<=this._progressiveDataLength)return null;const u=new a(this,b,h);return this._rangeRequestReaders.push(u),u}cancelAllRequests(b){this._fullRequestReader?.cancel(b);for(const h of this._rangeRequestReaders.slice(0))h.cancel(b)}}s.PDFFetchStream=O;class d{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;const h=b.source;this._withCredentials=h.withCredentials||!1,this._contentLength=h.length,this._headersCapability=new o.PromiseCapability,this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._headers=F(this._stream.httpHeaders);const u=h.url;fetch(u,D(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,f.validateResponseStatus)(x.status))throw(0,f.createResponseStatusError)(x.status,u);this._reader=x.body.getReader(),this._headersCapability.resolve();const S=I=>x.headers.get(I),{allowRangeRequests:y,suggestedLength:P}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=P||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(S),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:b,done:h}=await this._reader.read();return h?{value:b,done:h}:(this._loaded+=b.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:$(b),done:!1})}cancel(b){this._reader?.cancel(b),this._abortController.abort()}}class a{constructor(b,h,u){this._stream=b,this._reader=null,this._loaded=0;const x=b.source;this._withCredentials=x.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!x.disableStream,this._abortController=new AbortController,this._headers=F(this._stream.httpHeaders),this._headers.append("Range",`bytes=${h}-${u-1}`);const S=x.url;fetch(S,D(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,f.validateResponseStatus)(y.status))throw(0,f.createResponseStatusError)(y.status,S);this._readCapability.resolve(),this._reader=y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:b,done:h}=await this._reader.read();return h?{value:b,done:h}:(this._loaded+=b.byteLength,this.onProgress?.({loaded:this._loaded}),{value:$(b),done:!1})}cancel(b){this._reader?.cancel(b),this._abortController.abort()}}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=O,s.extractFilenameFromHeader=$,s.validateRangeRequestCapabilities=F,s.validateResponseStatus=d;var o=m(1),f=m(21),D=m(6);function F({getResponseHeader:a,isHttp:l,rangeChunkSize:b,disableRange:h}){const u={allowRangeRequests:!1,suggestedLength:void 0},x=parseInt(a("Content-Length"),10);return!Number.isInteger(x)||(u.suggestedLength=x,x<=2*b)||h||!l||a("Accept-Ranges")!=="bytes"||(a("Content-Encoding")||"identity")!=="identity"||(u.allowRangeRequests=!0),u}function $(a){const l=a("Content-Disposition");if(l){let b=(0,f.getFilenameFromContentDispositionHeader)(l);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,D.isPdfFile)(b))return b}return null}function O(a,l){return a===404||a===0&&l.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+l+'".'):new o.UnexpectedResponseException(`Unexpected server response (${a}) while retrieving PDF "${l}".`,a)}function d(a){return a===200||a===206}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=f;var o=m(1);function f(D){let F=!0,$=O("filename\\*","i").exec(D);if($){$=$[1];let x=b($);return x=unescape(x),x=h(x),x=u(x),a(x)}if($=l(D),$){const x=u($);return a(x)}if($=O("filename","i").exec(D),$){$=$[1];let x=b($);return x=u(x),a(x)}function O(x,S){return new RegExp("(?:^|;)\\s*"+x+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',S)}function d(x,S){if(x){if(!/^[\x00-\xFF]+$/.test(S))return S;try{const y=new TextDecoder(x,{fatal:!0}),P=(0,o.stringToBytes)(S);S=y.decode(P),F=!1}catch{}}return S}function a(x){return F&&/[\x80-\xff]/.test(x)&&(x=d("utf-8",x),F&&(x=d("iso-8859-1",x))),x}function l(x){const S=[];let y;const P=O("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=P.exec(x))!==null;){let[,j,w,R]=y;if(j=parseInt(j,10),j in S){if(j===0)break;continue}S[j]=[w,R]}const I=[];for(let j=0;j<S.length&&j in S;++j){let[w,R]=S[j];R=b(R),w&&(R=unescape(R),j===0&&(R=h(R))),I.push(R)}return I.join("")}function b(x){if(x.startsWith('"')){const S=x.slice(1).split('\\"');for(let y=0;y<S.length;++y){const P=S[y].indexOf('"');P!==-1&&(S[y]=S[y].slice(0,P),S.length=y+1),S[y]=S[y].replaceAll(/\\(.)/g,"$1")}x=S.join('"')}return x}function h(x){const S=x.indexOf("'");if(S===-1)return x;const y=x.slice(0,S),I=x.slice(S+1).replace(/^[^']*'/,"");return d(y,I)}function u(x){return!x.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(x)?x:x.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(S,y,P,I){if(P==="q"||P==="Q")return I=I.replaceAll("_"," "),I=I.replaceAll(/=([0-9a-fA-F]{2})/g,function(j,w){return String.fromCharCode(parseInt(w,16))}),d(y,I);try{I=atob(I)}catch{}return d(y,I)})}return""}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var o=m(1),f=m(20);const D=200,F=206;function $(b){const h=b.response;return typeof h!="string"?h:(0,o.stringToBytes)(h).buffer}class O{constructor(h,u={}){this.url=h,this.isHttp=/^https?:/i.test(h),this.httpHeaders=this.isHttp&&u.httpHeaders||Object.create(null),this.withCredentials=u.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(h,u,x){const S={begin:h,end:u};for(const y in x)S[y]=x[y];return this.request(S)}requestFull(h){return this.request(h)}request(h){const u=new XMLHttpRequest,x=this.currXhrId++,S=this.pendingRequests[x]={xhr:u};u.open("GET",this.url),u.withCredentials=this.withCredentials;for(const y in this.httpHeaders){const P=this.httpHeaders[y];P!==void 0&&u.setRequestHeader(y,P)}return this.isHttp&&"begin"in h&&"end"in h?(u.setRequestHeader("Range",`bytes=${h.begin}-${h.end-1}`),S.expectedStatus=F):S.expectedStatus=D,u.responseType="arraybuffer",h.onError&&(u.onerror=function(y){h.onError(u.status)}),u.onreadystatechange=this.onStateChange.bind(this,x),u.onprogress=this.onProgress.bind(this,x),S.onHeadersReceived=h.onHeadersReceived,S.onDone=h.onDone,S.onError=h.onError,S.onProgress=h.onProgress,u.send(null),x}onProgress(h,u){const x=this.pendingRequests[h];x&&x.onProgress?.(u)}onStateChange(h,u){const x=this.pendingRequests[h];if(!x)return;const S=x.xhr;if(S.readyState>=2&&x.onHeadersReceived&&(x.onHeadersReceived(),delete x.onHeadersReceived),S.readyState!==4||!(h in this.pendingRequests))return;if(delete this.pendingRequests[h],S.status===0&&this.isHttp){x.onError?.(S.status);return}const y=S.status||D;if(!(y===D&&x.expectedStatus===F)&&y!==x.expectedStatus){x.onError?.(S.status);return}const I=$(S);if(y===F){const j=S.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(j);x.onDone({begin:parseInt(w[1],10),chunk:I})}else I?x.onDone({begin:0,chunk:I}):x.onError?.(S.status)}getRequestXhr(h){return this.pendingRequests[h].xhr}isPendingRequest(h){return h in this.pendingRequests}abortRequest(h){const u=this.pendingRequests[h].xhr;delete this.pendingRequests[h],u.abort()}}class d{constructor(h){this._source=h,this._manager=new O(h.url,{httpHeaders:h.httpHeaders,withCredentials:h.withCredentials}),this._rangeChunkSize=h.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(h){const u=this._rangeRequestReaders.indexOf(h);u>=0&&this._rangeRequestReaders.splice(u,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(h,u){const x=new l(this._manager,h,u);return x.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(x),x}cancelAllRequests(h){this._fullRequestReader?.cancel(h);for(const u of this._rangeRequestReaders.slice(0))u.cancel(h)}}s.PDFNetworkStream=d;class a{constructor(h,u){this._manager=h;const x={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=u.url,this._fullRequestId=h.requestFull(x),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=u.disableRange||!1,this._contentLength=u.length,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const h=this._fullRequestId,u=this._manager.getRequestXhr(h),x=P=>u.getResponseHeader(P),{allowRangeRequests:S,suggestedLength:y}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});S&&(this._isRangeSupported=!0),this._contentLength=y||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(x),this._isRangeSupported&&this._manager.abortRequest(h),this._headersReceivedCapability.resolve()}_onDone(h){if(h&&(this._requests.length>0?this._requests.shift().resolve({value:h.chunk,done:!1}):this._cachedChunks.push(h.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(h){this._storedError=(0,f.createResponseStatusError)(h,this._url),this._headersReceivedCapability.reject(this._storedError);for(const u of this._requests)u.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(h){this.onProgress?.({loaded:h.loaded,total:h.lengthComputable?h.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const h=new o.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0,this._headersReceivedCapability.reject(h);for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class l{constructor(h,u,x){this._manager=h;const S={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=h.url,this._requestId=h.requestRange(u,x,S),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(h){const u=h.chunk;this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunk=u,this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(h){this._storedError=(0,f.createResponseStatusError)(h,this._url);for(const u of this._requests)u.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(h){this.isStreamingSupported||this.onProgress?.({loaded:h.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};const h=new o.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var o=m(1),f=m(20);const D=/^file:\/\/\/[a-zA-Z]:\//;function F(x){const S=require$$5,y=S.parse(x);return y.protocol==="file:"||y.host?y:/^[a-z]:[/\\]/i.test(x)?S.parse(`file:///${x}`):(y.host||(y.protocol="file:"),y)}class ${constructor(S){this.source=S,this.url=F(S.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new l(this),this._fullRequestReader}getRangeReader(S,y){if(y<=this._progressiveDataLength)return null;const P=this.isFsUrl?new u(this,S,y):new b(this,S,y);return this._rangeRequestReaders.push(P),P}cancelAllRequests(S){this._fullRequestReader?.cancel(S);for(const y of this._rangeRequestReaders.slice(0))y.cancel(S)}}s.PDFNodeStream=$;class O{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null;const y=S.source;this._contentLength=y.length,this._loaded=0,this._filename=null,this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const S=this._readableStream.read();return S===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=S.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(S).buffer,done:!1})}cancel(S){if(!this._readableStream){this._error(S);return}this._readableStream.destroy(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",y=>{this._error(y)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const y=S.source;this._isStreamingSupported=!y.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const S=this._readableStream.read();return S===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=S.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(S).buffer,done:!1})}cancel(S){if(!this._readableStream){this._error(S);return}this._readableStream.destroy(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",y=>{this._error(y)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function a(x,S){return{protocol:x.protocol,auth:x.auth,host:x.hostname,port:x.port,path:x.path,method:"GET",headers:S}}class l extends O{constructor(S){super(S);const y=P=>{if(P.statusCode===404){const R=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R,this._headersCapability.reject(R);return}this._headersCapability.resolve(),this._setReadableStream(P);const I=R=>this._readableStream.headers[R.toLowerCase()],{allowRangeRequests:j,suggestedLength:w}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:S.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=j,this._contentLength=w||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(I)};if(this._request=null,this._url.protocol==="http:"){const P=require$$5;this._request=P.request(a(this._url,S.httpHeaders),y)}else{const P=require$$5;this._request=P.request(a(this._url,S.httpHeaders),y)}this._request.on("error",P=>{this._storedError=P,this._headersCapability.reject(P)}),this._request.end()}}class b extends d{constructor(S,y,P){super(S),this._httpHeaders={};for(const j in S.httpHeaders){const w=S.httpHeaders[j];w!==void 0&&(this._httpHeaders[j]=w)}this._httpHeaders.Range=`bytes=${y}-${P-1}`;const I=j=>{if(j.statusCode===404){const w=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w;return}this._setReadableStream(j)};if(this._request=null,this._url.protocol==="http:"){const j=require$$5;this._request=j.request(a(this._url,this._httpHeaders),I)}else{const j=require$$5;this._request=j.request(a(this._url,this._httpHeaders),I)}this._request.on("error",j=>{this._storedError=j}),this._request.end()}}class h extends O{constructor(S){super(S);let y=decodeURIComponent(this._url.path);D.test(this._url.href)&&(y=y.replace(/^\//,""));const P=require$$5;P.lstat(y,(I,j)=>{if(I){I.code==="ENOENT"&&(I=new o.MissingPDFException(`Missing PDF "${y}".`)),this._storedError=I,this._headersCapability.reject(I);return}this._contentLength=j.size,this._setReadableStream(P.createReadStream(y)),this._headersCapability.resolve()})}}class u extends d{constructor(S,y,P){super(S);let I=decodeURIComponent(this._url.path);D.test(this._url.href)&&(I=I.replace(/^\//,""));const j=require$$5;this._setReadableStream(j.createReadStream(I,{start:y,end:P-1}))}}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var o=m(6),f=m(1);const D={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},F="http://www.w3.org/XML/1998/namespace",$="http://www.w3.org/1999/xlink",O=["butt","round","square"],d=["miter","round","bevel"],a=function(j,w="",R=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!R)return URL.createObjectURL(new Blob([j],{type:w}));const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let X=`data:${w};base64,`;for(let G=0,ee=j.length;G<ee;G+=3){const Q=j[G]&255,pe=j[G+1]&255,ce=j[G+2]&255,fe=Q>>2,ge=(Q&3)<<4|pe>>4,le=G+1<ee?(pe&15)<<2|ce>>6:64,H=G+2<ee?ce&63:64;X+=V[fe]+V[ge]+V[le]+V[H]}return X},l=(function(){const j=new Uint8Array([137,80,78,71,13,10,26,10]),w=12,R=new Int32Array(256);for(let ce=0;ce<256;ce++){let fe=ce;for(let ge=0;ge<8;ge++)fe=fe&1?3988292384^fe>>1&2147483647:fe>>1&2147483647;R[ce]=fe}function V(ce,fe,ge){let le=-1;for(let H=fe;H<ge;H++){const k=(le^ce[H])&255,A=R[k];le=le>>>8^A}return le^-1}function X(ce,fe,ge,le){let H=le;const k=fe.length;ge[H]=k>>24&255,ge[H+1]=k>>16&255,ge[H+2]=k>>8&255,ge[H+3]=k&255,H+=4,ge[H]=ce.charCodeAt(0)&255,ge[H+1]=ce.charCodeAt(1)&255,ge[H+2]=ce.charCodeAt(2)&255,ge[H+3]=ce.charCodeAt(3)&255,H+=4,ge.set(fe,H),H+=fe.length;const A=V(ge,le+4,H);ge[H]=A>>24&255,ge[H+1]=A>>16&255,ge[H+2]=A>>8&255,ge[H+3]=A&255}function G(ce,fe,ge){let le=1,H=0;for(let k=fe;k<ge;++k)le=(le+(ce[k]&255))%65521,H=(H+le)%65521;return H<<16|le}function ee(ce){if(!f.isNodeJS)return Q(ce);try{const fe=parseInt(process.versions.node)>=8?ce:Buffer.from(ce),ge=require$$5.deflateSync(fe,{level:9});return ge instanceof Uint8Array?ge:new Uint8Array(ge)}catch(fe){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+fe)}return Q(ce)}function Q(ce){let fe=ce.length;const ge=65535,le=Math.ceil(fe/ge),H=new Uint8Array(2+fe+le*5+4);let k=0;H[k++]=120,H[k++]=156;let A=0;for(;fe>ge;)H[k++]=0,H[k++]=255,H[k++]=255,H[k++]=0,H[k++]=0,H.set(ce.subarray(A,A+ge),k),k+=ge,A+=ge,fe-=ge;H[k++]=1,H[k++]=fe&255,H[k++]=fe>>8&255,H[k++]=~fe&65535&255,H[k++]=(~fe&65535)>>8&255,H.set(ce.subarray(A),k),k+=ce.length-A;const E=G(ce,0,ce.length);return H[k++]=E>>24&255,H[k++]=E>>16&255,H[k++]=E>>8&255,H[k++]=E&255,H}function pe(ce,fe,ge,le){const H=ce.width,k=ce.height;let A,E,_;const L=ce.data;switch(fe){case f.ImageKind.GRAYSCALE_1BPP:E=0,A=1,_=H+7>>3;break;case f.ImageKind.RGB_24BPP:E=2,A=8,_=H*3;break;case f.ImageKind.RGBA_32BPP:E=6,A=8,_=H*4;break;default:throw new Error("invalid format")}const U=new Uint8Array((1+_)*k);let W=0,N=0;for(let Y=0;Y<k;++Y)U[W++]=0,U.set(L.subarray(N,N+_),W),N+=_,W+=_;if(fe===f.ImageKind.GRAYSCALE_1BPP&&le){W=0;for(let Y=0;Y<k;Y++){W++;for(let K=0;K<_;K++)U[W++]^=255}}const g=new Uint8Array([H>>24&255,H>>16&255,H>>8&255,H&255,k>>24&255,k>>16&255,k>>8&255,k&255,A,E,0,0,0]),C=ee(U),T=j.length+w*3+g.length+C.length,B=new Uint8Array(T);let z=0;return B.set(j,z),z+=j.length,X("IHDR",g,B,z),z+=w+g.length,X("IDATA",C,B,z),z+=w+C.length,X("IEND",new Uint8Array(0),B,z),a(B,"image/png",ge)}return function(fe,ge,le){const H=fe.kind===void 0?f.ImageKind.GRAYSCALE_1BPP:fe.kind;return pe(fe,H,ge,le)}})();class b{constructor(){this.fontSizeScale=1,this.fontWeight=D.fontWeight,this.fontSize=0,this.textMatrix=f.IDENTITY_MATRIX,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=f.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=D.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,R){this.x=w,this.y=R}}function h(j){let w=[];const R=[];for(const V of j){if(V.fn==="save"){w.push({fnId:92,fn:"group",items:[]}),R.push(w),w=w.at(-1).items;continue}V.fn==="restore"?w=R.pop():w.push(V)}return w}function u(j){if(Number.isInteger(j))return j.toString();const w=j.toFixed(10);let R=w.length-1;if(w[R]!=="0")return w;do R--;while(w[R]==="0");return w.substring(0,w[R]==="."?R:R+1)}function x(j){if(j[4]===0&&j[5]===0){if(j[1]===0&&j[2]===0)return j[0]===1&&j[3]===1?"":`scale(${u(j[0])} ${u(j[3])})`;if(j[0]===j[3]&&j[1]===-j[2]){const w=Math.acos(j[0])*180/Math.PI;return`rotate(${u(w)})`}}else if(j[0]===1&&j[1]===0&&j[2]===0&&j[3]===1)return`translate(${u(j[4])} ${u(j[5])})`;return`matrix(${u(j[0])} ${u(j[1])} ${u(j[2])} ${u(j[3])} ${u(j[4])} ${u(j[5])})`}let S=0,y=0,P=0;class I{constructor(w,R,V=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new b,this.transformMatrix=f.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=R,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!V,this._operatorIdMapping=[];for(const X in f.OPS)this._operatorIdMapping[f.OPS[X]]=X}getObject(w,R=null){return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):R}save(){this.transformStack.push(this.transformMatrix);const w=this.current;this.extraStack.push(w),this.current=w.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(w){this.save(),this.executeOpTree(w),this.restore()}loadDependencies(w){const R=w.fnArray,V=w.argsArray;for(let X=0,G=R.length;X<G;X++)if(R[X]===f.OPS.dependency)for(const ee of V[X]){const Q=ee.startsWith("g_")?this.commonObjs:this.objs,pe=new Promise(ce=>{Q.get(ee,ce)});this.current.dependencies.push(pe)}return Promise.all(this.current.dependencies)}transform(w,R,V,X,G,ee){const Q=[w,R,V,X,G,ee];this.transformMatrix=f.Util.transform(this.transformMatrix,Q),this.tgrp=null}getSVG(w,R){this.viewport=R;const V=this._initialize(R);return this.loadDependencies(w).then(()=>(this.transformMatrix=f.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(w)),V))}convertOpList(w){const R=this._operatorIdMapping,V=w.argsArray,X=w.fnArray,G=[];for(let ee=0,Q=X.length;ee<Q;ee++){const pe=X[ee];G.push({fnId:pe,fn:R[pe],args:V[ee]})}return h(G)}executeOpTree(w){for(const R of w){const V=R.fn,X=R.fnId,G=R.args;switch(X|0){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(G);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(G[0],G[1]);break;case f.OPS.setFont:this.setFont(G);break;case f.OPS.showText:this.showText(G[0]);break;case f.OPS.showSpacedText:this.showText(G[0]);break;case f.OPS.endText:this.endText();break;case f.OPS.moveText:this.moveText(G[0],G[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(G[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(G[0]);break;case f.OPS.setHScale:this.setHScale(G[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(G[0],G[1],G[2],G[3],G[4],G[5]);break;case f.OPS.setTextRise:this.setTextRise(G[0]);break;case f.OPS.setTextRenderingMode:this.setTextRenderingMode(G[0]);break;case f.OPS.setLineWidth:this.setLineWidth(G[0]);break;case f.OPS.setLineJoin:this.setLineJoin(G[0]);break;case f.OPS.setLineCap:this.setLineCap(G[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(G[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(G[0],G[1],G[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(G[0],G[1],G[2]);break;case f.OPS.setStrokeColorN:this.setStrokeColorN(G);break;case f.OPS.setFillColorN:this.setFillColorN(G);break;case f.OPS.shadingFill:this.shadingFill(G[0]);break;case f.OPS.setDash:this.setDash(G[0],G[1]);break;case f.OPS.setRenderingIntent:this.setRenderingIntent(G[0]);break;case f.OPS.setFlatness:this.setFlatness(G[0]);break;case f.OPS.setGState:this.setGState(G[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintImageXObject:this.paintImageXObject(G[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(G[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(G[0]);break;case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(G[0],G[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(G[0],G[1],G[2],G[3],G[4],G[5]);break;case f.OPS.constructPath:this.constructPath(G[0],G[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(R.items);break;default:(0,f.warn)(`Unimplemented operator ${V}`);break}}}setWordSpacing(w){this.current.wordSpacing=w}setCharSpacing(w){this.current.charSpacing=w}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(w,R,V,X,G,ee){const Q=this.current;Q.textMatrix=Q.lineMatrix=[w,R,V,X,G,ee],Q.textMatrixScale=Math.hypot(w,R),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${u(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",u(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.append(Q.tspan)}beginText(){const w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=f.IDENTITY_MATRIX,w.lineMatrix=f.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}moveText(w,R){const V=this.current;V.x=V.lineX+=w,V.y=V.lineY+=R,V.xcoords=[],V.ycoords=[],V.tspan=this.svgFactory.createElement("svg:tspan"),V.tspan.setAttributeNS(null,"font-family",V.fontFamily),V.tspan.setAttributeNS(null,"font-size",`${u(V.fontSize)}px`),V.tspan.setAttributeNS(null,"y",u(-V.y))}showText(w){const R=this.current,V=R.font,X=R.fontSize;if(X===0)return;const G=R.fontSizeScale,ee=R.charSpacing,Q=R.wordSpacing,pe=R.fontDirection,ce=R.textHScale*pe,fe=V.vertical,ge=fe?1:-1,le=V.defaultVMetrics,H=X*R.fontMatrix[0];let k=0;for(const _ of w){if(_===null){k+=pe*Q;continue}else if(typeof _=="number"){k+=ge*_*X/1e3;continue}const L=(_.isSpace?Q:0)+ee,U=_.fontChar;let W,N,g=_.width;if(fe){let T;const B=_.vmetric||le;T=_.vmetric?B[1]:g*.5,T=-T*H;const z=B[2]*H;g=B?-B[0]:g,W=T/G,N=(k+z)/G}else W=k/G,N=0;(_.isInFont||V.missingFile)&&(R.xcoords.push(R.x+W),fe&&R.ycoords.push(-R.y+N),R.tspan.textContent+=U);const C=fe?g*H-L*pe:g*H+L*pe;k+=C}R.tspan.setAttributeNS(null,"x",R.xcoords.map(u).join(" ")),fe?R.tspan.setAttributeNS(null,"y",R.ycoords.map(u).join(" ")):R.tspan.setAttributeNS(null,"y",u(-R.y)),fe?R.y-=k:R.x+=k*ce,R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${u(R.fontSize)}px`),R.fontStyle!==D.fontStyle&&R.tspan.setAttributeNS(null,"font-style",R.fontStyle),R.fontWeight!==D.fontWeight&&R.tspan.setAttributeNS(null,"font-weight",R.fontWeight);const A=R.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;if(A===f.TextRenderingMode.FILL||A===f.TextRenderingMode.FILL_STROKE?(R.fillColor!==D.fillColor&&R.tspan.setAttributeNS(null,"fill",R.fillColor),R.fillAlpha<1&&R.tspan.setAttributeNS(null,"fill-opacity",R.fillAlpha)):R.textRenderingMode===f.TextRenderingMode.ADD_TO_PATH?R.tspan.setAttributeNS(null,"fill","transparent"):R.tspan.setAttributeNS(null,"fill","none"),A===f.TextRenderingMode.STROKE||A===f.TextRenderingMode.FILL_STROKE){const _=1/(R.textMatrixScale||1);this._setStrokeAttributes(R.tspan,_)}let E=R.textMatrix;R.textRise!==0&&(E=E.slice(),E[5]+=R.textRise),R.txtElement.setAttributeNS(null,"transform",`${x(E)} scale(${u(ce)}, -1)`),R.txtElement.setAttributeNS(F,"xml:space","preserve"),R.txtElement.append(R.tspan),R.txtgrp.append(R.txtElement),this._ensureTransformGroup().append(R.txtElement)}setLeadingMoveText(w,R){this.setLeading(-R),this.moveText(w,R)}addFontStyle(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const R=a(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${w.loadedName}"; src: url(${R}); }
`}setFont(w){const R=this.current,V=this.commonObjs.get(w[0]);let X=w[1];R.font=V,this.embedFonts&&!V.missingFile&&!this.embeddedFonts[V.loadedName]&&(this.addFontStyle(V),this.embeddedFonts[V.loadedName]=V),R.fontMatrix=V.fontMatrix||f.FONT_IDENTITY_MATRIX;let G="normal";V.black?G="900":V.bold&&(G="bold");const ee=V.italic?"italic":"normal";X<0?(X=-X,R.fontDirection=-1):R.fontDirection=1,R.fontSize=X,R.fontFamily=V.loadedName,R.fontWeight=G,R.fontStyle=ee,R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"y",u(-R.y)),R.xcoords=[],R.ycoords=[]}endText(){const w=this.current;w.textRenderingMode&f.TextRenderingMode.ADD_TO_PATH_FLAG&&w.txtElement?.hasChildNodes()&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(w){w>0&&(this.current.lineWidth=w)}setLineCap(w){this.current.lineCap=O[w]}setLineJoin(w){this.current.lineJoin=d[w]}setMiterLimit(w){this.current.miterLimit=w}setStrokeAlpha(w){this.current.strokeAlpha=w}setStrokeRGBColor(w,R,V){this.current.strokeColor=f.Util.makeHexColor(w,R,V)}setFillAlpha(w){this.current.fillAlpha=w}setFillRGBColor(w,R,V){this.current.fillColor=f.Util.makeHexColor(w,R,V),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(w){this.current.strokeColor=this._makeColorN_Pattern(w)}setFillColorN(w){this.current.fillColor=this._makeColorN_Pattern(w)}shadingFill(w){const{width:R,height:V}=this.viewport,X=f.Util.inverseTransform(this.transformMatrix),[G,ee,Q,pe]=f.Util.getAxialAlignedBoundingBox([0,0,R,V],X),ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x",G),ce.setAttributeNS(null,"y",ee),ce.setAttributeNS(null,"width",Q-G),ce.setAttributeNS(null,"height",pe-ee),ce.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&ce.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ce)}_makeColorN_Pattern(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}_makeTilingPattern(w){const R=w[1],V=w[2],X=w[3]||f.IDENTITY_MATRIX,[G,ee,Q,pe]=w[4],ce=w[5],fe=w[6],ge=w[7],le=`shading${P++}`,[H,k,A,E]=f.Util.normalizeRect([...f.Util.applyTransform([G,ee],X),...f.Util.applyTransform([Q,pe],X)]),[_,L]=f.Util.singularValueDecompose2dScale(X),U=ce*_,W=fe*L,N=this.svgFactory.createElement("svg:pattern");N.setAttributeNS(null,"id",le),N.setAttributeNS(null,"patternUnits","userSpaceOnUse"),N.setAttributeNS(null,"width",U),N.setAttributeNS(null,"height",W),N.setAttributeNS(null,"x",`${H}`),N.setAttributeNS(null,"y",`${k}`);const g=this.svg,C=this.transformMatrix,T=this.current.fillColor,B=this.current.strokeColor,z=this.svgFactory.create(A-H,E-k);if(this.svg=z,this.transformMatrix=X,ge===2){const Y=f.Util.makeHexColor(...R);this.current.fillColor=Y,this.current.strokeColor=Y}return this.executeOpTree(this.convertOpList(V)),this.svg=g,this.transformMatrix=C,this.current.fillColor=T,this.current.strokeColor=B,N.append(z.childNodes[0]),this.defs.append(N),`url(#${le})`}_makeShadingPattern(w){switch(typeof w=="string"&&(w=this.objs.get(w)),w[0]){case"RadialAxial":const R=`shading${P++}`,V=w[3];let X;switch(w[1]){case"axial":const G=w[4],ee=w[5];X=this.svgFactory.createElement("svg:linearGradient"),X.setAttributeNS(null,"id",R),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"x1",G[0]),X.setAttributeNS(null,"y1",G[1]),X.setAttributeNS(null,"x2",ee[0]),X.setAttributeNS(null,"y2",ee[1]);break;case"radial":const Q=w[4],pe=w[5],ce=w[6],fe=w[7];X=this.svgFactory.createElement("svg:radialGradient"),X.setAttributeNS(null,"id",R),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"cx",pe[0]),X.setAttributeNS(null,"cy",pe[1]),X.setAttributeNS(null,"r",fe),X.setAttributeNS(null,"fx",Q[0]),X.setAttributeNS(null,"fy",Q[1]),X.setAttributeNS(null,"fr",ce);break;default:throw new Error(`Unknown RadialAxial type: ${w[1]}`)}for(const G of V){const ee=this.svgFactory.createElement("svg:stop");ee.setAttributeNS(null,"offset",G[0]),ee.setAttributeNS(null,"stop-color",G[1]),X.append(ee)}return this.defs.append(X),`url(#${R})`;case"Mesh":return(0,f.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${w[0]}`)}}setDash(w,R){this.current.dashArray=w,this.current.dashPhase=R}constructPath(w,R){const V=this.current;let X=V.x,G=V.y,ee=[],Q=0;for(const pe of w)switch(pe|0){case f.OPS.rectangle:X=R[Q++],G=R[Q++];const ce=R[Q++],fe=R[Q++],ge=X+ce,le=G+fe;ee.push("M",u(X),u(G),"L",u(ge),u(G),"L",u(ge),u(le),"L",u(X),u(le),"Z");break;case f.OPS.moveTo:X=R[Q++],G=R[Q++],ee.push("M",u(X),u(G));break;case f.OPS.lineTo:X=R[Q++],G=R[Q++],ee.push("L",u(X),u(G));break;case f.OPS.curveTo:X=R[Q+4],G=R[Q+5],ee.push("C",u(R[Q]),u(R[Q+1]),u(R[Q+2]),u(R[Q+3]),u(X),u(G)),Q+=6;break;case f.OPS.curveTo2:ee.push("C",u(X),u(G),u(R[Q]),u(R[Q+1]),u(R[Q+2]),u(R[Q+3])),X=R[Q+2],G=R[Q+3],Q+=4;break;case f.OPS.curveTo3:X=R[Q+2],G=R[Q+3],ee.push("C",u(R[Q]),u(R[Q+1]),u(X),u(G),u(X),u(G)),Q+=4;break;case f.OPS.closePath:ee.push("Z");break}ee=ee.join(" "),V.path&&w.length>0&&w[0]!==f.OPS.rectangle&&w[0]!==f.OPS.moveTo?ee=V.path.getAttributeNS(null,"d")+ee:(V.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(V.path)),V.path.setAttributeNS(null,"d",ee),V.path.setAttributeNS(null,"fill","none"),V.element=V.path,V.setCurrentPoint(X,G)}endPath(){const w=this.current;if(w.path=null,!this.pendingClip)return;if(!w.element){this.pendingClip=null;return}const R=`clippath${S++}`,V=this.svgFactory.createElement("svg:clipPath");V.setAttributeNS(null,"id",R),V.setAttributeNS(null,"transform",x(this.transformMatrix));const X=w.element.cloneNode(!0);if(this.pendingClip==="evenodd"?X.setAttributeNS(null,"clip-rule","evenodd"):X.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,V.append(X),this.defs.append(V),w.activeClipUrl){w.clipGroup=null;for(const G of this.extraStack)G.clipGroup=null;V.setAttributeNS(null,"clip-path",w.activeClipUrl)}w.activeClipUrl=`url(#${R})`,this.tgrp=null}clip(w){this.pendingClip=w}closePath(){const w=this.current;if(w.path){const R=`${w.path.getAttributeNS(null,"d")}Z`;w.path.setAttributeNS(null,"d",R)}}setLeading(w){this.current.leading=-w}setTextRise(w){this.current.textRise=w}setTextRenderingMode(w){this.current.textRenderingMode=w}setHScale(w){this.current.textHScale=w/100}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(const[R,V]of w)switch(R){case"LW":this.setLineWidth(V);break;case"LC":this.setLineCap(V);break;case"LJ":this.setLineJoin(V);break;case"ML":this.setMiterLimit(V);break;case"D":this.setDash(V[0],V[1]);break;case"RI":this.setRenderingIntent(V);break;case"FL":this.setFlatness(V);break;case"Font":this.setFont(V);break;case"CA":this.setStrokeAlpha(V);break;case"ca":this.setFillAlpha(V);break;default:(0,f.warn)(`Unimplemented graphic state operator ${R}`);break}}fill(){const w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}stroke(){const w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(w,R=1){const V=this.current;let X=V.dashArray;R!==1&&X.length>0&&(X=X.map(function(G){return R*G})),w.setAttributeNS(null,"stroke",V.strokeColor),w.setAttributeNS(null,"stroke-opacity",V.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",u(V.miterLimit)),w.setAttributeNS(null,"stroke-linecap",V.lineCap),w.setAttributeNS(null,"stroke-linejoin",V.lineJoin),w.setAttributeNS(null,"stroke-width",u(R*V.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",X.map(u).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",u(R*V.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(w)}paintImageXObject(w){const R=this.getObject(w);if(!R){(0,f.warn)(`Dependent image with object ID ${w} is not ready yet`);return}this.paintInlineImageXObject(R)}paintInlineImageXObject(w,R){const V=w.width,X=w.height,G=l(w,this.forceDataSchema,!!R),ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width",u(V)),ee.setAttributeNS(null,"height",u(X)),this.current.element=ee,this.clip("nonzero");const Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS($,"xlink:href",G),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",u(-X)),Q.setAttributeNS(null,"width",u(V)+"px"),Q.setAttributeNS(null,"height",u(X)+"px"),Q.setAttributeNS(null,"transform",`scale(${u(1/V)} ${u(-1/X)})`),R?R.append(Q):this._ensureTransformGroup().append(Q)}paintImageMaskXObject(w){const R=this.getObject(w.data,w);if(R.bitmap){(0,f.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const V=this.current,X=R.width,G=R.height,ee=V.fillColor;V.maskId=`mask${y++}`;const Q=this.svgFactory.createElement("svg:mask");Q.setAttributeNS(null,"id",V.maskId);const pe=this.svgFactory.createElement("svg:rect");pe.setAttributeNS(null,"x","0"),pe.setAttributeNS(null,"y","0"),pe.setAttributeNS(null,"width",u(X)),pe.setAttributeNS(null,"height",u(G)),pe.setAttributeNS(null,"fill",ee),pe.setAttributeNS(null,"mask",`url(#${V.maskId})`),this.defs.append(Q),this._ensureTransformGroup().append(pe),this.paintInlineImageXObject(R,Q)}paintFormXObjectBegin(w,R){if(Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),R){const V=R[2]-R[0],X=R[3]-R[1],G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",R[0]),G.setAttributeNS(null,"y",R[1]),G.setAttributeNS(null,"width",u(V)),G.setAttributeNS(null,"height",u(X)),this.current.element=G,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(w){const R=this.svgFactory.create(w.width,w.height),V=this.svgFactory.createElement("svg:defs");R.append(V),this.defs=V;const X=this.svgFactory.createElement("svg:g");return X.setAttributeNS(null,"transform",x(w.transform)),R.append(X),this.svg=X,R}_ensureClipGroup(){if(!this.current.clipGroup){const w=this.svgFactory.createElement("svg:g");w.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(w),this.current.clipGroup=w}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",x(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=I}),((v,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class m{static textContent(f){const D=[],F={items:D,styles:Object.create(null)};function $(O){if(!O)return;let d=null;const a=O.name;if(a==="#text")d=O.value;else if(m.shouldBuildText(a))O?.attributes?.textContent?d=O.attributes.textContent:O.value&&(d=O.value);else return;if(d!==null&&D.push({str:d}),!!O.children)for(const l of O.children)$(l)}return $(f),F}static shouldBuildText(f){return!(f==="textarea"||f==="input"||f==="option"||f==="select")}}s.XfaText=m}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=x,s.updateTextLayer=S;var o=m(1),f=m(6);const D=1e5,F=30,$=.8,O=new Map;function d(y,P){let I;if(P&&o.FeatureTest.isOffscreenCanvasSupported)I=new OffscreenCanvas(y,y).getContext("2d",{alpha:!1});else{const j=document.createElement("canvas");j.width=j.height=y,I=j.getContext("2d",{alpha:!1})}return I}function a(y,P){const I=O.get(y);if(I)return I;const j=d(F,P);j.font=`${F}px ${y}`;const w=j.measureText("");let R=w.fontBoundingBoxAscent,V=Math.abs(w.fontBoundingBoxDescent);if(R){const G=R/(R+V);return O.set(y,G),j.canvas.width=j.canvas.height=0,G}j.strokeStyle="red",j.clearRect(0,0,F,F),j.strokeText("g",0,0);let X=j.getImageData(0,0,F,F).data;V=0;for(let G=X.length-1-3;G>=0;G-=4)if(X[G]>0){V=Math.ceil(G/4/F);break}j.clearRect(0,0,F,F),j.strokeText("A",0,F),X=j.getImageData(0,0,F,F).data,R=0;for(let G=0,ee=X.length;G<ee;G+=4)if(X[G]>0){R=F-Math.floor(G/4/F);break}if(j.canvas.width=j.canvas.height=0,R){const G=R/(R+V);return O.set(y,G),G}return O.set(y,$),$}function l(y,P,I){const j=document.createElement("span"),w={angle:0,canvasWidth:0,hasText:P.str!=="",hasEOL:P.hasEOL,fontSize:0};y._textDivs.push(j);const R=o.Util.transform(y._transform,P.transform);let V=Math.atan2(R[1],R[0]);const X=I[P.fontName];X.vertical&&(V+=Math.PI/2);const G=Math.hypot(R[2],R[3]),ee=G*a(X.fontFamily,y._isOffscreenCanvasSupported);let Q,pe;V===0?(Q=R[4],pe=R[5]-ee):(Q=R[4]+ee*Math.sin(V),pe=R[5]-ee*Math.cos(V));const ce="calc(var(--scale-factor)*",fe=j.style;y._container===y._rootContainer?(fe.left=`${(100*Q/y._pageWidth).toFixed(2)}%`,fe.top=`${(100*pe/y._pageHeight).toFixed(2)}%`):(fe.left=`${ce}${Q.toFixed(2)}px)`,fe.top=`${ce}${pe.toFixed(2)}px)`),fe.fontSize=`${ce}${G.toFixed(2)}px)`,fe.fontFamily=X.fontFamily,w.fontSize=G,j.setAttribute("role","presentation"),j.textContent=P.str,j.dir=P.dir,y._fontInspectorEnabled&&(j.dataset.fontName=P.fontName),V!==0&&(w.angle=V*(180/Math.PI));let ge=!1;if(P.str.length>1)ge=!0;else if(P.str!==" "&&P.transform[0]!==P.transform[3]){const le=Math.abs(P.transform[0]),H=Math.abs(P.transform[3]);le!==H&&Math.max(le,H)/Math.min(le,H)>1.5&&(ge=!0)}ge&&(w.canvasWidth=X.vertical?P.height:P.width),y._textDivProperties.set(j,w),y._isReadableStream&&y._layoutText(j)}function b(y){const{div:P,scale:I,properties:j,ctx:w,prevFontSize:R,prevFontFamily:V}=y,{style:X}=P;let G="";if(j.canvasWidth!==0&&j.hasText){const{fontFamily:ee}=X,{canvasWidth:Q,fontSize:pe}=j;(R!==pe||V!==ee)&&(w.font=`${pe*I}px ${ee}`,y.prevFontSize=pe,y.prevFontFamily=ee);const{width:ce}=w.measureText(P.textContent);ce>0&&(G=`scaleX(${Q*I/ce})`)}j.angle!==0&&(G=`rotate(${j.angle}deg) ${G}`),G.length>0&&(X.transform=G)}function h(y){if(y._canceled)return;const P=y._textDivs,I=y._capability;if(P.length>D){I.resolve();return}if(!y._isReadableStream)for(const w of P)y._layoutText(w);I.resolve()}class u{constructor({textContentSource:P,container:I,viewport:j,textDivs:w,textDivProperties:R,textContentItemsStr:V,isOffscreenCanvasSupported:X}){this._textContentSource=P,this._isReadableStream=P instanceof ReadableStream,this._container=this._rootContainer=I,this._textDivs=w||[],this._textContentItemsStr=V||[],this._isOffscreenCanvasSupported=X,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=R||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:j.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,X)};const{pageWidth:G,pageHeight:ee,pageX:Q,pageY:pe}=j.rawDims;this._transform=[1,0,0,-1,-Q,pe+ee],this._pageWidth=G,this._pageHeight=ee,(0,f.setLayerDimensions)(I,j),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(P,I){for(const j of P){if(j.str===void 0){if(j.type==="beginMarkedContentProps"||j.type==="beginMarkedContent"){const w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),j.id!==null&&this._container.setAttribute("id",`${j.id}`),w.append(this._container)}else j.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(j.str),l(this,j,I)}}_layoutText(P){const I=this._layoutTextParams.properties=this._textDivProperties.get(P);if(this._layoutTextParams.div=P,b(this._layoutTextParams),I.hasText&&this._container.append(P),I.hasEOL){const j=document.createElement("br");j.setAttribute("role","presentation"),this._container.append(j)}}_render(){const P=new o.PromiseCapability;let I=Object.create(null);if(this._isReadableStream){const j=()=>{this._reader.read().then(({value:w,done:R})=>{if(R){P.resolve();return}Object.assign(I,w.styles),this._processItems(w.items,I),j()},P.reject)};this._reader=this._textContentSource.getReader(),j()}else if(this._textContentSource){const{items:j,styles:w}=this._textContentSource;this._processItems(j,w),P.resolve()}else throw new Error('No "textContentSource" parameter specified.');P.promise.then(()=>{I=null,h(this)},this._capability.reject)}}s.TextLayerRenderTask=u;function x(y){!y.textContentSource&&(y.textContent||y.textContentStream)&&((0,f.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),y.textContentSource=y.textContent||y.textContentStream);const{container:P,viewport:I}=y,j=getComputedStyle(P),w=j.getPropertyValue("visibility"),R=parseFloat(j.getPropertyValue("--scale-factor"));w==="visible"&&(!R||Math.abs(R-I.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const V=new u(y);return V._render(),V}function S({container:y,viewport:P,textDivs:I,textDivProperties:j,isOffscreenCanvasSupported:w,mustRotate:R=!0,mustRescale:V=!0}){if(R&&(0,f.setLayerDimensions)(y,{rotation:P.rotation}),V){const X=d(0,w),ee={prevFontSize:null,prevFontFamily:null,div:null,scale:P.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:X};for(const Q of I)ee.properties=j.get(Q),ee.div=Q,b(ee)}}}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var o=m(1),f=m(4),D=m(28),F=m(33),$=m(6),O=m(34);class d{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#s=!1;#l=!1;#u=!1;#i;static _initialized=!1;constructor({uiManager:l,pageIndex:b,div:h,accessibilityManager:u,annotationLayer:x,viewport:S,l10n:y}){const P=[D.FreeTextEditor,F.InkEditor,O.StampEditor];if(!d._initialized){d._initialized=!0;for(const I of P)I.initialize(y)}l.registerEditorTypes(P),this.#i=l,this.pageIndex=b,this.div=h,this.#e=u,this.#n=x,this.viewport=S,this.#i.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(l){this.#i.updateToolbar(l)}updateMode(l=this.#i.getMode()){this.#p(),l===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),l!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",l===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",l===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",l===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(l){if(!l&&this.#i.getMode()!==o.AnnotationEditorType.INK)return;if(!l){for(const h of this.#a.values())if(h.isEmpty()){h.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(l){this.#i.setEditingState(l)}addCommands(l){this.#i.addCommands(l)}enable(){this.div.style.pointerEvents="auto";const l=new Set;for(const h of this.#a.values())h.enableEditing(),h.annotationElementId&&l.add(h.annotationElementId);if(!this.#n)return;const b=this.#n.getEditableAnnotations();for(const h of b){if(h.hide(),this.#i.isDeletedAnnotationElement(h.data.id)||l.has(h.data.id))continue;const u=this.deserialize(h);u&&(this.addOrRebuild(u),u.enableEditing())}}disable(){this.#u=!0,this.div.style.pointerEvents="none";const l=new Set;for(const b of this.#a.values()){if(b.disableEditing(),!b.annotationElementId||b.serialize()!==null){l.add(b.annotationElementId);continue}this.getEditableAnnotation(b.annotationElementId)?.show(),b.remove()}if(this.#n){const b=this.#n.getEditableAnnotations();for(const h of b){const{id:u}=h.data;l.has(u)||this.#i.isDeletedAnnotationElement(u)||h.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#u=!1}getEditableAnnotation(l){return this.#n?.getEditableAnnotation(l)||null}setActiveEditor(l){this.#i.getActive()!==l&&this.#i.setActiveEditor(l)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#r)}attach(l){this.#a.set(l.id,l);const{annotationElementId:b}=l;b&&this.#i.isDeletedAnnotationElement(b)&&this.#i.removeDeletedAnnotationElement(l)}detach(l){this.#a.delete(l.id),this.#e?.removePointerInTextLayer(l.contentDiv),!this.#u&&l.annotationElementId&&this.#i.addDeletedAnnotationElement(l)}remove(l){this.detach(l),this.#i.removeEditor(l),l.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),l.div.remove(),l.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(l){l.parent!==this&&(l.annotationElementId&&(this.#i.addDeletedAnnotationElement(l.annotationElementId),f.AnnotationEditor.deleteAnnotationElement(l),l.annotationElementId=null),this.attach(l),l.parent?.detach(l),l.setParent(this),l.div&&l.isAttachedToDOM&&(l.div.remove(),this.div.append(l.div)))}add(l){if(this.changeParent(l),this.#i.addEditor(l),this.attach(l),!l.isAttachedToDOM){const b=l.render();this.div.append(b),l.isAttachedToDOM=!0}l.fixAndSetPosition(),l.onceAdded(),this.#i.addToAnnotationStorage(l)}moveEditorInDOM(l){if(!l.isAttachedToDOM)return;const{activeElement:b}=document;l.div.contains(b)&&(l._focusEventsAllowed=!1,setTimeout(()=>{l.div.contains(document.activeElement)?l._focusEventsAllowed=!0:(l.div.addEventListener("focusin",()=>{l._focusEventsAllowed=!0},{once:!0}),b.focus())},0)),l._structTreeParentId=this.#e?.moveElementInDOM(this.div,l.div,l.contentDiv,!0)}addOrRebuild(l){l.needsToBeRebuilt()?l.rebuild():this.add(l)}addUndoableEditor(l){const b=()=>l._uiManager.rebuild(l),h=()=>{l.remove()};this.addCommands({cmd:b,undo:h,mustExec:!1})}getNextId(){return this.#i.getId()}#f(l){switch(this.#i.getMode()){case o.AnnotationEditorType.FREETEXT:return new D.FreeTextEditor(l);case o.AnnotationEditorType.INK:return new F.InkEditor(l);case o.AnnotationEditorType.STAMP:return new O.StampEditor(l)}return null}pasteEditor(l,b){this.#i.updateToolbar(l),this.#i.updateMode(l);const{offsetX:h,offsetY:u}=this.#h(),x=this.getNextId(),S=this.#f({parent:this,id:x,x:h,y:u,uiManager:this.#i,isCentered:!0,...b});S&&this.add(S)}deserialize(l){switch(l.annotationType??l.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return D.FreeTextEditor.deserialize(l,this,this.#i);case o.AnnotationEditorType.INK:return F.InkEditor.deserialize(l,this,this.#i);case o.AnnotationEditorType.STAMP:return O.StampEditor.deserialize(l,this,this.#i)}return null}#d(l,b){const h=this.getNextId(),u=this.#f({parent:this,id:h,x:l.offsetX,y:l.offsetY,uiManager:this.#i,isCentered:b});return u&&this.add(u),u}#h(){const{x:l,y:b,width:h,height:u}=this.div.getBoundingClientRect(),x=Math.max(0,l),S=Math.max(0,b),y=Math.min(window.innerWidth,l+h),P=Math.min(window.innerHeight,b+u),I=(x+y)/2-l,j=(S+P)/2-b,[w,R]=this.viewport.rotation%180===0?[I,j]:[j,I];return{offsetX:w,offsetY:R}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(l){this.#i.setSelected(l)}toggleSelected(l){this.#i.toggleSelected(l)}isSelected(l){return this.#i.isSelected(l)}unselect(l){this.#i.unselect(l)}pointerup(l){const{isMac:b}=o.FeatureTest.platform;if(!(l.button!==0||l.ctrlKey&&b)&&l.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===o.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(l,!1)}}pointerdown(l){if(this.#s){this.#s=!1;return}const{isMac:b}=o.FeatureTest.platform;if(l.button!==0||l.ctrlKey&&b||l.target!==this.div)return;this.#s=!0;const h=this.#i.getActive();this.#t=!h||h.isEmpty()}findNewParent(l,b,h){const u=this.#i.findParent(b,h);return u===null||u===this?!1:(u.changeParent(l),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const l of this.#a.values())this.#e?.removePointerInTextLayer(l.contentDiv),l.setParent(null),l.isAttachedToDOM=!1,l.div.remove();this.div=null,this.#a.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const l of this.#a.values())l.isEmpty()&&l.remove();this.#l=!1}render({viewport:l}){this.viewport=l,(0,$.setLayerDimensions)(this.div,l);for(const b of this.#i.getEditors(this.pageIndex))this.add(b);this.updateMode()}update({viewport:l}){this.#i.commitOrRemove(),this.viewport=l,(0,$.setLayerDimensions)(this.div,{rotation:l.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:l,pageHeight:b}=this.viewport.rawDims;return[l,b]}}s.AnnotationEditorLayer=d}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var o=m(1),f=m(5),D=m(4),F=m(29);class $ extends D.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#o;#a="";#s=`${this.id}-editor`;#l;#u=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const d=$.prototype,a=h=>h.isEmpty(),l=f.AnnotationEditorUIManager.TRANSLATE_SMALL,b=f.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new f.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],d.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],d.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],d._translateEmpty,{args:[-l,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d._translateEmpty,{args:[-b,0],checker:a}],[["ArrowRight","mac+ArrowRight"],d._translateEmpty,{args:[l,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d._translateEmpty,{args:[b,0],checker:a}],[["ArrowUp","mac+ArrowUp"],d._translateEmpty,{args:[0,-l],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d._translateEmpty,{args:[0,-b],checker:a}],[["ArrowDown","mac+ArrowDown"],d._translateEmpty,{args:[0,l],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d._translateEmpty,{args:[0,b],checker:a}]]))}static _type="freetext";constructor(d){super({...d,name:"freeTextEditor"}),this.#o=d.color||$._defaultColor||D.AnnotationEditor._defaultLineColor,this.#l=d.fontSize||$._defaultFontSize}static initialize(d){D.AnnotationEditor.initialize(d,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,a){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:$._defaultFontSize=a;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:$._defaultColor=a;break}}updateParams(d,a){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(a);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(a);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,$._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,$._defaultColor||D.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[o.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(d){const a=b=>{this.editorDiv.style.fontSize=`calc(${b}px * var(--scale-factor))`,this.translate(0,-(b-this.#l)*this.parentScale),this.#l=b,this.#h()},l=this.#l;this.addCommands({cmd:()=>{a(d)},undo:()=>{a(l)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(d){const a=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=d},undo:()=>{this.#o=this.editorDiv.style.color=a},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(d,a){this._uiManager.translateSelectedEditors(d,a,!0)}getInitialTranslation(){const d=this.parentScale;return[-$._internalPadding*d,-($._internalPadding+this.#l)*d]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(d){this._focusEventsAllowed&&(super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const d=this.editorDiv.getElementsByTagName("div");if(d.length===0)return this.editorDiv.innerText;const a=[];for(const l of d)a.push(l.innerText.replace(/\r\n?|\n/,""));return a.join(`
`)}#h(){const[d,a]=this.parentDimensions;let l;if(this.isAttachedToDOM)l=this.div.getBoundingClientRect();else{const{currentLayer:b,div:h}=this,u=h.style.display;h.style.display="hidden",b.div.append(this.div),l=h.getBoundingClientRect(),h.remove(),h.style.display=u}this.rotation%180===this.parentRotation%180?(this.width=l.width/d,this.height=l.height/a):(this.width=l.height/d,this.height=l.width/a),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const d=this.#a,a=this.#a=this.#d().trimEnd();if(d===a)return;const l=b=>{if(this.#a=b,!b){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{l(a)},undo:()=>{l(d)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(d){this.enterInEditMode()}keydown(d){d.target===this.div&&d.key==="Enter"&&(this.enterInEditMode(),d.preventDefault())}editorDivKeydown(d){$._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}editorDivInput(d){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,a;this.width&&(d=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),D.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(b=>this.editorDiv?.setAttribute("aria-label",b)),D.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(b=>this.editorDiv?.setAttribute("default-content",b)),this.editorDiv.contentEditable=!0;const{style:l}=this.editorDiv;if(l.fontSize=`calc(${this.#l}px * var(--scale-factor))`,l.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,f.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[b,h]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this.#u;let[x,S]=this.getInitialTranslation();[x,S]=this.pageTranslationToScreen(x,S);const[y,P]=this.pageDimensions,[I,j]=this.pageTranslation;let w,R;switch(this.rotation){case 0:w=d+(u[0]-I)/y,R=a+this.height-(u[1]-j)/P;break;case 90:w=d+(u[0]-I)/y,R=a-(u[1]-j)/P,[x,S]=[S,-x];break;case 180:w=d-this.width+(u[0]-I)/y,R=a-(u[1]-j)/P,[x,S]=[-x,-S];break;case 270:w=d+(u[0]-I-this.height*P)/y,R=a+(u[1]-j-this.width*y)/P,[x,S]=[-S,x];break}this.setAt(w*b,R*h,x,S)}else this.setAt(d*b,a*h,this.width*b,this.height*h);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const d of this.#a.split(`
`)){const a=document.createElement("div");a.append(d?document.createTextNode(d):document.createElement("br")),this.editorDiv.append(a)}}get contentDiv(){return this.editorDiv}static deserialize(d,a,l){let b=null;if(d instanceof F.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:u,fontColor:x},rect:S,rotation:y,id:P},textContent:I,textPosition:j,parent:{page:{pageNumber:w}}}=d;if(!I||I.length===0)return null;b=d={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(x),fontSize:u,value:I.join(`
`),position:j,pageIndex:w-1,rect:S,rotation:y,id:P,deleted:!1}}const h=super.deserialize(d,a,l);return h.#l=d.fontSize,h.#o=o.Util.makeHexColor(...d.color),h.#a=d.value,h.annotationElementId=d.id||null,h.#u=b,h}serialize(d=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const a=$._internalPadding*this.parentScale,l=this.getRect(a,a),b=D.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),h={annotationType:o.AnnotationEditorType.FREETEXT,color:b,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return d?h:this.annotationElementId&&!this.#y(h)?null:(h.id=this.annotationElementId,h)}#y(d){const{value:a,fontSize:l,color:b,rect:h,pageIndex:u}=this.#u;return d.value!==a||d.fontSize!==l||d.rect.some((x,S)=>Math.abs(x-h[S])>=1)||d.color.some((x,S)=>x!==b[S])||d.pageIndex!==u}#g(d=!1){if(!this.annotationElementId)return;if(this.#h(),!d&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const a=$._internalPadding*this.parentScale;this.#u.rect=this.getRect(a,a)}}s.FreeTextEditor=$}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var o=m(1),f=m(6),D=m(3),F=m(30),$=m(31),O=m(32);const d=1e3,a=9,l=new WeakSet;function b(N){return{width:N[2]-N[0],height:N[3]-N[1]}}class h{static create(g){switch(g.data.annotationType){case o.AnnotationType.LINK:return new x(g);case o.AnnotationType.TEXT:return new S(g);case o.AnnotationType.WIDGET:switch(g.data.fieldType){case"Tx":return new P(g);case"Btn":return g.data.radioButton?new w(g):g.data.checkBox?new j(g):new R(g);case"Ch":return new V(g);case"Sig":return new I(g)}return new y(g);case o.AnnotationType.POPUP:return new X(g);case o.AnnotationType.FREETEXT:return new ee(g);case o.AnnotationType.LINE:return new Q(g);case o.AnnotationType.SQUARE:return new pe(g);case o.AnnotationType.CIRCLE:return new ce(g);case o.AnnotationType.POLYLINE:return new fe(g);case o.AnnotationType.CARET:return new le(g);case o.AnnotationType.INK:return new H(g);case o.AnnotationType.POLYGON:return new ge(g);case o.AnnotationType.HIGHLIGHT:return new k(g);case o.AnnotationType.UNDERLINE:return new A(g);case o.AnnotationType.SQUIGGLY:return new E(g);case o.AnnotationType.STRIKEOUT:return new _(g);case o.AnnotationType.STAMP:return new L(g);case o.AnnotationType.FILEATTACHMENT:return new U(g);default:return new u(g)}}}class u{#e=!1;constructor(g,{isRenderable:C=!1,ignoreBorder:T=!1,createQuadrilaterals:B=!1}={}){this.isRenderable=C,this.data=g.data,this.layer=g.layer,this.linkService=g.linkService,this.downloadManager=g.downloadManager,this.imageResourcesPath=g.imageResourcesPath,this.renderForms=g.renderForms,this.svgFactory=g.svgFactory,this.annotationStorage=g.annotationStorage,this.enableScripting=g.enableScripting,this.hasJSActions=g.hasJSActions,this._fieldObjects=g.fieldObjects,this.parent=g.parent,C&&(this.container=this._createContainer(T)),B&&this._createQuadrilaterals()}static _hasPopupData({titleObj:g,contentsObj:C,richText:T}){return!!(g?.str||C?.str||T?.str)}get hasPopupData(){return u._hasPopupData(this.data)}_createContainer(g){const{data:C,parent:{page:T,viewport:B}}=this,z=document.createElement("section");z.setAttribute("data-annotation-id",C.id),this instanceof y||(z.tabIndex=d),z.style.zIndex=this.parent.zIndex++,this.data.popupRef&&z.setAttribute("aria-haspopup","dialog"),C.noRotate&&z.classList.add("norotate");const{pageWidth:Y,pageHeight:K,pageX:ne,pageY:_e}=B.rawDims;if(!C.rect||this instanceof X){const{rotation:me}=C;return!C.hasOwnCanvas&&me!==0&&this.setRotation(me,z),z}const{width:ae,height:se}=b(C.rect),de=o.Util.normalizeRect([C.rect[0],T.view[3]-C.rect[1]+T.view[1],C.rect[2],T.view[3]-C.rect[3]+T.view[1]]);if(!g&&C.borderStyle.width>0){z.style.borderWidth=`${C.borderStyle.width}px`;const me=C.borderStyle.horizontalCornerRadius,Se=C.borderStyle.verticalCornerRadius;if(me>0||Se>0){const Me=`calc(${me}px * var(--scale-factor)) / calc(${Se}px * var(--scale-factor))`;z.style.borderRadius=Me}else if(this instanceof w){const Me=`calc(${ae}px * var(--scale-factor)) / calc(${se}px * var(--scale-factor))`;z.style.borderRadius=Me}switch(C.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:z.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:z.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:z.style.borderBottomStyle="solid";break}const ke=C.borderColor||null;ke?(this.#e=!0,z.style.borderColor=o.Util.makeHexColor(ke[0]|0,ke[1]|0,ke[2]|0)):z.style.borderWidth=0}z.style.left=`${100*(de[0]-ne)/Y}%`,z.style.top=`${100*(de[1]-_e)/K}%`;const{rotation:he}=C;return C.hasOwnCanvas||he===0?(z.style.width=`${100*ae/Y}%`,z.style.height=`${100*se/K}%`):this.setRotation(he,z),z}setRotation(g,C=this.container){if(!this.data.rect)return;const{pageWidth:T,pageHeight:B}=this.parent.viewport.rawDims,{width:z,height:Y}=b(this.data.rect);let K,ne;g%180===0?(K=100*z/T,ne=100*Y/B):(K=100*Y/T,ne=100*z/B),C.style.width=`${K}%`,C.style.height=`${ne}%`,C.setAttribute("data-main-rotation",(360-g)%360)}get _commonActions(){const g=(C,T,B)=>{const z=B.detail[C],Y=z[0],K=z.slice(1);B.target.style[T]=F.ColorConverters[`${Y}_HTML`](K),this.annotationStorage.setValue(this.data.id,{[T]:F.ColorConverters[`${Y}_rgb`](K)})};return(0,o.shadow)(this,"_commonActions",{display:C=>{const{display:T}=C.detail,B=T%2===1;this.container.style.visibility=B?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:B,noPrint:T===1||T===2})},print:C=>{this.annotationStorage.setValue(this.data.id,{noPrint:!C.detail.print})},hidden:C=>{const{hidden:T}=C.detail;this.container.style.visibility=T?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:T,noView:T})},focus:C=>{setTimeout(()=>C.target.focus({preventScroll:!1}),0)},userName:C=>{C.target.title=C.detail.userName},readonly:C=>{C.target.disabled=C.detail.readonly},required:C=>{this._setRequired(C.target,C.detail.required)},bgColor:C=>{g("bgColor","backgroundColor",C)},fillColor:C=>{g("fillColor","backgroundColor",C)},fgColor:C=>{g("fgColor","color",C)},textColor:C=>{g("textColor","color",C)},borderColor:C=>{g("borderColor","borderColor",C)},strokeColor:C=>{g("strokeColor","borderColor",C)},rotation:C=>{const T=C.detail.rotation;this.setRotation(T),this.annotationStorage.setValue(this.data.id,{rotation:T})}})}_dispatchEventFromSandbox(g,C){const T=this._commonActions;for(const B of Object.keys(C.detail))(g[B]||T[B])?.(C)}_setDefaultPropertiesFromJS(g){if(!this.enableScripting)return;const C=this.annotationStorage.getRawValue(this.data.id);if(!C)return;const T=this._commonActions;for(const[B,z]of Object.entries(C)){const Y=T[B];if(Y){const K={detail:{[B]:z},target:g};Y(K),delete C[B]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:g}=this.data;if(!g)return;const[C,T,B,z]=this.data.rect;if(g.length===1){const[,{x:Se,y:ke},{x:Me,y:De}]=g[0];if(B===Se&&z===ke&&C===Me&&T===De)return}const{style:Y}=this.container;let K;if(this.#e){const{borderColor:Se,borderWidth:ke}=Y;Y.borderWidth=0,K=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Se}" stroke-width="${ke}">`],this.container.classList.add("hasBorder")}const ne=B-C,_e=z-T,{svgFactory:ae}=this,se=ae.createElement("svg");se.classList.add("quadrilateralsContainer"),se.setAttribute("width",0),se.setAttribute("height",0);const de=ae.createElement("defs");se.append(de);const he=ae.createElement("clipPath"),me=`clippath_${this.data.id}`;he.setAttribute("id",me),he.setAttribute("clipPathUnits","objectBoundingBox"),de.append(he);for(const[,{x:Se,y:ke},{x:Me,y:De}]of g){const Ie=ae.createElement("rect"),Be=(Me-C)/ne,at=(z-ke)/_e,Ke=(Se-Me)/ne,kt=(ke-De)/_e;Ie.setAttribute("x",Be),Ie.setAttribute("y",at),Ie.setAttribute("width",Ke),Ie.setAttribute("height",kt),he.append(Ie),K?.push(`<rect vector-effect="non-scaling-stroke" x="${Be}" y="${at}" width="${Ke}" height="${kt}"/>`)}this.#e&&(K.push("</g></svg>')"),Y.backgroundImage=K.join("")),this.container.append(se),this.container.style.clipPath=`url(#${me})`}_createPopup(){const{container:g,data:C}=this;g.setAttribute("aria-haspopup","dialog");const T=new X({data:{color:C.color,titleObj:C.titleObj,modificationDate:C.modificationDate,contentsObj:C.contentsObj,richText:C.richText,parentRect:C.rect,borderStyle:0,id:`popup_${C.id}`,rotation:C.rotation},parent:this.parent,elements:[this]});this.parent.div.append(T.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(g,C=null){const T=[];if(this._fieldObjects){const B=this._fieldObjects[g];if(B)for(const{page:z,id:Y,exportValues:K}of B){if(z===-1||Y===C)continue;const ne=typeof K=="string"?K:null,_e=document.querySelector(`[data-element-id="${Y}"]`);if(_e&&!l.has(_e)){(0,o.warn)(`_getElementsByName - element not allowed: ${Y}`);continue}T.push({id:Y,exportValue:ne,domElement:_e})}return T}for(const B of document.getElementsByName(g)){const{exportValue:z}=B,Y=B.getAttribute("data-element-id");Y!==C&&l.has(B)&&T.push({id:Y,exportValue:z,domElement:B})}return T}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const g=this.getElementsToTriggerPopup();if(Array.isArray(g))for(const C of g)C.classList.add("highlightArea");else g.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:g,data:{id:C}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:g,editId:C})})}}class x extends u{constructor(g,C=null){super(g,{isRenderable:!0,ignoreBorder:!!C?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=g.data.isTooltipOnly}render(){const{data:g,linkService:C}=this,T=document.createElement("a");T.setAttribute("data-element-id",g.id);let B=!1;return g.url?(C.addLinkAttributes(T,g.url,g.newWindow),B=!0):g.action?(this._bindNamedAction(T,g.action),B=!0):g.attachment?(this._bindAttachment(T,g.attachment),B=!0):g.setOCGState?(this.#t(T,g.setOCGState),B=!0):g.dest?(this._bindLink(T,g.dest),B=!0):(g.actions&&(g.actions.Action||g.actions["Mouse Up"]||g.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(T,g),B=!0),g.resetForm?(this._bindResetFormAction(T,g.resetForm),B=!0):this.isTooltipOnly&&!B&&(this._bindLink(T,""),B=!0)),this.container.classList.add("linkAnnotation"),B&&this.container.append(T),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(g,C){g.href=this.linkService.getDestinationHash(C),g.onclick=()=>(C&&this.linkService.goToDestination(C),!1),(C||C==="")&&this.#e()}_bindNamedAction(g,C){g.href=this.linkService.getAnchorUrl(""),g.onclick=()=>(this.linkService.executeNamedAction(C),!1),this.#e()}_bindAttachment(g,C){g.href=this.linkService.getAnchorUrl(""),g.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,C.content,C.filename),!1),this.#e()}#t(g,C){g.href=this.linkService.getAnchorUrl(""),g.onclick=()=>(this.linkService.executeSetOCGState(C),!1),this.#e()}_bindJSAction(g,C){g.href=this.linkService.getAnchorUrl("");const T=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const B of Object.keys(C.actions)){const z=T.get(B);z&&(g[z]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C.id,name:B}}),!1))}g.onclick||(g.onclick=()=>!1),this.#e()}_bindResetFormAction(g,C){const T=g.onclick;if(T||(g.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),T||(g.onclick=()=>!1);return}g.onclick=()=>{T?.();const{fields:B,refs:z,include:Y}=C,K=[];if(B.length!==0||z.length!==0){const ae=new Set(z);for(const se of B){const de=this._fieldObjects[se]||[];for(const{id:he}of de)ae.add(he)}for(const se of Object.values(this._fieldObjects))for(const de of se)ae.has(de.id)===Y&&K.push(de)}else for(const ae of Object.values(this._fieldObjects))K.push(...ae);const ne=this.annotationStorage,_e=[];for(const ae of K){const{id:se}=ae;switch(_e.push(se),ae.type){case"text":{const he=ae.defaultValue||"";ne.setValue(se,{value:he});break}case"checkbox":case"radiobutton":{const he=ae.defaultValue===ae.exportValues;ne.setValue(se,{value:he});break}case"combobox":case"listbox":{const he=ae.defaultValue||"";ne.setValue(se,{value:he});break}default:continue}const de=document.querySelector(`[data-element-id="${se}"]`);if(de){if(!l.has(de)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${se}`);continue}}else continue;de.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:_e,name:"ResetForm"}}),!1}}}class S extends u{constructor(g){super(g,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const g=document.createElement("img");return g.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",g.alt="[{{type}} Annotation]",g.dataset.l10nId="text_annotation_type",g.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(g),this.container}}class y extends u{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(g){this.data.hasOwnCanvas&&(g.previousSibling?.nodeName==="CANVAS"&&(g.previousSibling.hidden=!0),g.hidden=!1)}_getKeyModifier(g){const{isWin:C,isMac:T}=o.FeatureTest.platform;return C&&g.ctrlKey||T&&g.metaKey}_setEventListener(g,C,T,B,z){T.includes("mouse")?g.addEventListener(T,Y=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:B,value:z(Y),shift:Y.shiftKey,modifier:this._getKeyModifier(Y)}})}):g.addEventListener(T,Y=>{if(T==="blur"){if(!C.focused||!Y.relatedTarget)return;C.focused=!1}else if(T==="focus"){if(C.focused)return;C.focused=!0}z&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:B,value:z(Y)}})})}_setEventListeners(g,C,T,B){for(const[z,Y]of T)(Y==="Action"||this.data.actions?.[Y])&&((Y==="Focus"||Y==="Blur")&&(C||={focused:!1}),this._setEventListener(g,C,z,Y,B),Y==="Focus"&&!this.data.actions?.Blur?this._setEventListener(g,C,"blur","Blur",null):Y==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(g,C,"focus","Focus",null))}_setBackgroundColor(g){const C=this.data.backgroundColor||null;g.style.backgroundColor=C===null?"transparent":o.Util.makeHexColor(C[0],C[1],C[2])}_setTextStyle(g){const C=["left","center","right"],{fontColor:T}=this.data.defaultAppearanceData,B=this.data.defaultAppearanceData.fontSize||a,z=g.style;let Y;const K=2,ne=_e=>Math.round(10*_e)/10;if(this.data.multiLine){const _e=Math.abs(this.data.rect[3]-this.data.rect[1]-K),ae=Math.round(_e/(o.LINE_FACTOR*B))||1,se=_e/ae;Y=Math.min(B,ne(se/o.LINE_FACTOR))}else{const _e=Math.abs(this.data.rect[3]-this.data.rect[1]-K);Y=Math.min(B,ne(_e/o.LINE_FACTOR))}z.fontSize=`calc(${Y}px * var(--scale-factor))`,z.color=o.Util.makeHexColor(T[0],T[1],T[2]),this.data.textAlignment!==null&&(z.textAlign=C[this.data.textAlignment])}_setRequired(g,C){C?g.setAttribute("required",!0):g.removeAttribute("required"),g.setAttribute("aria-required",C)}}class P extends y{constructor(g){const C=g.renderForms||!g.data.hasAppearance&&!!g.data.fieldValue;super(g,{isRenderable:C})}setPropertyOnSiblings(g,C,T,B){const z=this.annotationStorage;for(const Y of this._getElementsByName(g.name,g.id))Y.domElement&&(Y.domElement[C]=T),z.setValue(Y.id,{[B]:T})}render(){const g=this.annotationStorage,C=this.data.id;this.container.classList.add("textWidgetAnnotation");let T=null;if(this.renderForms){const B=g.getValue(C,{value:this.data.fieldValue});let z=B.value||"";const Y=g.getValue(C,{charLimit:this.data.maxLen}).charLimit;Y&&z.length>Y&&(z=z.slice(0,Y));let K=B.formattedValue||this.data.textContent?.join(`
`)||null;K&&this.data.comb&&(K=K.replaceAll(/\s+/g,""));const ne={userValue:z,formattedValue:K,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(T=document.createElement("textarea"),T.textContent=K??z,this.data.doNotScroll&&(T.style.overflowY="hidden")):(T=document.createElement("input"),T.type="text",T.setAttribute("value",K??z),this.data.doNotScroll&&(T.style.overflowX="hidden")),this.data.hasOwnCanvas&&(T.hidden=!0),l.add(T),T.setAttribute("data-element-id",C),T.disabled=this.data.readOnly,T.name=this.data.fieldName,T.tabIndex=d,this._setRequired(T,this.data.required),Y&&(T.maxLength=Y),T.addEventListener("input",ae=>{g.setValue(C,{value:ae.target.value}),this.setPropertyOnSiblings(T,"value",ae.target.value,"value"),ne.formattedValue=null}),T.addEventListener("resetform",ae=>{const se=this.data.defaultFieldValue??"";T.value=ne.userValue=se,ne.formattedValue=null});let _e=ae=>{const{formattedValue:se}=ne;se!=null&&(ae.target.value=se),ae.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){T.addEventListener("focus",se=>{if(ne.focused)return;const{target:de}=se;ne.userValue&&(de.value=ne.userValue),ne.lastCommittedValue=de.value,ne.commitKey=1,ne.focused=!0}),T.addEventListener("updatefromsandbox",se=>{this.showElementAndHideCanvas(se.target);const de={value(he){ne.userValue=he.detail.value??"",g.setValue(C,{value:ne.userValue.toString()}),he.target.value=ne.userValue},formattedValue(he){const{formattedValue:me}=he.detail;ne.formattedValue=me,me!=null&&he.target!==document.activeElement&&(he.target.value=me),g.setValue(C,{formattedValue:me})},selRange(he){he.target.setSelectionRange(...he.detail.selRange)},charLimit:he=>{const{charLimit:me}=he.detail,{target:Se}=he;if(me===0){Se.removeAttribute("maxLength");return}Se.setAttribute("maxLength",me);let ke=ne.userValue;!ke||ke.length<=me||(ke=ke.slice(0,me),Se.value=ne.userValue=ke,g.setValue(C,{value:ke}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:ke,willCommit:!0,commitKey:1,selStart:Se.selectionStart,selEnd:Se.selectionEnd}}))}};this._dispatchEventFromSandbox(de,se)}),T.addEventListener("keydown",se=>{ne.commitKey=1;let de=-1;if(se.key==="Escape"?de=0:se.key==="Enter"&&!this.data.multiLine?de=2:se.key==="Tab"&&(ne.commitKey=3),de===-1)return;const{value:he}=se.target;ne.lastCommittedValue!==he&&(ne.lastCommittedValue=he,ne.userValue=he,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:he,willCommit:!0,commitKey:de,selStart:se.target.selectionStart,selEnd:se.target.selectionEnd}}))});const ae=_e;_e=null,T.addEventListener("blur",se=>{if(!ne.focused||!se.relatedTarget)return;ne.focused=!1;const{value:de}=se.target;ne.userValue=de,ne.lastCommittedValue!==de&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:de,willCommit:!0,commitKey:ne.commitKey,selStart:se.target.selectionStart,selEnd:se.target.selectionEnd}}),ae(se)}),this.data.actions?.Keystroke&&T.addEventListener("beforeinput",se=>{ne.lastCommittedValue=null;const{data:de,target:he}=se,{value:me,selectionStart:Se,selectionEnd:ke}=he;let Me=Se,De=ke;switch(se.inputType){case"deleteWordBackward":{const Ie=me.substring(0,Se).match(/\w*[^\w]*$/);Ie&&(Me-=Ie[0].length);break}case"deleteWordForward":{const Ie=me.substring(Se).match(/^[^\w]*\w*/);Ie&&(De+=Ie[0].length);break}case"deleteContentBackward":Se===ke&&(Me-=1);break;case"deleteContentForward":Se===ke&&(De+=1);break}se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:me,change:de||"",willCommit:!1,selStart:Me,selEnd:De}})}),this._setEventListeners(T,ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],se=>se.target.value)}if(_e&&T.addEventListener("blur",_e),this.data.comb){const se=(this.data.rect[2]-this.data.rect[0])/Y;T.classList.add("comb"),T.style.letterSpacing=`calc(${se}px * var(--scale-factor) - 1ch)`}}else T=document.createElement("div"),T.textContent=this.data.fieldValue,T.style.verticalAlign="middle",T.style.display="table-cell";return this._setTextStyle(T),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.append(T),this.container}}class I extends y{constructor(g){super(g,{isRenderable:!!g.data.hasOwnCanvas})}}class j extends y{constructor(g){super(g,{isRenderable:g.renderForms})}render(){const g=this.annotationStorage,C=this.data,T=C.id;let B=g.getValue(T,{value:C.exportValue===C.fieldValue}).value;typeof B=="string"&&(B=B!=="Off",g.setValue(T,{value:B})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const z=document.createElement("input");return l.add(z),z.setAttribute("data-element-id",T),z.disabled=C.readOnly,this._setRequired(z,this.data.required),z.type="checkbox",z.name=C.fieldName,B&&z.setAttribute("checked",!0),z.setAttribute("exportValue",C.exportValue),z.tabIndex=d,z.addEventListener("change",Y=>{const{name:K,checked:ne}=Y.target;for(const _e of this._getElementsByName(K,T)){const ae=ne&&_e.exportValue===C.exportValue;_e.domElement&&(_e.domElement.checked=ae),g.setValue(_e.id,{value:ae})}g.setValue(T,{value:ne})}),z.addEventListener("resetform",Y=>{const K=C.defaultFieldValue||"Off";Y.target.checked=K===C.exportValue}),this.enableScripting&&this.hasJSActions&&(z.addEventListener("updatefromsandbox",Y=>{const K={value(ne){ne.target.checked=ne.detail.value!=="Off",g.setValue(T,{value:ne.target.checked})}};this._dispatchEventFromSandbox(K,Y)}),this._setEventListeners(z,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.checked)),this._setBackgroundColor(z),this._setDefaultPropertiesFromJS(z),this.container.append(z),this.container}}class w extends y{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const g=this.annotationStorage,C=this.data,T=C.id;let B=g.getValue(T,{value:C.fieldValue===C.buttonValue}).value;typeof B=="string"&&(B=B!==C.buttonValue,g.setValue(T,{value:B}));const z=document.createElement("input");if(l.add(z),z.setAttribute("data-element-id",T),z.disabled=C.readOnly,this._setRequired(z,this.data.required),z.type="radio",z.name=C.fieldName,B&&z.setAttribute("checked",!0),z.tabIndex=d,z.addEventListener("change",Y=>{const{name:K,checked:ne}=Y.target;for(const _e of this._getElementsByName(K,T))g.setValue(_e.id,{value:!1});g.setValue(T,{value:ne})}),z.addEventListener("resetform",Y=>{const K=C.defaultFieldValue;Y.target.checked=K!=null&&K===C.buttonValue}),this.enableScripting&&this.hasJSActions){const Y=C.buttonValue;z.addEventListener("updatefromsandbox",K=>{const ne={value:_e=>{const ae=Y===_e.detail.value;for(const se of this._getElementsByName(_e.target.name)){const de=ae&&se.id===T;se.domElement&&(se.domElement.checked=de),g.setValue(se.id,{value:de})}}};this._dispatchEventFromSandbox(ne,K)}),this._setEventListeners(z,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.checked)}return this._setBackgroundColor(z),this._setDefaultPropertiesFromJS(z),this.container.append(z),this.container}}class R extends x{constructor(g){super(g,{ignoreBorder:g.data.hasAppearance})}render(){const g=super.render();g.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(g.title=this.data.alternativeText);const C=g.lastChild;return this.enableScripting&&this.hasJSActions&&C&&(this._setDefaultPropertiesFromJS(C),C.addEventListener("updatefromsandbox",T=>{this._dispatchEventFromSandbox({},T)})),g}}class V extends y{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const g=this.annotationStorage,C=this.data.id,T=g.getValue(C,{value:this.data.fieldValue}),B=document.createElement("select");l.add(B),B.setAttribute("data-element-id",C),B.disabled=this.data.readOnly,this._setRequired(B,this.data.required),B.name=this.data.fieldName,B.tabIndex=d;let z=this.data.combo&&this.data.options.length>0;this.data.combo||(B.size=this.data.options.length,this.data.multiSelect&&(B.multiple=!0)),B.addEventListener("resetform",ae=>{const se=this.data.defaultFieldValue;for(const de of B.options)de.selected=de.value===se});for(const ae of this.data.options){const se=document.createElement("option");se.textContent=ae.displayValue,se.value=ae.exportValue,T.value.includes(ae.exportValue)&&(se.setAttribute("selected",!0),z=!1),B.append(se)}let Y=null;if(z){const ae=document.createElement("option");ae.value=" ",ae.setAttribute("hidden",!0),ae.setAttribute("selected",!0),B.prepend(ae),Y=()=>{ae.remove(),B.removeEventListener("input",Y),Y=null},B.addEventListener("input",Y)}const K=ae=>{const se=ae?"value":"textContent",{options:de,multiple:he}=B;return he?Array.prototype.filter.call(de,me=>me.selected).map(me=>me[se]):de.selectedIndex===-1?null:de[de.selectedIndex][se]};let ne=K(!1);const _e=ae=>{const se=ae.target.options;return Array.prototype.map.call(se,de=>({displayValue:de.textContent,exportValue:de.value}))};return this.enableScripting&&this.hasJSActions?(B.addEventListener("updatefromsandbox",ae=>{const se={value(de){Y?.();const he=de.detail.value,me=new Set(Array.isArray(he)?he:[he]);for(const Se of B.options)Se.selected=me.has(Se.value);g.setValue(C,{value:K(!0)}),ne=K(!1)},multipleSelection(de){B.multiple=!0},remove(de){const he=B.options,me=de.detail.remove;he[me].selected=!1,B.remove(me),he.length>0&&Array.prototype.findIndex.call(he,ke=>ke.selected)===-1&&(he[0].selected=!0),g.setValue(C,{value:K(!0),items:_e(de)}),ne=K(!1)},clear(de){for(;B.length!==0;)B.remove(0);g.setValue(C,{value:null,items:[]}),ne=K(!1)},insert(de){const{index:he,displayValue:me,exportValue:Se}=de.detail.insert,ke=B.children[he],Me=document.createElement("option");Me.textContent=me,Me.value=Se,ke?ke.before(Me):B.append(Me),g.setValue(C,{value:K(!0),items:_e(de)}),ne=K(!1)},items(de){const{items:he}=de.detail;for(;B.length!==0;)B.remove(0);for(const me of he){const{displayValue:Se,exportValue:ke}=me,Me=document.createElement("option");Me.textContent=Se,Me.value=ke,B.append(Me)}B.options.length>0&&(B.options[0].selected=!0),g.setValue(C,{value:K(!0),items:_e(de)}),ne=K(!1)},indices(de){const he=new Set(de.detail.indices);for(const me of de.target.options)me.selected=he.has(me.index);g.setValue(C,{value:K(!0)}),ne=K(!1)},editable(de){de.target.disabled=!de.detail.editable}};this._dispatchEventFromSandbox(se,ae)}),B.addEventListener("input",ae=>{const se=K(!0);g.setValue(C,{value:se}),ae.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:ne,changeEx:se,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(B,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ae=>ae.target.value)):B.addEventListener("input",function(ae){g.setValue(C,{value:K(!0)})}),this.data.combo&&this._setTextStyle(B),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class X extends u{constructor(g){const{data:C,elements:T}=g;super(g,{isRenderable:u._hasPopupData(C)}),this.elements=T}render(){this.container.classList.add("popupAnnotation");const g=new G({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),C=[];for(const T of this.elements)T.popup=g,C.push(T.data.id),T.addHighlightArea();return this.container.setAttribute("aria-controls",C.map(T=>`${o.AnnotationPrefix}${T}`).join(",")),this.container}}class G{#e=null;#t=this.#c.bind(this);#n=this.#b.bind(this);#r=this.#S.bind(this);#o=this.#v.bind(this);#a=null;#s=null;#l=null;#u=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#y=null;#g=null;#m=!1;constructor({container:g,color:C,elements:T,titleObj:B,modificationDate:z,contentsObj:Y,richText:K,parent:ne,rect:_e,parentRect:ae,open:se}){this.#s=g,this.#g=B,this.#l=Y,this.#y=K,this.#i=ne,this.#a=C,this.#p=_e,this.#f=ae,this.#u=T;const de=f.PDFDateString.toDateObject(z);de&&(this.#e=ne.l10n.get("annotation_date_string",{date:de.toLocaleDateString(),time:de.toLocaleTimeString()})),this.trigger=T.flatMap(he=>he.getElementsToTriggerPopup());for(const he of this.trigger)he.addEventListener("click",this.#o),he.addEventListener("mouseenter",this.#r),he.addEventListener("mouseleave",this.#n),he.classList.add("popupTriggerArea");for(const he of T)he.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,se&&this.#v()}render(){if(this.#h)return;const{page:{view:g},viewport:{rawDims:{pageWidth:C,pageHeight:T,pageX:B,pageY:z}}}=this.#i,Y=this.#h=document.createElement("div");if(Y.className="popup",this.#a){const Ie=Y.style.outlineColor=o.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Y.style.backgroundColor=`color-mix(in srgb, ${Ie} 30%, white)`:Y.style.backgroundColor=o.Util.makeHexColor(...this.#a.map(at=>Math.floor(.7*(255-at)+at)))}const K=document.createElement("span");K.className="header";const ne=document.createElement("h1");if(K.append(ne),{dir:ne.dir,str:ne.textContent}=this.#g,Y.append(K),this.#e){const Ie=document.createElement("span");Ie.classList.add("popupDate"),this.#e.then(Be=>{Ie.textContent=Be}),K.append(Ie)}const _e=this.#l,ae=this.#y;if(ae?.str&&(!_e?.str||_e.str===ae.str))O.XfaLayer.render({xfaHtml:ae.html,intent:"richText",div:Y}),Y.lastChild.classList.add("richText","popupContent");else{const Ie=this._formatContents(_e);Y.append(Ie)}let se=!!this.#f,de=se?this.#f:this.#p;for(const Ie of this.#u)if(!de||o.Util.intersect(Ie.data.rect,de)!==null){de=Ie.data.rect,se=!0;break}const he=o.Util.normalizeRect([de[0],g[3]-de[1]+g[1],de[2],g[3]-de[3]+g[1]]),Se=se?de[2]-de[0]+5:0,ke=he[0]+Se,Me=he[1],{style:De}=this.#s;De.left=`${100*(ke-B)/C}%`,De.top=`${100*(Me-z)/T}%`,this.#s.append(Y)}_formatContents({str:g,dir:C}){const T=document.createElement("p");T.classList.add("popupContent"),T.dir=C;const B=g.split(/(?:\r\n?|\n)/);for(let z=0,Y=B.length;z<Y;++z){const K=B[z];T.append(document.createTextNode(K)),z<Y-1&&T.append(document.createElement("br"))}return T}#c(g){g.altKey||g.shiftKey||g.ctrlKey||g.metaKey||(g.key==="Enter"||g.key==="Escape"&&this.#d)&&this.#v()}#v(){this.#d=!this.#d,this.#d?(this.#S(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#t)):(this.#b(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#t))}#S(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#b(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#s.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class ee extends u{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.textContent=g.data.textContent,this.textPosition=g.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const g=document.createElement("div");g.classList.add("annotationTextContent"),g.setAttribute("role","comment");for(const C of this.textContent){const T=document.createElement("span");T.textContent=C,g.append(T)}this.container.append(g)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=ee;class Q extends u{#e=null;constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const g=this.data,{width:C,height:T}=b(g.rect),B=this.svgFactory.create(C,T,!0),z=this.#e=this.svgFactory.createElement("svg:line");return z.setAttribute("x1",g.rect[2]-g.lineCoordinates[0]),z.setAttribute("y1",g.rect[3]-g.lineCoordinates[1]),z.setAttribute("x2",g.rect[2]-g.lineCoordinates[2]),z.setAttribute("y2",g.rect[3]-g.lineCoordinates[3]),z.setAttribute("stroke-width",g.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),B.append(z),this.container.append(B),!g.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class pe extends u{#e=null;constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const g=this.data,{width:C,height:T}=b(g.rect),B=this.svgFactory.create(C,T,!0),z=g.borderStyle.width,Y=this.#e=this.svgFactory.createElement("svg:rect");return Y.setAttribute("x",z/2),Y.setAttribute("y",z/2),Y.setAttribute("width",C-z),Y.setAttribute("height",T-z),Y.setAttribute("stroke-width",z||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),B.append(Y),this.container.append(B),!g.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ce extends u{#e=null;constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const g=this.data,{width:C,height:T}=b(g.rect),B=this.svgFactory.create(C,T,!0),z=g.borderStyle.width,Y=this.#e=this.svgFactory.createElement("svg:ellipse");return Y.setAttribute("cx",C/2),Y.setAttribute("cy",T/2),Y.setAttribute("rx",C/2-z/2),Y.setAttribute("ry",T/2-z/2),Y.setAttribute("stroke-width",z||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),B.append(Y),this.container.append(B),!g.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fe extends u{#e=null;constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const g=this.data,{width:C,height:T}=b(g.rect),B=this.svgFactory.create(C,T,!0);let z=[];for(const K of g.vertices){const ne=K.x-g.rect[0],_e=g.rect[3]-K.y;z.push(ne+","+_e)}z=z.join(" ");const Y=this.#e=this.svgFactory.createElement(this.svgElementName);return Y.setAttribute("points",z),Y.setAttribute("stroke-width",g.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),B.append(Y),this.container.append(B),!g.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ge extends fe{constructor(g){super(g),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class le extends u{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class H extends u{#e=[];constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const g=this.data,{width:C,height:T}=b(g.rect),B=this.svgFactory.create(C,T,!0);for(const z of g.inkLists){let Y=[];for(const ne of z){const _e=ne.x-g.rect[0],ae=g.rect[3]-ne.y;Y.push(`${_e},${ae}`)}Y=Y.join(" ");const K=this.svgFactory.createElement(this.svgElementName);this.#e.push(K),K.setAttribute("points",Y),K.setAttribute("stroke-width",g.borderStyle.width||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),!g.popupRef&&this.hasPopupData&&this._createPopup(),B.append(K)}return this.container.append(B),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}s.InkAnnotationElement=H;class k extends u{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class A extends u{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class E extends u{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class _ extends u{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class L extends u{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=L;class U extends u{#e=null;constructor(g){super(g,{isRenderable:!0});const{filename:C,content:T}=this.data.file;this.filename=(0,f.getFilenameFromUrl)(C,!0),this.content=T,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:C,content:T})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:g,data:C}=this;let T;C.hasAppearance||C.fillAlpha===0?T=document.createElement("div"):(T=document.createElement("img"),T.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(C.name)?"paperclip":"pushpin"}.svg`,C.fillAlpha&&C.fillAlpha<1&&(T.style=`filter: opacity(${Math.round(C.fillAlpha*100)}%);`)),T.addEventListener("dblclick",this.#t.bind(this)),this.#e=T;const{isMac:B}=o.FeatureTest.platform;return g.addEventListener("keydown",z=>{z.key==="Enter"&&(B?z.metaKey:z.ctrlKey)&&this.#t()}),!C.popupRef&&this.hasPopupData?this._createPopup():T.classList.add("popupTriggerArea"),g.append(T),g}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class W{#e=null;#t=null;#n=new Map;constructor({div:g,accessibilityManager:C,annotationCanvasMap:T,l10n:B,page:z,viewport:Y}){this.div=g,this.#e=C,this.#t=T,this.l10n=B,this.page=z,this.viewport=Y,this.zIndex=0,this.l10n||=$.NullL10n}#r(g,C){const T=g.firstChild||g;T.id=`${o.AnnotationPrefix}${C}`,this.div.append(g),this.#e?.moveElementInDOM(this.div,g,T,!1)}async render(g){const{annotations:C}=g,T=this.div;(0,f.setLayerDimensions)(T,this.viewport);const B=new Map,z={data:null,layer:T,linkService:g.linkService,downloadManager:g.downloadManager,imageResourcesPath:g.imageResourcesPath||"",renderForms:g.renderForms!==!1,svgFactory:new f.DOMSVGFactory,annotationStorage:g.annotationStorage||new D.AnnotationStorage,enableScripting:g.enableScripting===!0,hasJSActions:g.hasJSActions,fieldObjects:g.fieldObjects,parent:this,elements:null};for(const Y of C){if(Y.noHTML)continue;const K=Y.annotationType===o.AnnotationType.POPUP;if(K){const ae=B.get(Y.id);if(!ae)continue;z.elements=ae}else{const{width:ae,height:se}=b(Y.rect);if(ae<=0||se<=0)continue}z.data=Y;const ne=h.create(z);if(!ne.isRenderable)continue;if(!K&&Y.popupRef){const ae=B.get(Y.popupRef);ae?ae.push(ne):B.set(Y.popupRef,[ne])}ne.annotationEditorType>0&&this.#n.set(ne.data.id,ne);const _e=ne.render();Y.hidden&&(_e.style.visibility="hidden"),this.#r(_e,Y.id)}this.#o(),await this.l10n.translate(T)}update({viewport:g}){const C=this.div;this.viewport=g,(0,f.setLayerDimensions)(C,{rotation:g.rotation}),this.#o(),C.hidden=!1}#o(){if(!this.#t)return;const g=this.div;for(const[C,T]of this.#t){const B=g.querySelector(`[data-annotation-id="${C}"]`);if(!B)continue;const{firstChild:z}=B;z?z.nodeName==="CANVAS"?z.replaceWith(T):z.before(T):B.append(T)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(g){return this.#n.get(g)}}s.AnnotationLayer=W}),((v,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function m(D){return Math.floor(Math.max(0,Math.min(1,D))*255).toString(16).padStart(2,"0")}function o(D){return Math.max(0,Math.min(255,255*D))}class f{static CMYK_G([F,$,O,d]){return["G",1-Math.min(1,.3*F+.59*O+.11*$+d)]}static G_CMYK([F]){return["CMYK",0,0,0,1-F]}static G_RGB([F]){return["RGB",F,F,F]}static G_rgb([F]){return F=o(F),[F,F,F]}static G_HTML([F]){const $=m(F);return`#${$}${$}${$}`}static RGB_G([F,$,O]){return["G",.3*F+.59*$+.11*O]}static RGB_rgb(F){return F.map(o)}static RGB_HTML(F){return`#${F.map(m).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([F,$,O,d]){return["RGB",1-Math.min(1,F+d),1-Math.min(1,O+d),1-Math.min(1,$+d)]}static CMYK_rgb([F,$,O,d]){return[o(1-Math.min(1,F+d)),o(1-Math.min(1,O+d)),o(1-Math.min(1,$+d))]}static CMYK_HTML(F){const $=this.CMYK_RGB(F).slice(1);return this.RGB_HTML($)}static RGB_CMYK([F,$,O]){const d=1-F,a=1-$,l=1-O,b=Math.min(d,a,l);return["CMYK",d,a,l,b]}}s.ColorConverters=f}),((v,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=o;const m={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};m.print_progress_percent="{{progress}}%";function o(F,$){switch(F){case"find_match_count":F=`find_match_count[${$.total===1?"one":"other"}]`;break;case"find_match_count_limit":F=`find_match_count_limit[${$.limit===1?"one":"other"}]`;break}return m[F]||""}function f(F,$){return $?F.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(O,d)=>d in $?$[d]:"{{"+d+"}}"):F}const D={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(F,$=null,O=o(F,$)){return f(O,$)},async translate(F){}};s.NullL10n=D}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var o=m(25);class f{static setupStorage(F,$,O,d,a){const l=d.getValue($,{value:null});switch(O.name){case"textarea":if(l.value!==null&&(F.textContent=l.value),a==="print")break;F.addEventListener("input",b=>{d.setValue($,{value:b.target.value})});break;case"input":if(O.attributes.type==="radio"||O.attributes.type==="checkbox"){if(l.value===O.attributes.xfaOn?F.setAttribute("checked",!0):l.value===O.attributes.xfaOff&&F.removeAttribute("checked"),a==="print")break;F.addEventListener("change",b=>{d.setValue($,{value:b.target.checked?b.target.getAttribute("xfaOn"):b.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&F.setAttribute("value",l.value),a==="print")break;F.addEventListener("input",b=>{d.setValue($,{value:b.target.value})})}break;case"select":if(l.value!==null){F.setAttribute("value",l.value);for(const b of O.children)b.attributes.value===l.value?b.attributes.selected=!0:b.attributes.hasOwnProperty("selected")&&delete b.attributes.selected}F.addEventListener("input",b=>{const h=b.target.options,u=h.selectedIndex===-1?"":h[h.selectedIndex].value;d.setValue($,{value:u})});break}}static setAttributes({html:F,element:$,storage:O=null,intent:d,linkService:a}){const{attributes:l}=$,b=F instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${d}`);for(const[h,u]of Object.entries(l))if(u!=null)switch(h){case"class":u.length&&F.setAttribute(h,u.join(" "));break;case"dataId":break;case"id":F.setAttribute("data-element-id",u);break;case"style":Object.assign(F.style,u);break;case"textContent":F.textContent=u;break;default:(!b||h!=="href"&&h!=="newWindow")&&F.setAttribute(h,u)}b&&a.addLinkAttributes(F,l.href,l.newWindow),O&&l.dataId&&this.setupStorage(F,l.dataId,$,O)}static render(F){const $=F.annotationStorage,O=F.linkService,d=F.xfaHtml,a=F.intent||"display",l=document.createElement(d.name);d.attributes&&this.setAttributes({html:l,element:d,intent:a,linkService:O});const b=[[d,-1,l]],h=F.div;if(h.append(l),F.viewport){const x=`matrix(${F.viewport.transform.join(",")})`;h.style.transform=x}a!=="richText"&&h.setAttribute("class","xfaLayer xfaFont");const u=[];for(;b.length>0;){const[x,S,y]=b.at(-1);if(S+1===x.children.length){b.pop();continue}const P=x.children[++b.at(-1)[1]];if(P===null)continue;const{name:I}=P;if(I==="#text"){const w=document.createTextNode(P.value);u.push(w),y.append(w);continue}const j=P?.attributes?.xmlns?document.createElementNS(P.attributes.xmlns,I):document.createElement(I);if(y.append(j),P.attributes&&this.setAttributes({html:j,element:P,storage:$,intent:a,linkService:O}),P.children&&P.children.length>0)b.push([P,-1,j]);else if(P.value){const w=document.createTextNode(P.value);o.XfaText.shouldBuildText(I)&&u.push(w),j.append(w)}}for(const x of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:u}}static update(F){const $=`matrix(${F.viewport.transform.join(",")})`;F.div.style.transform=$,F.div.hidden=!1}}s.XfaLayer=f}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var o=m(1),f=m(4),D=m(29),F=m(6),$=m(5);class O extends f.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#u=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(a){super({...a,name:"inkEditor"}),this.color=a.color||null,this.thickness=a.thickness||null,this.opacity=a.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(a){f.AnnotationEditor.initialize(a,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(a,l){switch(a){case o.AnnotationEditorParamsType.INK_THICKNESS:O._defaultThickness=l;break;case o.AnnotationEditorParamsType.INK_COLOR:O._defaultColor=l;break;case o.AnnotationEditorParamsType.INK_OPACITY:O._defaultOpacity=l/100;break}}updateParams(a,l){switch(a){case o.AnnotationEditorParamsType.INK_THICKNESS:this.#y(l);break;case o.AnnotationEditorParamsType.INK_COLOR:this.#g(l);break;case o.AnnotationEditorParamsType.INK_OPACITY:this.#m(l);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,O._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,O._defaultColor||f.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(O._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||O._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||O._defaultColor||f.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??O._defaultOpacity))]]}#y(a){const l=this.thickness;this.addCommands({cmd:()=>{this.thickness=a,this.#w()},undo:()=>{this.thickness=l,this.#w()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(a){const l=this.color;this.addCommands({cmd:()=>{this.color=a,this.#x()},undo:()=>{this.color=l,this.#x()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(a){a/=100;const l=this.opacity;this.addCommands({cmd:()=>{this.opacity=a,this.#x()},undo:()=>{this.opacity=l,this.#x()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#P(),this.#T()),this.isAttachedToDOM||(this.parent.add(this),this.#_()),this.#w()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(a){!this.parent&&a?this._uiManager.removeShouldRescale(this):this.parent&&a===null&&this._uiManager.addShouldRescale(this),super.setParent(a)}onScaleChanging(){const[a,l]=this.parentDimensions,b=this.width*a,h=this.height*l;this.setDimensions(b,h)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#c(){const{parentRotation:a,parentDimensions:[l,b]}=this;switch(a){case 90:return[0,b,b,l];case 180:return[l,b,l,b];case 270:return[l,0,b,l];default:return[0,0,l,b]}}#v(){const{ctx:a,color:l,opacity:b,thickness:h,parentScale:u,scaleFactor:x}=this;a.lineWidth=h*u/x,a.lineCap="round",a.lineJoin="round",a.miterLimit=10,a.strokeStyle=`${l}${(0,$.opacityToHex)(b)}`}#S(a,l){this.canvas.addEventListener("contextmenu",F.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#i||(this.#i=!0,this.#_(),this.thickness||=O._defaultThickness,this.color||=O._defaultColor||f.AnnotationEditor._defaultLineColor,this.opacity??=O._defaultOpacity),this.currentPath.push([a,l]),this.#u=!1,this.#v(),this.#p=()=>{this.#D(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#b(a,l){const[b,h]=this.currentPath.at(-1);if(this.currentPath.length>1&&a===b&&l===h)return;const u=this.currentPath;let x=this.#s;if(u.push([a,l]),this.#u=!0,u.length<=2){x.moveTo(...u[0]),x.lineTo(a,l);return}u.length===3&&(this.#s=x=new Path2D,x.moveTo(...u[0])),this.#j(x,...u.at(-3),...u.at(-2),a,l)}#k(){if(this.currentPath.length===0)return;const a=this.currentPath.at(-1);this.#s.lineTo(...a)}#R(a,l){this.#p=null,a=Math.min(Math.max(a,0),this.canvas.width),l=Math.min(Math.max(l,0),this.canvas.height),this.#b(a,l),this.#k();let b;if(this.currentPath.length!==1)b=this.#I();else{const y=[a,l];b=[[y,y.slice(),y.slice(),y]]}const h=this.#s,u=this.currentPath;this.currentPath=[],this.#s=new Path2D;const x=()=>{this.allRawPaths.push(u),this.paths.push(b),this.bezierPath2D.push(h),this.rebuild()},S=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#P(),this.#T()),this.#w())};this.addCommands({cmd:x,undo:S,mustExec:!0})}#D(){if(!this.#u)return;this.#u=!1;const a=Math.ceil(this.thickness*this.parentScale),l=this.currentPath.slice(-3),b=l.map(x=>x[0]),h=l.map(x=>x[1]);Math.min(...b)-a,Math.max(...b)+a,Math.min(...h)-a,Math.max(...h)+a;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const x of this.bezierPath2D)u.stroke(x);u.stroke(this.#s),u.restore()}#j(a,l,b,h,u,x,S){const y=(l+h)/2,P=(b+u)/2,I=(h+x)/2,j=(u+S)/2;a.bezierCurveTo(y+2*(h-y)/3,P+2*(u-P)/3,I+2*(h-I)/3,j+2*(u-j)/3,I,j)}#I(){const a=this.currentPath;if(a.length<=2)return[[a[0],a[0],a.at(-1),a.at(-1)]];const l=[];let b,[h,u]=a[0];for(b=1;b<a.length-2;b++){const[w,R]=a[b],[V,X]=a[b+1],G=(w+V)/2,ee=(R+X)/2,Q=[h+2*(w-h)/3,u+2*(R-u)/3],pe=[G+2*(w-G)/3,ee+2*(R-ee)/3];l.push([[h,u],Q,pe,[G,ee]]),[h,u]=[G,ee]}const[x,S]=a[b],[y,P]=a[b+1],I=[h+2*(x-h)/3,u+2*(S-u)/3],j=[y+2*(x-y)/3,P+2*(S-P)/3];return l.push([[h,u],I,j,[y,P]]),l}#x(){if(this.isEmpty()){this.#A();return}this.#v();const{canvas:a,ctx:l}=this;l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,a.width,a.height),this.#A();for(const b of this.bezierPath2D)l.stroke(b)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#w(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(a){this._focusEventsAllowed&&(super.focusin(a),this.enableEditMode())}canvasPointerdown(a){a.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),a.preventDefault(),a.type!=="mouse"&&this.div.focus(),this.#S(a.offsetX,a.offsetY))}canvasPointermove(a){a.preventDefault(),this.#b(a.offsetX,a.offsetY)}canvasPointerup(a){a.preventDefault(),this.#L(a)}canvasPointerleave(a){this.#L(a)}#L(a){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",F.noContextMenu)},10),this.#R(a.offsetX,a.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#P(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",f.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(a=>this.canvas?.setAttribute("aria-label",a)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#T(){this.#f=new ResizeObserver(a=>{const l=a[0].contentRect;l.width&&l.height&&this.setDimensions(l.width,l.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let a,l;this.width&&(a=this.x,l=this.y),super.render(),f.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(S=>this.div?.setAttribute("aria-label",S));const[b,h,u,x]=this.#c();if(this.setAt(b,h,0,0),this.setDims(u,x),this.#P(),this.width){const[S,y]=this.parentDimensions;this.setAspectRatio(this.width*S,this.height*y),this.setAt(a*S,l*y,this.width*S,this.height*y),this.#i=!0,this.#_(),this.setDims(this.width*S,this.height*y),this.#x(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#T(),this.div}#_(){if(!this.#i)return;const[a,l]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*a),this.canvas.height=Math.ceil(this.height*l),this.#A()}setDimensions(a,l){const b=Math.round(a),h=Math.round(l);if(this.#d===b&&this.#h===h)return;this.#d=b,this.#h=h,this.canvas.style.visibility="hidden";const[u,x]=this.parentDimensions;this.width=a/u,this.height=l/x,this.fixAndSetPosition(),this.#l&&this.#C(a,l),this.#_(),this.#x(),this.canvas.style.visibility="visible",this.fixDims()}#C(a,l){const b=this.#F(),h=(a-b)/this.#t,u=(l-b)/this.#e;this.scaleFactor=Math.min(h,u)}#A(){const a=this.#F()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+a,this.translationY*this.scaleFactor+a)}static#O(a){const l=new Path2D;for(let b=0,h=a.length;b<h;b++){const[u,x,S,y]=a[b];b===0&&l.moveTo(...u),l.bezierCurveTo(x[0],x[1],S[0],S[1],y[0],y[1])}return l}static#N(a,l,b){const[h,u,x,S]=l;switch(b){case 0:for(let y=0,P=a.length;y<P;y+=2)a[y]+=h,a[y+1]=S-a[y+1];break;case 90:for(let y=0,P=a.length;y<P;y+=2){const I=a[y];a[y]=a[y+1]+h,a[y+1]=I+u}break;case 180:for(let y=0,P=a.length;y<P;y+=2)a[y]=x-a[y],a[y+1]+=u;break;case 270:for(let y=0,P=a.length;y<P;y+=2){const I=a[y];a[y]=x-a[y+1],a[y+1]=S-I}break;default:throw new Error("Invalid rotation")}return a}static#B(a,l,b){const[h,u,x,S]=l;switch(b){case 0:for(let y=0,P=a.length;y<P;y+=2)a[y]-=h,a[y+1]=S-a[y+1];break;case 90:for(let y=0,P=a.length;y<P;y+=2){const I=a[y];a[y]=a[y+1]-u,a[y+1]=I-h}break;case 180:for(let y=0,P=a.length;y<P;y+=2)a[y]=x-a[y],a[y+1]-=u;break;case 270:for(let y=0,P=a.length;y<P;y+=2){const I=a[y];a[y]=S-a[y+1],a[y+1]=x-I}break;default:throw new Error("Invalid rotation")}return a}#U(a,l,b,h){const u=[],x=this.thickness/2,S=a*l+x,y=a*b+x;for(const P of this.paths){const I=[],j=[];for(let w=0,R=P.length;w<R;w++){const[V,X,G,ee]=P[w],Q=a*V[0]+S,pe=a*V[1]+y,ce=a*X[0]+S,fe=a*X[1]+y,ge=a*G[0]+S,le=a*G[1]+y,H=a*ee[0]+S,k=a*ee[1]+y;w===0&&(I.push(Q,pe),j.push(Q,pe)),I.push(ce,fe,ge,le,H,k),j.push(ce,fe),w===R-1&&j.push(H,k)}u.push({bezier:O.#N(I,h,this.rotation),points:O.#N(j,h,this.rotation)})}return u}#M(){let a=1/0,l=-1/0,b=1/0,h=-1/0;for(const u of this.paths)for(const[x,S,y,P]of u){const I=o.Util.bezierBoundingBox(...x,...S,...y,...P);a=Math.min(a,I[0]),b=Math.min(b,I[1]),l=Math.max(l,I[2]),h=Math.max(h,I[3])}return[a,b,l,h]}#F(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#w(a=!1){if(this.isEmpty())return;if(!this.#l){this.#x();return}const l=this.#M(),b=this.#F();this.#t=Math.max(f.AnnotationEditor.MIN_SIZE,l[2]-l[0]),this.#e=Math.max(f.AnnotationEditor.MIN_SIZE,l[3]-l[1]);const h=Math.ceil(b+this.#t*this.scaleFactor),u=Math.ceil(b+this.#e*this.scaleFactor),[x,S]=this.parentDimensions;this.width=h/x,this.height=u/S,this.setAspectRatio(h,u);const y=this.translationX,P=this.translationY;this.translationX=-l[0],this.translationY=-l[1],this.#_(),this.#x(),this.#d=h,this.#h=u,this.setDims(h,u);const I=a?b/this.scaleFactor/2:0;this.translate(y-this.translationX-I,P-this.translationY-I)}static deserialize(a,l,b){if(a instanceof D.InkAnnotationElement)return null;const h=super.deserialize(a,l,b);h.thickness=a.thickness,h.color=o.Util.makeHexColor(...a.color),h.opacity=a.opacity;const[u,x]=h.pageDimensions,S=h.width*u,y=h.height*x,P=h.parentScale,I=a.thickness/2;h.#l=!0,h.#d=Math.round(S),h.#h=Math.round(y);const{paths:j,rect:w,rotation:R}=a;for(let{bezier:X}of j){X=O.#B(X,w,R);const G=[];h.paths.push(G);let ee=P*(X[0]-I),Q=P*(X[1]-I);for(let ce=2,fe=X.length;ce<fe;ce+=6){const ge=P*(X[ce]-I),le=P*(X[ce+1]-I),H=P*(X[ce+2]-I),k=P*(X[ce+3]-I),A=P*(X[ce+4]-I),E=P*(X[ce+5]-I);G.push([[ee,Q],[ge,le],[H,k],[A,E]]),ee=A,Q=E}const pe=this.#O(G);h.bezierPath2D.push(pe)}const V=h.#M();return h.#t=Math.max(f.AnnotationEditor.MIN_SIZE,V[2]-V[0]),h.#e=Math.max(f.AnnotationEditor.MIN_SIZE,V[3]-V[1]),h.#C(S,y),h}serialize(){if(this.isEmpty())return null;const a=this.getRect(0,0),l=f.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:l,thickness:this.thickness,opacity:this.opacity,paths:this.#U(this.scaleFactor/this.parentScale,this.translationX,this.translationY,a),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}s.InkEditor=O}),((v,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var o=m(1),f=m(4),D=m(6),F=m(29);class $ extends f.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#o=null;#a=null;#s=null;#l=null;#u=!1;#i=!1;static _type="stamp";constructor(d){super({...d,name:"stampEditor"}),this.#r=d.bitmapUrl,this.#o=d.bitmapFile}static initialize(d){f.AnnotationEditor.initialize(d)}static get supportedTypes(){const d=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",d.map(a=>`image/${a}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(d){return this.supportedTypes.includes(d)}static paste(d,a){a.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:d.getAsFile()})}#f(d,a=!1){if(!d){this.remove();return}this.#e=d.bitmap,a||(this.#t=d.id,this.#u=d.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(a=>this.#f(a,!0)).finally(()=>this.#d());return}if(this.#r){const a=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(a).then(l=>this.#f(l)).finally(()=>this.#d());return}if(this.#o){const a=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(a).then(l=>this.#f(l)).finally(()=>this.#d());return}const d=document.createElement("input");d.type="file",d.accept=$.supportedTypesStr,this.#n=new Promise(a=>{d.addEventListener("change",async()=>{if(!d.files||d.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(d.files[0]);this.#f(l)}a()}),d.addEventListener("cancel",()=>{this.remove(),a()})}).finally(()=>this.#d()),d.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let d,a;if(this.width&&(d=this.x,a=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[l,b]=this.parentDimensions;this.setAt(d*l,a*b,this.width*l,this.height*b)}return this.div}#p(){const{div:d}=this;let{width:a,height:l}=this.#e;const[b,h]=this.pageDimensions,u=.75;if(this.width)a=this.width*b,l=this.height*h;else if(a>u*b||l>u*h){const P=Math.min(u*b/a,u*h/l);a*=P,l*=P}const[x,S]=this.parentDimensions;this.setDims(a*x/b,l*S/h),this._uiManager.enableWaiting(!1);const y=this.#a=document.createElement("canvas");d.append(y),d.hidden=!1,this.#m(a,l),this.#v(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#y(d,a){const[l,b]=this.parentDimensions;this.width=d/l,this.height=a/b,this.setDims(d,a),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const h=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(d,a)},h)}#g(d,a){const{width:l,height:b}=this.#e;let h=l,u=b,x=this.#e;for(;h>2*d||u>2*a;){const S=h,y=u;h>2*d&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2)),u>2*a&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const P=new OffscreenCanvas(h,u);P.getContext("2d").drawImage(x,0,0,S,y,0,0,h,u),x=P.transferToImageBitmap()}return x}#m(d,a){d=Math.ceil(d),a=Math.ceil(a);const l=this.#a;if(!l||l.width===d&&l.height===a)return;l.width=d,l.height=a;const b=this.#u?this.#e:this.#g(d,a),h=l.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(b,0,0,b.width,b.height,0,0,d,a)}#c(d){if(d){if(this.#u){const b=this._uiManager.imageManager.getSvgUrl(this.#t);if(b)return b}const a=document.createElement("canvas");return{width:a.width,height:a.height}=this.#e,a.getContext("2d").drawImage(this.#e,0,0),a.toDataURL()}if(this.#u){const[a,l]=this.pageDimensions,b=Math.round(this.width*a*D.PixelsPerInch.PDF_TO_CSS_UNITS),h=Math.round(this.height*l*D.PixelsPerInch.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(b,h);return u.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,b,h),u.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#s=new ResizeObserver(d=>{const a=d[0].contentRect;a.width&&a.height&&this.#y(a.width,a.height)}),this.#s.observe(this.div)}static deserialize(d,a,l){if(d instanceof F.StampAnnotationElement)return null;const b=super.deserialize(d,a,l),{rect:h,bitmapUrl:u,bitmapId:x,isSvg:S,accessibilityData:y}=d;x&&l.imageManager.isValidId(x)?b.#t=x:b.#r=u,b.#u=S;const[P,I]=b.pageDimensions;return b.width=(h[2]-h[0])/P,b.height=(h[3]-h[1])/I,y&&(b.altTextData=y),b}serialize(d=!1,a=null){if(this.isEmpty())return null;const l={annotationType:o.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(d)return l.bitmapUrl=this.#c(!0),l.accessibilityData=this.altTextData,l;const{decorative:b,altText:h}=this.altTextData;if(!b&&h&&(l.accessibilityData={type:"Figure",alt:h}),a===null)return l;a.stamps||=new Map;const u=this.#u?(l.rect[2]-l.rect[0])*(l.rect[3]-l.rect[1]):null;if(!a.stamps.has(this.#t))a.stamps.set(this.#t,{area:u,serialized:l}),l.bitmap=this.#c(!1);else if(this.#u){const x=a.stamps.get(this.#t);u>x.area&&(x.area=u,x.serialized.bitmap.close(),x.serialized.bitmap=this.#c(!1))}return l}}s.StampEditor=$})],__webpack_module_cache__={};function __w_pdfjs_require__(v){var s=__webpack_module_cache__[v];if(s!==void 0)return s.exports;var m=__webpack_module_cache__[v]={exports:{}};return __webpack_modules__[v](m,m.exports,__w_pdfjs_require__),m.exports}var __webpack_exports__={};return(()=>{var v=__webpack_exports__;Object.defineProperty(v,"__esModule",{value:!0}),Object.defineProperty(v,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(v,"AnnotationEditorLayer",{enumerable:!0,get:function(){return D.AnnotationEditorLayer}}),Object.defineProperty(v,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(v,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(v,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return F.AnnotationEditorUIManager}}),Object.defineProperty(v,"AnnotationLayer",{enumerable:!0,get:function(){return $.AnnotationLayer}}),Object.defineProperty(v,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(v,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(v,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(v,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(v,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(v,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(v,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(v,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(v,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(v,"PDFDataRangeTransport",{enumerable:!0,get:function(){return m.PDFDataRangeTransport}}),Object.defineProperty(v,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(v,"PDFWorker",{enumerable:!0,get:function(){return m.PDFWorker}}),Object.defineProperty(v,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(v,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(v,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(v,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(v,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(v,"SVGGraphics",{enumerable:!0,get:function(){return m.SVGGraphics}}),Object.defineProperty(v,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(v,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(v,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(v,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(v,"build",{enumerable:!0,get:function(){return m.build}}),Object.defineProperty(v,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(v,"getDocument",{enumerable:!0,get:function(){return m.getDocument}}),Object.defineProperty(v,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(v,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(v,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(v,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(v,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(v,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(v,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(v,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(v,"renderTextLayer",{enumerable:!0,get:function(){return f.renderTextLayer}}),Object.defineProperty(v,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(v,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(v,"updateTextLayer",{enumerable:!0,get:function(){return f.updateTextLayer}}),Object.defineProperty(v,"version",{enumerable:!0,get:function(){return m.version}});var s=__w_pdfjs_require__(1),m=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),f=__w_pdfjs_require__(26),D=__w_pdfjs_require__(27),F=__w_pdfjs_require__(5),$=__w_pdfjs_require__(29),O=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1)),pdf$1.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdfjs=pdf;var __spreadArray=function(v,s,m){if(m||arguments.length===2)for(var o=0,f=s.length,D;o<f;o++)(D||!(o in s))&&(D||(D=Array.prototype.slice.call(s,0,o)),D[o]=s[o]);return v.concat(D||Array.prototype.slice.call(s))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(v,s){var m={};return allEvents.forEach(function(o){var f=v[o];f&&(s?m[o]=(function(D){return f(D,s(o))}):m[o]=f)}),m}function makeCancellablePromise(v){var s=!1,m=new Promise(function(o,f){v.then(function(D){return!s&&o(D)}).catch(function(D){return!s&&f(D)})});return{promise:m,cancel:function(){s=!0}}}function r(v){var s,m,o="";if(typeof v=="string"||typeof v=="number")o+=v;else if(typeof v=="object")if(Array.isArray(v)){var f=v.length;for(s=0;s<f;s++)v[s]&&(m=r(v[s]))&&(o&&(o+=" "),o+=m)}else for(m in v)v[m]&&(o&&(o+=" "),o+=m);return o}function clsx(){for(var v,s,m=0,o="",f=arguments.length;m<f;m++)(v=arguments[m])&&(s=r(v))&&(o&&(o+=" "),o+=s);return o}var prefix="Invariant failed";function invariant(v,s){if(!v)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var v=function(){};return warning_1=v,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports);var has=Object.prototype.hasOwnProperty;function find(v,s,m){for(m of v.keys())if(dequal(m,s))return m}function dequal(v,s){var m,o,f;if(v===s)return!0;if(v&&s&&(m=v.constructor)===s.constructor){if(m===Date)return v.getTime()===s.getTime();if(m===RegExp)return v.toString()===s.toString();if(m===Array){if((o=v.length)===s.length)for(;o--&&dequal(v[o],s[o]););return o===-1}if(m===Set){if(v.size!==s.size)return!1;for(o of v)if(f=o,f&&typeof f=="object"&&(f=find(s,f),!f)||!s.has(f))return!1;return!0}if(m===Map){if(v.size!==s.size)return!1;for(o of v)if(f=o[0],f&&typeof f=="object"&&(f=find(s,f),!f)||!dequal(o[1],s.get(f)))return!1;return!0}if(m===ArrayBuffer)v=new Uint8Array(v),s=new Uint8Array(s);else if(m===DataView){if((o=v.byteLength)===s.byteLength)for(;o--&&v.getInt8(o)===s.getInt8(o););return o===-1}if(ArrayBuffer.isView(v)){if((o=v.byteLength)===s.byteLength)for(;o--&&v[o]===s[o];);return o===-1}if(!m||typeof v=="object"){o=0;for(m in v)if(has.call(v,m)&&++o&&!has.call(s,m)||!(m in s)||!dequal(v[m],s[m]))return!1;return Object.keys(s).length===o}}return v!==v&&s!==s}const DocumentContext=reactExports.createContext(null);function Message({children:v,type:s}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${s}`,children:v})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(s){this.pdfDocument=s}setViewer(s){this.pdfViewer=s}setExternalLinkRel(s){this.externalLinkRel=s}setExternalLinkTarget(s){this.externalLinkTarget=s}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(s){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=s}get rotation(){return 0}set rotation(s){}goToDestination(s){return new Promise(m=>{invariant(this.pdfDocument),invariant(s),typeof s=="string"?this.pdfDocument.getDestination(s).then(m):Array.isArray(s)?m(s):s.then(m)}).then(m=>{invariant(Array.isArray(m));const o=m[0];new Promise(f=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(D=>{f(D)}).catch(()=>{invariant(!1)}):typeof o=="number"?f(o):invariant(!1)}).then(f=>{const D=f+1;invariant(this.pdfViewer),invariant(D>=1&&D<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:m,pageIndex:f,pageNumber:D})})})}navigateTo(s){this.goToDestination(s)}goToPage(s){const m=s-1;invariant(this.pdfViewer),invariant(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:m,pageNumber:s})}addLinkAttributes(s,m,o){s.href=m,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(v){return typeof v<"u"}function isProvided(v){return isDefined(v)&&v!==null}function isString(v){return typeof v=="string"}function isArrayBuffer(v){return v instanceof ArrayBuffer}function isBlob(v){return invariant(isBrowser),v instanceof Blob}function isDataURI(v){return isString(v)&&/^data:/.test(v)}function dataURItoByteString(v){invariant(isDataURI(v));const[s="",m=""]=v.split(",");return s.split(";").indexOf("base64")!==-1?atob(m):unescape(m)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(v){v&&v.cancel&&v.cancel()}function makePageCallback(v,s){return Object.defineProperty(v,"width",{get(){return this.view[2]*s},configurable:!0}),Object.defineProperty(v,"height",{get(){return this.view[3]*s},configurable:!0}),Object.defineProperty(v,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(v,"originalHeight",{get(){return this.view[3]},configurable:!0}),v}function isCancelException(v){return v.name==="RenderingCancelledException"}function loadFromFile(v){return new Promise((s,m)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return m(new Error("Error while reading a file."));s(o.result)},o.onerror=f=>{if(!f.target)return m(new Error("Error while reading a file."));const{error:D}=f.target;if(!D)return m(new Error("Error while reading a file."));switch(D.code){case D.NOT_FOUND_ERR:return m(new Error("Error while reading a file: File not found."));case D.SECURITY_ERR:return m(new Error("Error while reading a file: Security error."));case D.ABORT_ERR:return m(new Error("Error while reading a file: Aborted."));default:return m(new Error("Error while reading a file."))}},o.readAsArrayBuffer(v)})}function reducer(v,s){switch(s.type){case"RESOLVE":return{value:s.value,error:void 0};case"REJECT":return{value:!1,error:s.error};case"RESET":return{value:void 0,error:void 0};default:return v}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __awaiter=function(v,s,m,o){function f(D){return D instanceof m?D:new m(function(F){F(D)})}return new(m||(m=Promise))(function(D,F){function $(a){try{d(o.next(a))}catch(l){F(l)}}function O(a){try{d(o.throw(a))}catch(l){F(l)}}function d(a){a.done?D(a.value):f(a.value).then($,O)}d((o=o.apply(v,s||[])).next())})},__rest$1=function(v,s){var m={};for(var o in v)Object.prototype.hasOwnProperty.call(v,o)&&s.indexOf(o)<0&&(m[o]=v[o]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(v);f<o.length;f++)s.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(v,o[f])&&(m[o[f]]=v[o[f]]);return m};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(v,s)=>{switch(s){case PasswordResponses.NEED_PASSWORD:{const m=prompt("Enter the password to open this PDF file.");v(m);break}case PasswordResponses.INCORRECT_PASSWORD:{const m=prompt("Invalid password. Please try again.");v(m);break}}};function isParameterObject(v){return typeof v=="object"&&v!==null&&("data"in v||"range"in v||"url"in v)}const Document=reactExports.forwardRef(function v(s,m){var{children:o,className:f,error:D="Failed to load PDF file.",externalLinkRel:F,externalLinkTarget:$,file:O,inputRef:d,imageResourcesPath:a,loading:l="Loading PDF…",noData:b="No PDF file specified.",onItemClick:h,onLoadError:u,onLoadProgress:x,onLoadSuccess:S,onPassword:y=defaultOnPassword,onSourceError:P,onSourceSuccess:I,options:j,renderMode:w,rotate:R}=s,V=__rest$1(s,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[X,G]=useResolver(),{value:ee,error:Q}=X,[pe,ce]=useResolver(),{value:fe,error:ge}=pe,le=reactExports.useRef(new LinkService),H=reactExports.useRef([]),k=reactExports.useRef(void 0),A=reactExports.useRef(void 0);O&&O!==k.current&&isParameterObject(O)&&(warning(!dequal(O,k.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),k.current=O),j&&j!==A.current&&(warning(!dequal(j,A.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),A.current=j);const E=reactExports.useRef({scrollPageIntoView:se=>{const{dest:de,pageNumber:he,pageIndex:me=he-1}=se;if(h){h({dest:de,pageIndex:me,pageNumber:he});return}const Se=H.current[me];if(Se){Se.scrollIntoView();return}warning(!1,`An internal link leading to page ${he} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(m,()=>({linkService:le,pages:H,viewer:E}),[]);function _(){I&&I()}function L(){Q&&(warning(!1,Q.toString()),P&&P(Q))}function U(){G({type:"RESET"})}reactExports.useEffect(U,[O,G]);const W=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!O)return null;if(typeof O=="string")return isDataURI(O)?{data:dataURItoByteString(O)}:(displayCORSWarning(),{url:O});if(O instanceof PDFDataRangeTransport)return{range:O};if(isArrayBuffer(O))return{data:O};if(isBrowser&&isBlob(O))return{data:yield loadFromFile(O)};if(invariant(typeof O=="object"),invariant(isParameterObject(O)),"url"in O&&typeof O.url=="string"){if(isDataURI(O.url)){const{url:se}=O,de=__rest$1(O,["url"]),he=dataURItoByteString(se);return Object.assign({data:he},de)}displayCORSWarning()}return O}),[O]);reactExports.useEffect(()=>{const se=makeCancellablePromise(W());return se.promise.then(de=>{G({type:"RESOLVE",value:de})}).catch(de=>{G({type:"REJECT",error:de})}),()=>{cancelRunningTask(se)}},[W,G]),reactExports.useEffect(()=>{if(!(typeof ee>"u")){if(ee===!1){L();return}_()}},[ee]);function N(){fe&&(S&&S(fe),H.current=new Array(fe.numPages),le.current.setDocument(fe))}function g(){ge&&(warning(!1,ge.toString()),u&&u(ge))}function C(){ce({type:"RESET"})}reactExports.useEffect(C,[ce,ee]);function T(){if(!ee)return;const se=Object.assign(Object.assign({},j),{isEvalSupported:!1}),de=Object.assign(Object.assign({},ee),se),he=pdfjs.getDocument(de);x&&(he.onProgress=x),y&&(he.onPassword=y);const me=he;return me.promise.then(Se=>{ce({type:"RESOLVE",value:Se})}).catch(Se=>{me.destroyed||ce({type:"REJECT",error:Se})}),()=>{me.destroy()}}reactExports.useEffect(T,[j,ce,ee]),reactExports.useEffect(()=>{if(!(typeof fe>"u")){if(fe===!1){g();return}N()}},[fe]);function B(){le.current.setViewer(E.current),le.current.setExternalLinkRel(F),le.current.setExternalLinkTarget($)}reactExports.useEffect(B,[F,$]);function z(se,de){H.current[se]=de}function Y(se){delete H.current[se]}const K=reactExports.useMemo(()=>({imageResourcesPath:a,linkService:le.current,onItemClick:h,pdf:fe,registerPage:z,renderMode:w,rotate:R,unregisterPage:Y}),[a,h,fe,w,R]),ne=reactExports.useMemo(()=>makeEventProps(V,()=>fe),[V,fe]);function _e(){return jsxRuntimeExports.jsx(DocumentContext.Provider,{value:K,children:o})}function ae(){return O?fe==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof l=="function"?l():l}):fe===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof D=="function"?D():D}):_e():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof b=="function"?b():b})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",f),ref:d,style:{"--scale-factor":"1"}},ne,{children:ae()}))});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var v=[],s=0;s<arguments.length;s++)v[s]=arguments[s];var m=v.filter(Boolean);if(m.length<=1){var o=m[0];return o||null}return function(D){m.forEach(function(F){typeof F=="function"?F(D):F&&(F.current=D)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(v){return v in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(v){return"children"in v}function isStructTreeNodeWithOnlyContentChild(v){return isStructTreeNode(v)?v.children.length===1&&0 in v.children&&"id"in v.children[0]:!1}function getRoleAttributes(v){const s={};if(isStructTreeNode(v)){const{role:m}=v,o=m.match(HEADING_PATTERN);if(o)s.role="heading",s["aria-level"]=Number(o[1]);else if(isPdfRole(m)){const f=PDF_ROLE_TO_HTML_ROLE[m];f&&(s.role=f)}}return s}function getBaseAttributes(v){const s={};if(isStructTreeNode(v)){if(v.alt!==void 0&&(s["aria-label"]=v.alt),v.lang!==void 0&&(s.lang=v.lang),isStructTreeNodeWithOnlyContentChild(v)){const[m]=v.children;if(m){const o=getBaseAttributes(m);return Object.assign(Object.assign({},s),o)}}}else"id"in v&&(s["aria-owns"]=v.id);return s}function getAttributes(v){return v?Object.assign(Object.assign({},getRoleAttributes(v)),getBaseAttributes(v)):null}function StructTreeItem({className:v,node:s}){const m=reactExports.useMemo(()=>getAttributes(s),[s]),o=reactExports.useMemo(()=>!isStructTreeNode(s)||isStructTreeNodeWithOnlyContentChild(s)?null:s.children.map((f,D)=>jsxRuntimeExports.jsx(StructTreeItem,{node:f},D)),[s]);return jsxRuntimeExports.jsx("span",Object.assign({className:v},m,{children:o}))}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const v=usePageContext();invariant(v);const{onGetStructTreeError:s,onGetStructTreeSuccess:m}=v,[o,f]=useResolver(),{value:D,error:F}=o,{customTextRenderer:$,page:O}=v;function d(){D&&m&&m(D)}function a(){F&&(warning(!1,F.toString()),s&&s(F))}function l(){f({type:"RESET"})}reactExports.useEffect(l,[f,O]);function b(){if($||!O)return;const h=makeCancellablePromise(O.getStructTree()),u=h;return h.promise.then(x=>{f({type:"RESOLVE",value:x})}).catch(x=>{f({type:"REJECT",error:x})}),()=>cancelRunningTask(u)}return reactExports.useEffect(b,[$,O,f]),reactExports.useEffect(()=>{if(D!==void 0){if(D===!1){a();return}d()}},[D]),D?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:D}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(v){const s=usePageContext();invariant(s);const m=Object.assign(Object.assign({},s),v),{_className:o,canvasBackground:f,devicePixelRatio:D=getDevicePixelRatio(),onRenderError:F,onRenderSuccess:$,page:O,renderForms:d,renderTextLayer:a,rotate:l,scale:b}=m,{canvasRef:h}=v;invariant(O);const u=reactExports.useRef(null);function x(){O&&$&&$(makePageCallback(O,b))}function S(w){isCancelException(w)||(warning(!1,w.toString()),F&&F(w))}const y=reactExports.useMemo(()=>O.getViewport({scale:b*D,rotation:l}),[D,O,l,b]),P=reactExports.useMemo(()=>O.getViewport({scale:b,rotation:l}),[O,l,b]);function I(){if(!O)return;O.cleanup();const{current:w}=u;if(!w)return;w.width=y.width,w.height=y.height,w.style.width=`${Math.floor(P.width)}px`,w.style.height=`${Math.floor(P.height)}px`,w.style.visibility="hidden";const R={annotationMode:d?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:w.getContext("2d",{alpha:!1}),viewport:y};f&&(R.background=f);const V=O.render(R),X=V;return V.promise.then(()=>{w.style.visibility="",x()}).catch(S),()=>cancelRunningTask(X)}reactExports.useEffect(I,[f,u,D,O,d,y,P]);const j=reactExports.useCallback(()=>{const{current:w}=u;w&&(w.width=0,w.height=0)},[u]);return reactExports.useEffect(()=>j,[j]),jsxRuntimeExports.jsx("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(h,u),style:{display:"block",userSelect:"none"},children:a?jsxRuntimeExports.jsx(StructTree,{}):null})}function PageSVG(){const v=usePageContext();invariant(v);const{_className:s,onRenderSuccess:m,onRenderError:o,page:f,rotate:D,scale:F}=v;invariant(f);const[$,O]=useResolver(),{value:d,error:a}=$;function l(){f&&m&&m(makePageCallback(f,F))}function b(){a&&(isCancelException(a)||(warning(!1,a.toString()),o&&o(a)))}const h=reactExports.useMemo(()=>f.getViewport({scale:F,rotation:D}),[f,D,F]);function u(){O({type:"RESET"})}reactExports.useEffect(u,[f,O,h]);function x(){if(!f)return;const I=makeCancellablePromise(f.getOperatorList());return I.promise.then(j=>{new pdfjs.SVGGraphics(f.commonObjs,f.objs).getSVG(j,h).then(R=>{if(!(R instanceof SVGElement))throw new Error("getSVG returned unexpected result.");O({type:"RESOLVE",value:R})}).catch(R=>{O({type:"REJECT",error:R})})}).catch(j=>{O({type:"REJECT",error:j})}),()=>cancelRunningTask(I)}reactExports.useEffect(x,[f,O,h]),reactExports.useEffect(()=>{if(d!==void 0){if(d===!1){b();return}l()}},[d]);function S(I){if(!I||!d)return;I.firstElementChild||I.appendChild(d);const{width:j,height:w}=h;d.setAttribute("width",`${j}`),d.setAttribute("height",`${w}`)}const{width:y,height:P}=h;return jsxRuntimeExports.jsx("div",{className:`${s}__svg`,ref:I=>S(I),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:y,height:P,userSelect:"none"}})}function isTextItem(v){return"str"in v}function TextLayer(){const v=usePageContext();invariant(v);const{customTextRenderer:s,onGetTextError:m,onGetTextSuccess:o,onRenderTextLayerError:f,onRenderTextLayerSuccess:D,page:F,pageIndex:$,pageNumber:O,rotate:d,scale:a}=v;invariant(F);const[l,b]=useResolver(),{value:h,error:u}=l,x=reactExports.useRef(null),S=reactExports.useRef(void 0);warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function y(){h&&o&&o(h)}function P(){u&&(warning(!1,u.toString()),m&&m(u))}function I(){b({type:"RESET"})}reactExports.useEffect(I,[F,b]);function j(){if(!F)return;const Q=makeCancellablePromise(F.getTextContent()),pe=Q;return Q.promise.then(ce=>{b({type:"RESOLVE",value:ce})}).catch(ce=>{b({type:"REJECT",error:ce})}),()=>cancelRunningTask(pe)}reactExports.useEffect(j,[F,b]),reactExports.useEffect(()=>{if(h!==void 0){if(h===!1){P();return}y()}},[h]);const w=reactExports.useCallback(()=>{D&&D()},[D]),R=reactExports.useCallback(Q=>{warning(!1,Q.toString()),f&&f(Q)},[f]);function V(){const Q=S.current;Q&&Q.classList.add("active")}function X(){const Q=S.current;Q&&Q.classList.remove("active")}const G=reactExports.useMemo(()=>F.getViewport({scale:a,rotation:d}),[F,d,a]);function ee(){if(!F||!h)return;const{current:Q}=x;if(!Q)return;Q.innerHTML="";const pe=F.streamTextContent({includeMarkedContent:!0}),ce={container:Q,textContentSource:pe,viewport:G},fe=pdfjs.renderTextLayer(ce),ge=fe;return fe.promise.then(()=>{const le=document.createElement("div");le.className="endOfContent",Q.append(le),S.current=le;const H=Q.querySelectorAll('[role="presentation"]');if(s){let k=0;h.items.forEach((A,E)=>{if(!isTextItem(A))return;const _=H[k];if(!_)return;const L=s(Object.assign({pageIndex:$,pageNumber:O,itemIndex:E},A));_.innerHTML=L,k+=A.str&&A.hasEOL?2:1})}w()}).catch(R),()=>cancelRunningTask(ge)}return reactExports.useLayoutEffect(ee,[s,R,w,F,$,O,h,G]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:X,onMouseDown:V,ref:x})}function AnnotationLayer(){const v=useDocumentContext(),s=usePageContext();invariant(s);const m=Object.assign(Object.assign({},v),s),{imageResourcesPath:o,linkService:f,onGetAnnotationsError:D,onGetAnnotationsSuccess:F,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:O,page:d,pdf:a,renderForms:l,rotate:b,scale:h=1}=m;invariant(a),invariant(d),invariant(f);const[u,x]=useResolver(),{value:S,error:y}=u,P=reactExports.useRef(null);warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function I(){S&&F&&F(S)}function j(){y&&(warning(!1,y.toString()),D&&D(y))}function w(){x({type:"RESET"})}reactExports.useEffect(w,[x,d]);function R(){if(!d)return;const Q=makeCancellablePromise(d.getAnnotations()),pe=Q;return Q.promise.then(ce=>{x({type:"RESOLVE",value:ce})}).catch(ce=>{x({type:"REJECT",error:ce})}),()=>{cancelRunningTask(pe)}}reactExports.useEffect(R,[x,d,l]),reactExports.useEffect(()=>{if(S!==void 0){if(S===!1){j();return}I()}},[S]);function V(){O&&O()}function X(Q){warning(!1,`${Q}`),$&&$(Q)}const G=reactExports.useMemo(()=>d.getViewport({scale:h,rotation:b}),[d,b,h]);function ee(){if(!a||!d||!f||!S)return;const{current:Q}=P;if(!Q)return;const pe=G.clone({dontFlip:!0}),ce={accessibilityManager:null,annotationCanvasMap:null,div:Q,l10n:null,page:d,viewport:pe},fe={annotations:S,annotationStorage:a.annotationStorage,div:Q,downloadManager:null,imageResourcesPath:o,linkService:f,page:d,renderForms:l,viewport:pe};Q.innerHTML="";try{new pdfjs.AnnotationLayer(ce).render(fe),V()}catch(ge){X(ge)}return()=>{}}return reactExports.useEffect(ee,[S,o,f,d,l,G]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:P})}var __rest=function(v,s){var m={};for(var o in v)Object.prototype.hasOwnProperty.call(v,o)&&s.indexOf(o)<0&&(m[o]=v[o]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(v);f<o.length;f++)s.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(v,o[f])&&(m[o[f]]=v[o[f]]);return m};const defaultScale=1;function Page(v){const s=useDocumentContext(),m=Object.assign(Object.assign({},s),v),{_className:o="react-pdf__Page",_enableRegisterUnregisterPage:f=!0,canvasBackground:D,canvasRef:F,children:$,className:O,customRenderer:d,customTextRenderer:a,devicePixelRatio:l,error:b="Failed to load the page.",height:h,inputRef:u,loading:x="Loading page…",noData:S="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:P,onGetStructTreeError:I,onGetStructTreeSuccess:j,onGetTextError:w,onGetTextSuccess:R,onLoadError:V,onLoadSuccess:X,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:ee,onRenderError:Q,onRenderSuccess:pe,onRenderTextLayerError:ce,onRenderTextLayerSuccess:fe,pageIndex:ge,pageNumber:le,pdf:H,registerPage:k,renderAnnotationLayer:A=!0,renderForms:E=!1,renderMode:_="canvas",renderTextLayer:L=!0,rotate:U,scale:W=defaultScale,unregisterPage:N,width:g}=m,C=__rest(m,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[T,B]=useResolver(),{value:z,error:Y}=T,K=reactExports.useRef(null);invariant(H);const ne=isProvided(le)?le-1:ge??null,_e=le??(isProvided(ge)?ge+1:null),ae=U??(z?z.rotate:null),se=reactExports.useMemo(()=>{if(!z)return null;let pt=1;const Ln=W??defaultScale;if(g||h){const Bt=z.getViewport({scale:1,rotation:ae});g?pt=g/Bt.width:h&&(pt=h/Bt.height)}return Ln*pt},[h,z,ae,W,g]);function de(){return()=>{isProvided(ne)&&f&&N&&N(ne)}}reactExports.useEffect(de,[f,H,ne,N]);function he(){if(X){if(!z||!se)return;X(makePageCallback(z,se))}if(f&&k){if(!isProvided(ne)||!K.current)return;k(ne,K.current)}}function me(){Y&&(warning(!1,Y.toString()),V&&V(Y))}function Se(){B({type:"RESET"})}reactExports.useEffect(Se,[B,H,ne]);function ke(){if(!H||!_e)return;const pt=makeCancellablePromise(H.getPage(_e)),Ln=pt;return pt.promise.then(Bt=>{B({type:"RESOLVE",value:Bt})}).catch(Bt=>{B({type:"REJECT",error:Bt})}),()=>cancelRunningTask(Ln)}reactExports.useEffect(ke,[B,H,ne,_e,k]),reactExports.useEffect(()=>{if(z!==void 0){if(z===!1){me();return}he()}},[z,se]);const Me=reactExports.useMemo(()=>z&&isProvided(ne)&&_e&&isProvided(ae)&&isProvided(se)?{_className:o,canvasBackground:D,customTextRenderer:a,devicePixelRatio:l,onGetAnnotationsError:y,onGetAnnotationsSuccess:P,onGetStructTreeError:I,onGetStructTreeSuccess:j,onGetTextError:w,onGetTextSuccess:R,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:ee,onRenderError:Q,onRenderSuccess:pe,onRenderTextLayerError:ce,onRenderTextLayerSuccess:fe,page:z,pageIndex:ne,pageNumber:_e,renderForms:E,renderTextLayer:L,rotate:ae,scale:se}:null,[o,D,a,l,y,P,I,j,w,R,G,ee,Q,pe,ce,fe,z,ne,_e,E,L,ae,se]),De=reactExports.useMemo(()=>makeEventProps(C,()=>z&&(se?makePageCallback(z,se):void 0)),[C,z,se]),Ie=`${ne}@${se}/${ae}`,Be=`${ne}/${ae}`;function at(){switch(_){case"custom":return invariant(d),jsxRuntimeExports.jsx(d,{},`${Ie}_custom`);case"none":return null;case"svg":return jsxRuntimeExports.jsx(PageSVG,{},`${Be}_svg`);case"canvas":default:return jsxRuntimeExports.jsx(PageCanvas,{canvasRef:F},`${Ie}_canvas`)}}function Ke(){return L?jsxRuntimeExports.jsx(TextLayer,{},`${Ie}_text`):null}function kt(){return A?jsxRuntimeExports.jsx(AnnotationLayer,{},`${Ie}_annotations`):null}function tt(){return jsxRuntimeExports.jsxs(PageContext.Provider,{value:Me,children:[at(),Ke(),kt(),$]})}function ct(){return _e?H===null||z===void 0||z===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof x=="function"?x():x}):H===!1||z===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof b=="function"?b():b}):tt():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof S=="function"?S():S})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx(o,O),"data-page-number":_e,ref:mergeRefs(u,K),style:{"--scale-factor":`${se}`,backgroundColor:D||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},De,{children:ct()}))}displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";function Dropdown({label:v,icon:s,items:m,setActivePage:o,currentPage:f}){const[D,F]=reactExports.useState(!1),$=reactExports.useRef(null);let O=reactExports.useRef(null);const d=()=>{clearTimeout(O.current),F(!0)},a=()=>{O.current=setTimeout(()=>{F(!1)},150)},l=h=>{o(h),F(!1)};reactExports.useEffect(()=>()=>clearTimeout(O.current),[]);const b=m.some(h=>f===h.page||f.startsWith(h.page.split("-")[0]+"-"));return jsxRuntimeExports.jsxs("li",{className:"relative dropdown",ref:$,onMouseEnter:d,onMouseLeave:a,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>F(h=>!h),className:`dropdown-toggle flex items-center py-2 transition-colors duration-300 relative group after:absolute after:bottom-[-2px] after:left-0 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-full ${b?"text-primary dark:text-primary-dark":"text-white hover:text-primary dark:hover:text-primary-dark"} focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary dark:focus-visible:ring-primary-dark rounded-sm`,"aria-haspopup":"true","aria-expanded":D,children:[s&&jsxRuntimeExports.jsx("i",{className:`${s} mr-2`,"aria-hidden":"true"}),v]}),jsxRuntimeExports.jsx("ul",{className:`dropdown-menu absolute left-0 mt-0 pt-2 w-48 bg-black/95 dark:bg-gray-900/95 backdrop-blur-md rounded-md shadow-lg py-2 z-50 transition-all duration-150 ease-out origin-top ${D?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2 pointer-events-none"}`,role:"menu",children:m.map(h=>{const u=f===h.page;return jsxRuntimeExports.jsx("li",{role:"none",children:jsxRuntimeExports.jsx("a",{href:`#${h.page}`,onClick:x=>{x.preventDefault(),l(h.page)},className:`block px-4 py-2 text-sm transition-colors duration-200 ${u?"text-primary dark:text-primary-dark bg-white/10 dark:bg-white/5 border-l-2 border-primary dark:border-primary-dark font-semibold":"text-gray-300 hover:bg-white/10 dark:hover:bg-white/5 hover:text-primary dark:hover:text-primary-dark"}`,role:"menuitem","aria-current":u?"page":void 0,children:h.label})},h.page)})})]})}function Header({setActivePage:v,currentPage:s,isMobileMenuOpen:m,toggleMobileMenu:o,navLinks:f}){const[D,F]=reactExports.useState(!1),[$,O]=reactExports.useState(!0),d=reactExports.useRef(0),a=1024,l=reactExports.useCallback(()=>{const h=window.scrollY,u=window.innerWidth<a;F(h>50),u?h>d.current&&h>80?O(!1):(h<d.current||h<10)&&O(!0):O(!0),d.current=h},[]);reactExports.useEffect(()=>(window.addEventListener("scroll",l,{passive:!0}),l(),()=>window.removeEventListener("scroll",l)),[l]);const b=h=>{v(h)};return Array.isArray(f)?jsxRuntimeExports.jsx("header",{className:`fixed top-0 left-0 w-full z-[999] transition-transform duration-300 ease-in-out ${$?"translate-y-0":"-translate-y-full"}`,children:jsxRuntimeExports.jsxs("nav",{className:`flex items-center justify-between px-4 lg:px-8 bg-black/85 dark:bg-gray-950/85 backdrop-blur-md transition-all duration-300 ease-in-out shadow-md ${D?"py-2":"py-4"}`,children:[jsxRuntimeExports.jsx("a",{href:"#home",onClick:h=>{h.preventDefault(),b("home")},className:"text-xl lg:text-2xl font-extrabold cursor-pointer bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark bg-clip-text text-transparent",children:"ZeroMaths"}),jsxRuntimeExports.jsx("ul",{className:"hidden lg:flex items-center space-x-5 xl:space-x-6 text-sm",children:f.map(h=>h.isDropdown?jsxRuntimeExports.jsx(Dropdown,{label:h.label,icon:h.icon,items:h.items,setActivePage:v,currentPage:s},h.label):jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:h.href,onClick:u=>{h.onClick?h.onClick(u):(u.preventDefault(),b(h.page))},className:`relative flex items-center py-1 px-1 transition-colors duration-300 rounded-md ${s===h.page?"text-primary dark:text-primary-dark font-semibold":"text-white hover:text-primary dark:hover:text-primary-dark hover:bg-white/10"} after:absolute after:bottom-[-2px] after:left-0 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-full`,"aria-current":s===h.page?"page":void 0,children:h.label})},h.page))}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden z-[1001]",children:[" ",jsxRuntimeExports.jsxs("button",{onClick:o,className:`burger p-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary dark:focus-visible:ring-primary-dark rounded ${m?"open":""}`,"aria-label":m?"Fermer le menu":"Ouvrir le menu","aria-expanded":m,"aria-controls":"mobile-menu",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-0.5 bg-white rounded transition-all duration-300 ease-in-out"}),jsxRuntimeExports.jsx("div",{className:"w-6 h-0.5 bg-white rounded my-1.5 transition-all duration-300 ease-in-out"}),jsxRuntimeExports.jsx("div",{className:"w-6 h-0.5 bg-white rounded transition-all duration-300 ease-in-out"})]})]})]})}):(console.error("Header: navLinks prop is not an array!"),null)}function Footer({setActivePage:v}){const s=reactExports.useMemo(()=>[{label:"Accueil",page:"home"},{label:"A propos",page:"about"},{label:"Cours",page:"cours"},{label:"Révisions Brevet",page:"revision-brevet"},{label:"Espace Élève",page:"espace-eleve"},{label:"Espace Parents",page:"espace-parents"},{label:"Blog & Astuces",page:"blog"},{label:"Notre pédagogie",page:"pedagogie"},{label:"Tarifs",page:"tarifs"},{label:"Mentions légales",page:"mentions-legales"}],[]),m=(f,D)=>{f.preventDefault(),v(D)},o="relative after:absolute after:bottom-[-2px] after:left-0 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-full";return jsxRuntimeExports.jsxs("footer",{className:"bg-black text-gray-400 py-12 px-4",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("a",{href:"#home",onClick:f=>m(f,"home"),className:`inline-block text-lg font-bold text-white transition-colors ${o} hover:text-primary-light dark:hover:text-primary-dark-light`,children:"Maths Collège"}),jsxRuntimeExports.jsx("p",{children:"La réussite en maths, accessible à tous les collégiens."}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx("a",{href:"#","aria-label":"Facebook",className:"w-8 h-8 rounded-full bg-gray-800 hover:bg-primary dark:hover:bg-primary-dark-dark text-white flex items-center justify-center transition-colors duration-300",children:jsxRuntimeExports.jsx("i",{className:"fab fa-facebook-f"})}),jsxRuntimeExports.jsx("a",{href:"#","aria-label":"Twitter X",className:"w-8 h-8 rounded-full bg-gray-800 hover:bg-primary dark:hover:bg-primary-dark-dark text-white flex items-center justify-center transition-colors duration-300 font-bold text-lg fa-x-custom"}),jsxRuntimeExports.jsx("a",{href:"#","aria-label":"Instagram",className:"w-8 h-8 rounded-full bg-gray-800 hover:bg-primary dark:hover:bg-primary-dark-dark text-white flex items-center justify-center transition-colors duration-300",children:jsxRuntimeExports.jsx("i",{className:"fab fa-instagram"})}),jsxRuntimeExports.jsx("a",{href:"#","aria-label":"Youtube",className:"w-8 h-8 rounded-full bg-gray-800 hover:bg-primary dark:hover:bg-primary-dark-dark text-white flex items-center justify-center transition-colors duration-300",children:jsxRuntimeExports.jsx("i",{className:"fab fa-youtube"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white border-b-2 border-primary dark:border-primary-dark pb-1 inline-block",children:"Navigation"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:s.slice(0,Math.ceil(s.length/2)).map(f=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:`#${f.page}`,onClick:D=>m(D,f.page),className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${o}`,children:f.label})},f.page))})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("ul",{className:"space-y-2 lg:pt-10",children:[" ",s.slice(Math.ceil(s.length/2)).map(f=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:`#${f.page}`,onClick:D=>m(D,f.page),className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${o}`,children:f.label})},f.page)),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#contact",onClick:f=>m(f,"contact"),className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${o}`,children:"Contact"})})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white border-b-2 border-primary dark:border-primary-dark pb-1 inline-block",children:"Contact"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-envelope mr-2 text-primary-light dark:text-primary-dark-light"})," ",jsxRuntimeExports.jsx("a",{href:"mailto:contact@zeromaths.fr",className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${o}`,children:"contact@zeromaths.fr"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-phone mr-2 text-primary-light dark:text-primary-dark-light"})," ",jsxRuntimeExports.jsx("a",{href:"tel:+33612345678",className:`hover:text-primary-light dark:hover:text-primary-dark-light transition-colors ${o}`,children:"+33 6 12 34 56 78"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-map-marker-alt mr-2 text-primary-light dark:text-primary-dark-light"})," Nice, France"]})," "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-10 pt-6 border-t border-gray-800 text-center text-gray-500 text-xs",children:["© ",new Date().getFullYear()," Zeromaths.fr – Tous droits réservés."]})]})}function DarkModeToggle({isDarkMode:v,toggleDarkMode:s}){return jsxRuntimeExports.jsx("button",{onClick:s,className:"material-icons fixed top-20 left-4 z-50 text-white bg-black bg-opacity-50 p-2 rounded-full cursor-pointer shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white","aria-label":v?"Activer le mode clair":"Activer le mode sombre","aria-pressed":v,children:v?"light_mode":"dark_mode"})}function BackToTopButton(){const[v,s]=reactExports.useState(!1),m=reactExports.useCallback(()=>{s(window.scrollY>300)},[]),o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return reactExports.useEffect(()=>(window.addEventListener("scroll",m,{passive:!0}),m(),()=>window.removeEventListener("scroll",m)),[m]),jsxRuntimeExports.jsx("button",{id:"backToTop",onClick:o,className:`fixed bottom-8 right-8 w-14 h-14 rounded-full bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark text-white text-2xl cursor-pointer border-none flex items-center justify-center shadow-lg transition-all duration-300 ease-in-out z-[999] ${v?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"} hover:translate-y-[-3px] hover:scale-105 hover:shadow-xl focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary dark:focus-visible:ring-primary-dark`,"aria-label":"Remonter en haut de la page",tabIndex:v?0:-1,children:jsxRuntimeExports.jsxs("span",{className:"material-icons text-3xl","aria-hidden":"true",children:[" ","keyboard_arrow_up"]})})}function GlassTitle({title:v,subtitle:s,accentChar:m="´",accentIndex:o=1}){const[f,D]=reactExports.useState(!1),[F,$]=reactExports.useState(!1);reactExports.useEffect(()=>{const a=setTimeout(()=>D(!0),500),l=setTimeout(()=>$(!0),3e3);return()=>{clearTimeout(a),clearTimeout(l)}},[]);const O=v.substring(0,o),d=v.substring(o);return jsxRuntimeExports.jsxs("div",{className:`relative my-16 mx-auto max-w-3xl bg-white/15 dark:bg-black/30 backdrop-blur-xl p-10 md:p-16 rounded-2xl text-center text-gray-800 dark:text-gray-200 shadow-lg border border-white/20 transition-all duration-1000 ease-out ${f?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-8 scale-95"}`,children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-4 inline-block relative",children:jsxRuntimeExports.jsxs("span",{className:"bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark bg-clip-text text-transparent",children:[O,jsxRuntimeExports.jsx("span",{className:`absolute transition-all duration-300 ease-out inline-block text-primary dark:text-primary-dark text-3xl md:text-5xl ${F?"opacity-100 -translate-y-1":"opacity-0 -translate-y-3"}`,style:{left:`${o*1.6}ch`,top:"0.1em"},children:m}),d]})}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl font-light text-gray-600 dark:text-gray-400 m-0",children:s})]})}function HomeBanner({title:v,text:s}){return jsxRuntimeExports.jsxs("section",{className:"text-center my-16 mx-auto max-w-3xl px-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl mb-6 font-bold text-gray-800 dark:text-gray-100",children:v}),jsxRuntimeExports.jsx("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 leading-relaxed",children:s})]})}function CardsSection({items:v,renderCard:s}){return Array.isArray(v)?typeof s!="function"?(console.error("CardsSection: La prop 'renderCard' doit être une fonction.",s),jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:"Erreur: Fonction de rendu de carte manquante."})):jsxRuntimeExports.jsx("section",{className:"my-16 mx-auto max-w-6xl px-4",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:v.map((m,o)=>s(m,o))})}):(console.error("CardsSection: La prop 'items' doit être un tableau.",v),jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:"Erreur: Données invalides pour la section de cartes."}))}function Card({icon:v,title:s,description:m,linkText:o,onClick:f,delay:D=0}){const F=reactExports.useRef(null),[$,O]=reactExports.useState(!1);reactExports.useEffect(()=>{const u=new IntersectionObserver(([S])=>{S.isIntersecting&&(O(!0),u.unobserve(S.target))},{threshold:.1}),x=F.current;return x&&u.observe(x),()=>{x&&u.unobserve(x)}},[]);const d=`bg-[#ebebfa] dark:bg-gray-800/50 rounded-xl p-6 md:p-8 shadow-lg transition-all duration-500 ease-out border border-gray-200 dark:border-gray-700 hover:translate-y-[-5px] hover:shadow-xl relative overflow-hidden group ${f?"cursor-pointer":""} ${$?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,a=u=>{f&&(u.preventDefault(),f())},l=f&&!o?"button":"div",b=l==="button"?a:void 0,h=l==="div"&&o&&f?a:void 0;return jsxRuntimeExports.jsxs(l,{ref:F,className:d,style:{transitionDelay:`${D}s`},onClick:b,role:l==="button"?"button":void 0,tabIndex:f&&!o?0:void 0,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/0 via-primary/0 to-primary/10 dark:from-primary-dark/0 dark:via-primary-dark/0 dark:to-primary-dark/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark transition-all duration-300 group-hover:h-2"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[v&&jsxRuntimeExports.jsx("div",{className:"text-4xl mb-6 text-primary dark:text-primary-dark",children:jsxRuntimeExports.jsx("i",{className:v})}),jsxRuntimeExports.jsxs("h3",{className:"text-xl md:text-2xl font-bold mb-3 text-gray-800 dark:text-gray-100 relative pb-2",children:[s,jsxRuntimeExports.jsx("span",{className:"absolute bottom-0 left-0 w-12 h-0.5 bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-6",children:m}),o&&jsxRuntimeExports.jsxs("a",{href:f?"#":o.startsWith("http")?o:"#",onClick:h,className:"text-primary dark:text-primary-dark font-medium inline-block mt-4 group-hover:underline focus:outline-none focus-visible:ring-2 focus-visible:ring-primary dark:focus-visible:ring-primary-dark rounded px-1",role:f?"button":void 0,tabIndex:f?0:void 0,children:[o," ",jsxRuntimeExports.jsx("i",{className:"fas fa-arrow-right ml-1 text-xs transform transition-transform duration-300 group-hover:translate-x-1"})]})]})]})}function Button({children:v,onClick:s,variant:m="primary",size:o="md",type:f="button",disabled:D=!1,className:F="",...$}){const O="inline-flex items-center justify-center font-semibold border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105";let d="";switch(o){case"sm":d="px-3 py-1.5 text-xs";break;case"lg":d="px-6 py-3 text-base";break;case"md":default:d="px-4 py-2 text-sm";break}let a="";switch(m){case"secondary":a="bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 focus:ring-gray-400";break;case"danger":a="bg-red-600 text-white hover:bg-red-700 focus:ring-red-500";break;case"primary":default:a="text-white bg-gradient-to-r from-primary to-secondary hover:from-primary hover:to-secondary dark:from-primary-dark dark:to-secondary-dark dark:hover:from-primary-dark-dark dark:hover:to-secondary-dark-dark focus:ring-primary dark:focus:ring-primary-dark";break}return jsxRuntimeExports.jsx("button",{type:f,onClick:s,disabled:D,className:`${O} ${d} ${a} ${F}`,...$,children:v})}function ContactForm(){const v=reactExports.useRef(null),[s,m]=reactExports.useState(!1);reactExports.useEffect(()=>{const D=new IntersectionObserver(([$])=>{$.isIntersecting&&(m(!0),D.unobserve($.target))},{threshold:.1}),F=v.current;return F&&D.observe(F),()=>{F&&D.unobserve(F)}},[]);const o=D=>{D.preventDefault(),alert("Formulaire envoyé (simulation) !"),D.target.reset()},f=`bg-gray-900/80 dark:bg-black/60 backdrop-blur-lg p-8 md:p-12 rounded-2xl text-white shadow-2xl border border-white/10 transition-all duration-700 ease-out perspective-[1000px] transform-style-preserve-3d hover:shadow-[0_25px_50px_-12px_rgba(99,102,241,0.4)] dark:hover:shadow-[0_25px_50px_-12px_rgba(251,146,60,0.4)] ${s?"opacity-100 translate-y-0 rotate-x-0":"opacity-0 translate-y-10 rotate-x-[-10deg]"}`;return jsxRuntimeExports.jsx("section",{id:"contact",className:"my-24 mx-auto max-w-xl px-4 perspective-[1000px]",children:jsxRuntimeExports.jsxs("div",{ref:v,className:f,children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-8 text-center bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark bg-clip-text text-transparent",children:"Contact"}),jsxRuntimeExports.jsxs("form",{onSubmit:o,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1 text-gray-300",children:"Nom complet :"}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Votre nom",required:!0,"aria-required":"true",className:"w-full p-3 rounded-lg bg-white/10 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark transition duration-300 placeholder-gray-400"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1 text-gray-300",children:"Adresse e-mail :"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",placeholder:"votre@email.com",required:!0,"aria-required":"true",className:"w-full p-3 rounded-lg bg-white/10 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark transition duration-300 placeholder-gray-400"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"level",className:"block text-sm font-medium mb-1 text-gray-300",children:"Niveau actuel :"}),jsxRuntimeExports.jsxs("select",{id:"level",name:"level",required:!0,"aria-required":"true",className:"w-full p-3 rounded-lg bg-white/10 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark transition duration-300 appearance-none",style:{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24" width="24" height="24"><path d="M7 10l5 5 5-5z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.5em 1.5em"},children:[jsxRuntimeExports.jsx("option",{value:"",className:"text-black",children:"Sélectionnez niveau"}),jsxRuntimeExports.jsx("option",{value:"6eme",className:"text-black",children:"6ème"}),jsxRuntimeExports.jsx("option",{value:"5eme",className:"text-black",children:"5ème"}),jsxRuntimeExports.jsx("option",{value:"4eme",className:"text-black",children:"4ème"}),jsxRuntimeExports.jsx("option",{value:"3eme",className:"text-black",children:"3ème"})]})]}),jsxRuntimeExports.jsxs(Button,{type:"submit",size:"lg",variant:"primary",className:"w-full uppercase tracking-wider",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-rocket mr-2"})," Envoyer"]})]})]})})}function HomePage({setActivePage:v}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GlassTitle,{title:"Zeromaths",subtitle:"La réussite en maths, accessible à tous"}),jsxRuntimeExports.jsx(HomeBanner,{title:"Bienvenue sur Zeromaths",text:"Plateforme innovante pour découvrir et maîtriser les mathématiques de manière ludique et efficace. Notre approche unique transforme l'apprentissage des maths en une expérience engageante et accessible à tous les niveaux du collège."}),jsxRuntimeExports.jsx(CardsSection,{items:[{id:"progressif",icon:"fas fa-chart-line",title:"Apprentissage Progressif",description:"Nos cours sont conçus pour vous faire progresser étape par étape...",linkText:"Découvrir les cours →",page:"cours"},{id:"ludique",icon:"fas fa-gamepad",title:"Approche Ludique",description:"Nous transformons les mathématiques en jeu...",linkText:"Jouer et apprendre →",page:"games-6eme"},{id:"communaute",icon:"fas fa-users",title:"Communauté Active",description:"Rejoignez une communauté dynamique...",linkText:"Nous contacter →",page:"contact"}],renderCard:(s,m)=>jsxRuntimeExports.jsx(Card,{icon:s.icon,title:s.title,description:s.description,linkText:s.linkText,onClick:()=>{if(s.page==="contact"){const o=document.getElementById("contact");o&&o.scrollIntoView({behavior:"smooth"})}else v(s.page)},delay:m*.15},s.id)}),jsxRuntimeExports.jsx(ContactForm,{})]})}function LessonsPage({level:v,chapters:s,setActivePage:m}){return Array.isArray(s)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GlassTitle,{title:`Leçons de ${v}`,subtitle:"Tous les chapitres du programme"}),jsxRuntimeExports.jsx(HomeBanner,{title:`Programme de mathématiques de ${v}`,text:`Découvrez l'ensemble des chapitres du programme de mathématiques de ${v}. Cliquez sur un chapitre pour accéder à la leçon détaillée et à la version PDF.`}),jsxRuntimeExports.jsx(CardsSection,{items:s,renderCard:(o,f)=>jsxRuntimeExports.jsx(Card,{icon:o.icon||"fas fa-book",title:o.title||"Chapitre sans titre",description:o.description||"Contenu du chapitre à venir...",linkText:"Voir le chapitre →",onClick:()=>m(o.link),delay:f*.15},o.id||f)})]}):(console.error(`LessonsPage (${v}): 'chapters' prop is not a valid array.`),jsxRuntimeExports.jsxs("div",{className:"text-center p-10 text-red-500",children:["Erreur : Impossible de charger les chapitres pour le niveau ",v,"."]}))}function PdfViewer({fileUrl:v}){const[s,m]=reactExports.useState(null),[o,f]=reactExports.useState(1),[D,F]=reactExports.useState(null),[$,O]=reactExports.useState(null),d=reactExports.useRef(null);reactExports.useEffect(()=>{f(1),m(null),F(null)},[v]);function a({numPages:x}){m(x)}function l(x){console.error("Erreur chargement PDF:",x),F(`Erreur chargement PDF: ${x.message}. Vérifiez le chemin.`)}function b(){f(x=>Math.max(x-1,1))}function h(){f(x=>Math.min(x+1,s))}const u=({pageNumber:x})=>{console.log("Clic sur item interne PDF, destination page:",x),f(x)};return reactExports.useEffect(()=>{const x=()=>{d.current&&O(d.current.offsetWidth)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),jsxRuntimeExports.jsxs("div",{ref:d,className:"pdf-viewer-container max-w-4xl mx-auto my-8 p-4 bg-white/20 dark:bg-black/30 backdrop-blur-lg rounded-lg shadow-xl border border-white/10",children:[D&&jsxRuntimeExports.jsxs("div",{className:"text-center text-red-600 dark:text-red-400 p-4 bg-red-100 dark:bg-red-900/50 rounded mb-4",children:[jsxRuntimeExports.jsx("p",{children:D}),jsxRuntimeExports.jsxs("p",{children:["Chemin tenté : ",jsxRuntimeExports.jsx("code",{className:"text-sm bg-gray-300 dark:bg-gray-600 px-1 rounded",children:v})]})]}),jsxRuntimeExports.jsx(Document,{file:v,onLoadSuccess:a,onLoadError:l,onItemClick:u,loading:jsxRuntimeExports.jsx("div",{className:"text-center p-4 text-gray-700 dark:text-gray-300",children:"Chargement du PDF..."}),error:jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:"Erreur chargement document."}),className:"flex justify-center pdf-document-wrapper min-h-[70vh]",children:jsxRuntimeExports.jsx(Page,{pageNumber:o,width:$?Math.min($*.95,800):void 0,renderTextLayer:!0,renderAnnotationLayer:!0,loading:jsxRuntimeExports.jsxs("div",{className:"text-center p-2 min-h-[70vh] flex items-center justify-center text-gray-500",children:["Chargement page ",o,"..."]}),className:"pdf-page-wrapper shadow-lg"},`page_${o}`)}),s&&jsxRuntimeExports.jsxs("div",{className:"pagination-controls flex justify-center items-center mt-4 space-x-4",children:[jsxRuntimeExports.jsx("button",{type:"button",disabled:o<=1,onClick:b,className:"px-3 py-1 rounded bg-primary dark:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-dark dark:hover:bg-primary-dark-dark transition-colors shadow-sm",children:"Précédent"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 bg-white/30 dark:bg-black/20 px-3 py-1 rounded-md",children:["Page ",o," sur ",s]}),jsxRuntimeExports.jsx("button",{type:"button",disabled:o>=s,onClick:h,className:"px-3 py-1 rounded bg-primary dark:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-dark dark:hover:bg-primary-dark-dark transition-colors shadow-sm",children:"Suivant"})]})]})}function LessonDetailPage({title:v,subtitle:s,contentHtml:m,pdfPath:o}){const f=`
        /* Styles spécifiques à cette page si nécessaire, sinon vides ou à supprimer */
    `;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[f.trim()&&jsxRuntimeExports.jsx("style",{children:f}),jsxRuntimeExports.jsx(GlassTitle,{title:v,subtitle:s}),jsxRuntimeExports.jsx(MathJax,{dynamic:!0,hideUntilTypeset:"first",children:jsxRuntimeExports.jsx("div",{className:"lesson-content max-w-3xl mx-auto p-6 md:p-8 bg-white dark:bg-gray-800/50 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:m||"<p>Contenu de la leçon non disponible.</p>"}})}),o?jsxRuntimeExports.jsx(PdfViewer,{fileUrl:o}):jsxRuntimeExports.jsx("div",{className:"text-center p-4 mt-4 text-gray-500 dark:text-gray-400 italic",children:"(Version PDF non disponible pour cette leçon)"})]})}function ExerciseCard({exercise:v}){const[s,m]=reactExports.useState(!1),o=()=>m(D=>!D),f=Array.from({length:3},(D,F)=>jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full ml-1 ${F<v.difficulty?"bg-primary dark:bg-primary-dark":"bg-gray-300 dark:bg-gray-600"}`},F));return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-xl p-6 mb-8 shadow-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b-2 border-primary dark:border-primary-dark",children:[" ",jsxRuntimeExports.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 dark:text-gray-100",children:v.title||"Exercice"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"mr-2",children:"Difficulté :"}),f]})]}),jsxRuntimeExports.jsx(MathJax,{dynamic:!0,hideUntilTypeset:"first",children:jsxRuntimeExports.jsx("div",{className:"exercise-content mb-6 text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:v.content||"<p>Énoncé non disponible.</p>"}})}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"inline-flex items-center justify-center px-4 py-2 rounded-md bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark text-white font-semibold text-sm transition-all duration-300 transform hover:scale-105 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-primary-dark","aria-expanded":s,"aria-controls":`solution-${v.id}`,children:[jsxRuntimeExports.jsx("i",{className:`fas ${s?"fa-eye-slash":"fa-eye"} mr-2`,"aria-hidden":"true"}),s?"Masquer la solution":"Voir la solution"]}),jsxRuntimeExports.jsx("div",{id:`solution-${v.id}`,className:`solution-container transition-all duration-500 ease-in-out overflow-hidden ${s?"max-h-[1000px] opacity-100 mt-6":"max-h-0 opacity-0 mt-0"}`,"aria-hidden":!s,children:s&&jsxRuntimeExports.jsx(MathJax,{dynamic:!0,hideUntilTypeset:"first",children:jsxRuntimeExports.jsx("div",{className:"solution-content p-4 bg-blue-50 dark:bg-orange-900/20 border-l-4 border-primary dark:border-primary-dark rounded-r-lg text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:v.solution||"<p>Solution non disponible.</p>"}})})})]})}function ExercisesPage({level:v,chapterTitle:s,exercises:m}){return Array.isArray(m)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GlassTitle,{title:`Exercices de ${v}`,subtitle:s||"Entraînement"}),jsxRuntimeExports.jsx(HomeBanner,{title:`Exercices sur ${s||`le programme de ${v}`}`,text:'Entraînez-vous avec ces exercices interactifs. Cliquez sur "Voir la solution" pour vérifier vos réponses et comprendre la démarche.'}),jsxRuntimeExports.jsx("section",{className:"container mx-auto max-w-3xl px-4 py-8",children:m.length>0?m.map(o=>jsxRuntimeExports.jsx(ExerciseCard,{exercise:o},o.id)):jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Aucun exercice disponible pour cette section pour le moment."})})]}):(console.error(`ExercisesPage (${v}): 'exercises' prop is not a valid array.`),jsxRuntimeExports.jsxs("div",{className:"text-center p-10 text-red-500",children:["Erreur : Impossible de charger les exercices pour le niveau ",v,"."]}))}function GameCard({game:v,onPlay:s}){const m=Array.from({length:3},(f,D)=>jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full mr-1 ${D<v.difficulty?"bg-primary dark:bg-primary-dark":"bg-gray-300 dark:bg-gray-600"}`},D)),o=f=>{f.preventDefault(),v.available?s(v.id):alert("Ce jeu sera bientôt disponible !")};return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 flex flex-col h-full group",children:[jsxRuntimeExports.jsxs("div",{className:"game-image h-48 overflow-hidden relative",children:[jsxRuntimeExports.jsx("img",{src:v.imageUrl,alt:`Illustration pour le jeu ${v.title}`,className:"w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-110",onError:f=>{f.target.onerror=null,f.target.src="https://placehold.co/400x200/e0e0e0/757575?text=Image",f.target.alt="Image indisponible"},loading:"lazy"}),!v.available&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-white text-sm font-semibold bg-gray-700/80 px-3 py-1 rounded",children:"Bientôt !"})})]}),jsxRuntimeExports.jsxs("div",{className:"game-content p-5 flex flex-col flex-grow",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800 dark:text-gray-100",children:v.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 flex-grow",children:v.description}),jsxRuntimeExports.jsxs("div",{className:"game-footer flex justify-between items-center mt-auto",children:[jsxRuntimeExports.jsxs("div",{className:"difficulty flex items-center","aria-label":`Difficulté ${v.difficulty} sur 3`,children:[jsxRuntimeExports.jsx("span",{className:"difficulty-label text-xs text-gray-500 dark:text-gray-400 mr-2","aria-hidden":"true",children:"Difficulté :"}),jsxRuntimeExports.jsx("div",{className:"difficulty-dots flex","aria-hidden":"true",children:m})]}),jsxRuntimeExports.jsxs("button",{onClick:o,disabled:!v.available,className:`play-button inline-flex items-center px-4 py-1.5 rounded-md text-sm font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 ${v.available?"text-white bg-gradient-to-r from-primary to-secondary hover:from-primary-dark hover:to-secondary-dark dark:from-primary-dark dark:to-secondary-dark dark:hover:from-primary-dark-dark dark:hover:to-secondary-dark-dark focus:ring-primary dark:focus:ring-primary-dark":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,"aria-disabled":!v.available,children:[jsxRuntimeExports.jsx("i",{className:"fas fa-play mr-1.5 text-xs","aria-hidden":"true"})," Jouer"]})]})]})]})}function CalculMentalGame({onClose:v}){const[s,m]=reactExports.useState(0),[o,f]=reactExports.useState(0),[D,F]=reactExports.useState(""),[$,O]=reactExports.useState([]),[d,a]=reactExports.useState(0),[l,b]=reactExports.useState(""),[h,u]=reactExports.useState(!1),x=reactExports.useRef(null),S=reactExports.useCallback(I=>{let j=I.length,w;for(;j!==0;)w=Math.floor(Math.random()*j),j--,[I[j],I[w]]=[I[w],I[j]];return I},[]),y=reactExports.useCallback(()=>{u(!1),b("");let I=Math.floor(Math.random()*20)+1,j=Math.floor(Math.random()*20)+1;const w=["+","-","×"],R=w[Math.floor(Math.random()*w.length)];let V,X;switch(R){case"+":V=I+j,X=`${I} + ${j} = ?`;break;case"-":I<j&&([I,j]=[j,I]),V=I-j,X=`${I} - ${j} = ?`;break;case"×":j=Math.floor(Math.random()*10)+1,V=I*j,X=`${I} × ${j} = ?`;break;default:V=0,X="Erreur"}F(X),a(V);const G=[V];for(;G.length<4;){let ee=Math.floor(Math.random()*10)-5;ee===0&&(ee+=Math.random()<.5?-1:1);let Q=V+ee;Q>=0&&!G.includes(Q)&&G.push(Q)}O(S(G))},[S]);reactExports.useEffect(()=>{y(),x.current&&x.current.focus();const I=j=>{j.key==="Escape"&&v()};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[y,v]);const P=I=>{if(h)return;u(!0),f(R=>R+1);const j=I===d;j?(m(R=>R+1),b("Correct !")):b(`Incorrect. La réponse était ${d}.`);const w=document.getElementById("calcul-mental-game-content");if(w){const R=["bg-green-100","dark:bg-green-900/50"],V=["bg-red-100","dark:bg-red-900/50"],X=j?R:V,G=j?V:R;w.classList.add(...X),w.classList.remove(...G),setTimeout(()=>w.classList.remove(...X),500)}setTimeout(y,1200)};return jsxRuntimeExports.jsx("div",{id:"calcul-mental-game-modal",className:"fixed inset-0 bg-black/60 dark:bg-black/80 flex items-center justify-center z-[1001] p-4 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"calcul-mental-title",ref:x,tabIndex:-1,children:jsxRuntimeExports.jsxs("div",{id:"calcul-mental-game-content",className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 md:p-8 w-full max-w-md text-center relative transform transition-all duration-300 scale-100",children:[jsxRuntimeExports.jsx("button",{onClick:v,className:"absolute top-2 right-2 text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 text-3xl leading-none p-1 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 rounded-full","aria-label":"Fermer le jeu",children:"×"}),jsxRuntimeExports.jsx("h2",{id:"calcul-mental-title",className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:"Calcul Mental Express"}),jsxRuntimeExports.jsx("div",{className:"game-question text-4xl font-bold my-8 text-primary dark:text-primary-dark min-h-[3rem] flex items-center justify-center",children:D||"..."}),jsxRuntimeExports.jsxs("div",{className:`text-sm mb-4 min-h-[1.25rem] font-medium ${l.startsWith("Correct")?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[l||" "," "]}),jsxRuntimeExports.jsx("div",{className:"game-options grid grid-cols-2 gap-4 my-8",children:$.map((I,j)=>jsxRuntimeExports.jsx("button",{onClick:()=>P(I),className:"game-option bg-gray-100 dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-lg p-4 text-2xl font-semibold cursor-pointer transition-all duration-300 hover:bg-blue-100 dark:hover:bg-orange-800/50 hover:border-primary dark:hover:border-primary-dark hover:scale-105 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-primary-dark disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100",disabled:h,children:I},j))}),jsxRuntimeExports.jsxs("div",{className:"game-score text-lg mt-6 text-gray-700 dark:text-gray-300",children:["Score : ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:s})," / ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:o})]}),jsxRuntimeExports.jsx("div",{className:"game-controls mt-8",children:jsxRuntimeExports.jsx("button",{onClick:v,className:"close-game px-5 py-2 rounded-md bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-300",children:"Quitter le jeu"})})]})})}function GamesPage({level:v,games:s}){const[m,o]=reactExports.useState(null),f=reactExports.useCallback(F=>{F==="calcul-mental"?o(F):(console.warn(`Tentative de lancement du jeu non implémenté: ${F}`),alert("Ce jeu n'est pas encore disponible."))},[]),D=reactExports.useCallback(()=>{o(null)},[]);return Array.isArray(s)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GlassTitle,{title:"Jeux mathématiques",subtitle:"Apprendre en s'amusant"}),jsxRuntimeExports.jsx(HomeBanner,{title:`Jeux mathématiques pour la ${v}`,text:"Découvrez notre sélection de jeux mathématiques conçus pour rendre l'apprentissage amusant et engageant. Choisissez un jeu ci-dessous et commencez à jouer dès maintenant !"}),jsxRuntimeExports.jsx("section",{className:"game-container max-w-6xl mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"game-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.length>0?s.map(F=>jsxRuntimeExports.jsx(GameCard,{game:F,onPlay:f},F.id)):jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 col-span-full",children:"Aucun jeu disponible pour cette section pour le moment."})})}),m==="calcul-mental"&&jsxRuntimeExports.jsx(CalculMentalGame,{onClose:D})]}):(console.error(`GamesPage (${v}): 'games' prop is not a valid array.`),jsxRuntimeExports.jsxs("div",{className:"text-center p-10 text-red-500",children:["Erreur : Impossible de charger les jeux pour le niveau ",v,"."]}))}function AutomatismeItem({question:v,answer:s,isResetting:m,onClick:o}){const[f,D]=reactExports.useState(!1);reactExports.useEffect(()=>{m&&D(!1)},[m]);const F=()=>{const $=!f;D($),o&&o($)};return jsxRuntimeExports.jsx("button",{onClick:F,className:`automatisme-item bg-white dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-lg p-3 md:p-4 text-center cursor-pointer transition-all duration-300 text-sm md:text-base font-medium hover:scale-105 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary dark:focus:ring-primary-dark ${f?"bg-green-100 dark:bg-green-900/30 border-green-400 dark:border-green-600 text-green-800 dark:text-green-300 font-bold":"text-gray-700 dark:text-gray-300"}`,"aria-pressed":f,children:f?s:v})}function AutomatismeGrid({title:v,description:s,items:m,resetSignal:o}){const f=(D,F)=>{};return Array.isArray(m)?jsxRuntimeExports.jsxs("div",{className:"automatisme-card bg-white dark:bg-gray-800/50 rounded-xl p-6 mb-8 shadow-lg border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"automatisme-title text-lg md:text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 pb-2 border-b-2 border-primary dark:border-primary-dark",children:v}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-5",children:s}),jsxRuntimeExports.jsx("div",{className:"automatisme-grid grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:m.map((D,F)=>jsxRuntimeExports.jsx(AutomatismeItem,{question:D.question,answer:D.answer,isResetting:o,onClick:$=>f()},`${v}-item-${F}-${D.question}`))})]}):(console.error(`AutomatismeGrid (${v}): La prop 'items' doit être un tableau.`),jsxRuntimeExports.jsxs("div",{className:"text-red-500 p-4",children:['Erreur: Données invalides pour la grille "',v,'".']}))}function AutomatismesPage({level:v}){const[s,m]=reactExports.useState(180),[o,f]=reactExports.useState(!1),[D,F]=reactExports.useState(!1),[$,O]=reactExports.useState(!1),d=reactExports.useRef(null),{multiplicationItems:a,calculItems:l,fractionItems:b}=reactExports.useMemo(()=>{const S=Array.from({length:30},()=>{const I=Math.floor(Math.random()*9)+2,j=Math.floor(Math.random()*9)+2;return{question:`${I} × ${j}`,answer:I*j}}),y=Array.from({length:20},()=>{const I=Math.floor(Math.random()*50)+1,j=Math.floor(Math.random()*50)+1,w=Math.random()<.5?"+":"-";return w==="+"&&I+j<=100?{question:`${I} + ${j}`,answer:I+j}:w==="-"&&I>j?{question:`${I} - ${j}`,answer:I-j}:{question:`${I} + ${j%10}`,answer:I+j%10}}),P=[{question:"2/4",answer:"1/2"},{question:"6/8",answer:"3/4"},{question:"5/10",answer:"1/2"},{question:"3/9",answer:"1/3"},{question:"10/15",answer:"2/3"},{question:"8/12",answer:"2/3"},{question:"4/16",answer:"1/4"},{question:"9/12",answer:"3/4"},{question:"6/10",answer:"3/5"},{question:"12/16",answer:"3/4"},{question:"14/21",answer:"2/3"},{question:"15/20",answer:"3/4"},{question:"18/24",answer:"3/4"},{question:"20/25",answer:"4/5"},{question:"7/14",answer:"1/2"},{question:"9/15",answer:"3/5"}];for(let I=P.length-1;I>0;I--){const j=Math.floor(Math.random()*(I+1));[P[I],P[j]]=[P[j],P[I]]}return{multiplicationItems:S,calculItems:y,fractionItems:P}},[]);reactExports.useEffect(()=>(o&&s>0?d.current=setInterval(()=>m(S=>S-1),1e3):s<=0&&(clearInterval(d.current),o&&(f(!1),F(!0))),()=>clearInterval(d.current)),[o,s]);const h=()=>{D||f(!o)},u=()=>{clearInterval(d.current),f(!1),m(180),F(!1),O(!0),setTimeout(()=>O(!1),50)},x=reactExports.useCallback(S=>`${Math.floor(S/60).toString().padStart(2,"0")}:${(S%60).toString().padStart(2,"0")}`,[]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GlassTitle,{title:`Automatismes de ${v}`,subtitle:"Entraînement rapide aux calculs de base"}),jsxRuntimeExports.jsx(HomeBanner,{title:"Entraînement aux automatismes",text:`Lancez le chrono (${x(180)})...`}),jsxRuntimeExports.jsxs("div",{className:"timer-container flex flex-col items-center my-8 sticky top-[70px] md:top-[80px] z-10 py-4 bg-gray-100/80 dark:bg-gray-900/80 backdrop-blur-sm rounded-b-lg shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:`timer text-4xl font-bold p-3 rounded-lg shadow-inner mb-4 ${D?"text-red-500":"text-gray-800 dark:text-gray-100"} bg-white dark:bg-gray-700`,children:D?"Terminé !":x(s)}),jsxRuntimeExports.jsxs("div",{className:"control-buttons flex justify-center gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:h,disabled:D,className:`control-button start-button flex items-center px-6 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 ${D?"bg-gray-400 text-gray-600 cursor-not-allowed":o?"bg-yellow-500 hover:bg-yellow-600 text-white focus:ring-yellow-500":"bg-gradient-to-r from-primary to-secondary dark:from-primary-dark dark:to-secondary-dark text-white hover:shadow-lg focus:ring-primary dark:focus:ring-primary-dark"}`,"aria-live":"polite",children:[jsxRuntimeExports.jsx("i",{className:`fas ${o?"fa-pause":"fa-play"} mr-2`,"aria-hidden":"true"}),o?"Pause":D?"Terminé":"Démarrer"]}),jsxRuntimeExports.jsxs("button",{onClick:u,className:"control-button reset-button flex items-center px-6 py-2 rounded-lg font-semibold bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:[jsxRuntimeExports.jsx("i",{className:"fas fa-redo-alt mr-2","aria-hidden":"true"})," Réinitialiser"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"automatisme-container max-w-4xl mx-auto px-4 pb-8 pt-4",children:[jsxRuntimeExports.jsx(AutomatismeGrid,{title:"Tables de multiplication",description:"Cliquez pour afficher la réponse.",items:a,resetSignal:$}),jsxRuntimeExports.jsx(AutomatismeGrid,{title:"Calcul mental (+/-)",description:"Cliquez pour afficher la réponse.",items:l,resetSignal:$}),jsxRuntimeExports.jsx(AutomatismeGrid,{title:"Fractions simples (Simplification)",description:"Cliquez pour afficher la réponse.",items:b,resetSignal:$})]})]})}function PlaceholderComponent({title:v="Page en Construction"}){return jsxRuntimeExports.jsxs("div",{className:"text-center p-10 min-h-[60vh] flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-800 dark:text-gray-100",children:v}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Contenu bientôt disponible !"}),jsxRuntimeExports.jsxs("div",{className:"text-6xl mt-8 text-gray-300 dark:text-gray-600 animate-pulse",children:[" ",jsxRuntimeExports.jsx("i",{className:"fas fa-tools"})]})]})}const chapters6eme=[{id:"chapitre1",title:"Nombres et calculs",icon:"fas fa-calculator",description:"Découvrez les nombres entiers, les fractions et les nombres décimaux. Apprenez les opérations de base.",link:"lesson-chapitre1",pdfPath:"/lessons/6eme/chapitre1.pdf"},{id:"chapitre2",title:"Géométrie",icon:"fas fa-ruler-combined",description:"Explorez les figures géométriques planes, les angles, les symétries et les constructions.",link:"lesson-chapitre2",pdfPath:null},{id:"chapitre3",title:"Grandeurs et mesures",icon:"fas fa-chart-line",description:"Maîtrisez les différentes unités de mesure, les conversions et les calculs d'aires et de périmètres.",link:"lesson-chapitre3",pdfPath:null},{id:"chapitre4",title:"Organisation et gestion de données",icon:"fas fa-table",description:"Apprenez à lire et interpréter des tableaux, des graphiques et découvrez la proportionnalité.",link:"lesson-chapitre4",pdfPath:null},{id:"chapitre5",title:"Algorithmique et programmation",icon:"fas fa-puzzle-piece",description:"Initiez-vous à la logique algorithmique et aux bases de la programmation visuelle ou textuelle.",link:"lesson-chapitre5",pdfPath:null}],testLessonContent=`
    <h2>Test de Rendu MathJax</h2>
    <p>
        Ceci est un paragraphe de texte normal. Nous allons tester le rendu des formules
        mathématiques en ligne comme $a^2 + b^2 = c^2$ (théorème de Pythagore)
        ou la célèbre formule d'Euler $e^{i\\pi} + 1 = 0$.
    </p>
    <p>
        Nous pouvons aussi avoir des formules affichées en bloc (display mode) :
    </p>
    <div class="formula-box">
        $$ \\int_0^\\infty e^{-x^2} dx = \\frac{\\sqrt{\\pi}}{2} $$
    </div>
    <p>
        Ceci est un autre paragraphe après la formule en bloc. Assurons-nous que
        le texte continue normalement et que les styles sont appliqués.
        Une autre formule inline : $\\sum_{n=1}^{\\infty} \\frac{1}{n^2} = \\frac{\\pi^2}{6}$.
    </p>
    <h3>Sous-section avec Maths</h3>
    <p>
        On peut mélanger texte et formules : L'aire d'un disque est $A = \\pi r^2$,
        et son périmètre est $P = 2 \\pi r$.
    </p>
    <div class="example-box">
        <p>Exemple : Si $r=5$, alors $A = 25\\pi$ et $P = 10\\pi$.</p>
    </div>
    <p>Test d'une formule plus complexe en display :</p>
    $$ f(x) = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(a)}{n!} (x-a)^n $$
    <p>Fin du test.</p>
`,exercises6eme=[{id:1,title:"Exercice 1 : Écriture et lecture",difficulty:1,content:"<p>Écrivez en chiffres : Trois millions deux cent mille cinquante-quatre.</p>",solution:"<p>Solution : 3 200 054</p>"},{id:2,title:"Exercice 2 : Comparaison",difficulty:2,content:"<p>Comparez : 2345 ... 2354</p>",solution:"<p>Solution : 2345 < 2354</p>"},{id:3,title:"Exercice 3 : Fractions égales",difficulty:2,content:"<p>Complétez : $\\frac{3}{4} = \\frac{?}{12}$</p>",solution:"<p>Solution : $\\frac{3 \\times 3}{4 \\times 3} = \\frac{9}{12}$</p>"},{id:4,title:"Exercice 4 : Simplification",difficulty:3,content:"<p>Simplifiez : $\\frac{15}{25}$</p>",solution:"<p>Solution : $\\frac{15 \\div 5}{25 \\div 5} = \\frac{3}{5}$</p>"},{id:5,title:"Exercice 5 : Priorités",difficulty:3,content:"<p>Calculez : $7 + 3 \\times 4$</p>",solution:"<p>Solution : $7 + 12 = 19$</p>"}],games6eme=[{id:"calcul-mental",title:"Calcul Mental Express",description:"Testez votre rapidité en calcul mental avec additions, soustractions et multiplications.",difficulty:1,imageUrl:"https://placehold.co/400x200/8b5cf6/ffffff?text=Calcul+Mental",available:!0},{id:"fractions",title:"Maître des Fractions",description:"Devenez un expert des fractions en jouant à ce jeu de comparaison et de simplification.",difficulty:2,imageUrl:"https://placehold.co/400x200/7c3aed/ffffff?text=Fractions",available:!1},{id:"geometrie",title:"Géométrie en Action",description:"Explorez le monde de la géométrie en identifiant des figures et calculant des périmètres/aires.",difficulty:3,imageUrl:"https://placehold.co/400x200/3b82f6/ffffff?text=Géométrie",available:!1},{id:"problemes",title:"Résolveur de Problèmes",description:"Mettez vos compétences en résolution de problèmes à l'épreuve avec des situations concrètes.",difficulty:2,imageUrl:"https://placehold.co/400x200/60a5fa/ffffff?text=Problèmes",available:!1}];pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;function App(){const[v,s]=reactExports.useState(!1),[m,o]=reactExports.useState("home"),[f,D]=reactExports.useState(!1),[F,$]=reactExports.useState(null),O=reactExports.useCallback(()=>{s(S=>{const y=!S;return y?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","enabled")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","disabled")),y})},[]);reactExports.useEffect(()=>{const S=localStorage.getItem("darkMode"),y=window.matchMedia("(prefers-color-scheme: dark)").matches,P=S==="enabled"||!S&&y;s(P),P?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const d=()=>{D(S=>!S),f&&$(null)},a=S=>{$(y=>y===S?null:S)},l=reactExports.useCallback(S=>{const y=["home","cours","revision-brevet","espace-eleve","espace-parents","blog","pedagogie","tarifs","mentions-legales","contact","about","lessons-6eme","exercises-6eme","automatismes-6eme","games-6eme","lesson-chapitre1","lessons-5eme","exercises-5eme","automatismes-5eme","games-5eme","lessons-4eme","exercises-4eme","automatismes-4eme","games-4eme","lessons-3eme","exercises-3eme","automatismes-3eme","games-3eme"];D(!1),$(null),S==="contact"?(o("home"),setTimeout(()=>{const P=document.getElementById("contact");P&&P.scrollIntoView({behavior:"smooth"})},100)):y.includes(S)?(o(S),window.scrollTo(0,0)):(console.warn(`Page invalide demandée: ${S}. Redirection vers l'accueil.`),o("home"),window.scrollTo(0,0))},[]),b=reactExports.useMemo(()=>[{label:"Accueil",page:"home",href:"#home"},{label:"A propos",page:"about",href:"#about"},{label:"6ème",key:"6eme",icon:"fas fa-book",isDropdown:!0,items:[{label:"Leçons",page:"lessons-6eme"},{label:"Exercices",page:"exercises-6eme"},{label:"Automatismes",page:"automatismes-6eme"},{label:"Jeux",page:"games-6eme"}]},{label:"5ème",key:"5eme",icon:"fas fa-book",isDropdown:!0,items:[{label:"Leçons",page:"lessons-5eme"},{label:"Exercices",page:"exercises-5eme"},{label:"Automatismes",page:"automatismes-5eme"},{label:"Jeux",page:"games-5eme"}]},{label:"4ème",key:"4eme",icon:"fas fa-book",isDropdown:!0,items:[{label:"Leçons",page:"lessons-4eme"},{label:"Exercices",page:"exercises-4eme"},{label:"Automatismes",page:"automatismes-4eme"},{label:"Jeux",page:"games-4eme"}]},{label:"3ème",key:"3eme",icon:"fas fa-book",isDropdown:!0,items:[{label:"Leçons",page:"lessons-3eme"},{label:"Exercices",page:"exercises-3eme"},{label:"Automatismes",page:"automatismes-3eme"},{label:"Jeux",page:"games-3eme"}]},{label:"Contact",page:"contact",href:"#contact",isContact:!0,onClick:y=>{y&&y.preventDefault(),l("contact")}}],[l]),h=(S,y)=>{y.isContact&&y.onClick?y.onClick(S):(S.preventDefault(),l(y.page))},u=()=>{const S=m.split("-")[1],y=S==="brevet"?"Brevet":S?`${S}ème`:"6ème";let P=chapters6eme,I=exercises6eme,j=games6eme;switch(m){case"home":return jsxRuntimeExports.jsx(HomePage,{setActivePage:l});case"about":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"A Propos"});case"cours":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Cours par Niveaux"});case"revision-brevet":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Révisions Brevet"});case"espace-eleve":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Espace Élève"});case"espace-parents":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Espace Parents"});case"blog":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Blog & Astuces"});case"pedagogie":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Notre Pédagogie"});case"tarifs":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Tarifs"});case"mentions-legales":return jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Mentions Légales"});case"lessons-6eme":return jsxRuntimeExports.jsx(LessonsPage,{level:"6ème",chapters:P,setActivePage:l});case"lesson-chapitre1":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(LessonDetailPage,{title:"Test Rendu LaTeX",subtitle:"Chapitre Test avec MathJax",contentHtml:testLessonContent,pdfPath:"/lessons/6eme/chapitre1.pdf"})," "]});case"exercises-6eme":return jsxRuntimeExports.jsx(ExercisesPage,{level:"6ème",chapterTitle:"Nombres et calculs",exercises:I});case"games-6eme":return jsxRuntimeExports.jsx(GamesPage,{level:"6ème",games:j});case"automatismes-6eme":return jsxRuntimeExports.jsx(AutomatismesPage,{level:"6ème"});case"lessons-5eme":case"lessons-4eme":case"lessons-3eme":return jsxRuntimeExports.jsx(LessonsPage,{level:y,chapters:chapters6eme,setActivePage:l});case"exercises-5eme":case"exercises-4eme":case"exercises-3eme":return jsxRuntimeExports.jsx(ExercisesPage,{level:y,chapterTitle:`Chapitre X ${y}`,exercises:exercises6eme});case"games-5eme":case"games-4eme":case"games-3eme":return jsxRuntimeExports.jsx(GamesPage,{level:y,games:games6eme});case"automatismes-5eme":case"automatismes-4eme":case"automatismes-3eme":return jsxRuntimeExports.jsx(AutomatismesPage,{level:y});default:return console.warn(`Page inconnue dans renderPage: ${m}. Affichage de l'accueil.`),jsxRuntimeExports.jsx(HomePage,{setActivePage:l})}},x={loader:{load:["[tex]/html"]},tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],packages:{"[+]":["html"]}},startup:{typeset:!1}};return jsxRuntimeExports.jsx(MathJaxContext,{config:x,children:jsxRuntimeExports.jsxs("div",{className:"bg-[#edecf9] dark:bg-gradient-to-br dark:from-gray-900 dark:to-black min-h-screen transition-colors duration-300 text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsx(Header,{setActivePage:l,currentPage:m,isMobileMenuOpen:f,toggleMobileMenu:d,navLinks:b}),jsxRuntimeExports.jsx(DarkModeToggle,{isDarkMode:v,toggleDarkMode:O}),jsxRuntimeExports.jsxs("div",{id:"mobile-menu",className:`lg:hidden fixed inset-0 bg-black/75 dark:bg-gray-950/75 backdrop-blur-md z-[1000] transition-transform duration-500 ease-in-out ${f?"translate-x-0":"translate-x-full"}`,"aria-hidden":!f,children:[jsxRuntimeExports.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-white text-3xl p-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-white rounded","aria-label":"Fermer le menu",children:"×"}),jsxRuntimeExports.jsx("ul",{className:"flex flex-col items-center justify-center h-full space-y-2 text-lg overflow-y-auto pb-16 pt-16 px-4",children:b.map(S=>jsxRuntimeExports.jsx("li",{className:"w-full text-center",children:S.isDropdown?jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("button",{onClick:()=>a(S.key),className:`relative w-full flex items-center justify-center py-3 px-4 rounded-md transition-colors duration-300 font-semibold ${m.startsWith(S.key)?"text-primary-light dark:text-primary-dark-light":"text-white hover:text-primary-light dark:hover:text-primary-dark-light hover:bg-white/10"} after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-1/4`,"aria-expanded":F===S.key,children:S.label}),jsxRuntimeExports.jsx("ul",{className:`pl-4 overflow-hidden transition-max-height duration-300 ease-in-out ${F===S.key?"max-h-96":"max-h-0"}`,children:S.items.map(y=>jsxRuntimeExports.jsx("li",{className:"mt-1",children:jsxRuntimeExports.jsx("a",{href:`#${y.page}`,onClick:P=>{P.preventDefault(),l(y.page)},className:`block py-2 px-4 rounded-md text-base transition-colors duration-300 ${m===y.page?"text-primary-light dark:text-primary-dark-light font-semibold bg-white/5":"text-gray-300 hover:text-primary-light dark:hover:text-primary-dark-light hover:bg-white/5"}`,"aria-current":m===y.page?"page":void 0,children:y.label})},y.page))})]}):jsxRuntimeExports.jsx("a",{href:S.href,onClick:y=>h(y,S),className:`relative flex items-center justify-center py-3 px-4 rounded-md transition-colors duration-300 ${m===S.page?"text-primary-light dark:text-primary-dark-light font-semibold":"text-white hover:text-primary-light dark:hover:text-primary-dark-light hover:bg-white/10"} after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:h-0.5 after:w-0 after:bg-current after:transition-all after:duration-300 hover:after:w-1/4`,"aria-current":m===S.page?"page":void 0,children:S.label})},S.page||S.label))})]}),jsxRuntimeExports.jsx("main",{className:"pt-[70px] lg:pt-[80px] min-h-[calc(100vh-150px)]",children:u()},m),jsxRuntimeExports.jsx(Footer,{setActivePage:l}),jsxRuntimeExports.jsx(BackToTopButton,{})]})})}const rootElement=document.getElementById("root"),root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
